/*!
 * jQuery JavaScript Library v2.1.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:11Z
 */
function validElementString(e){try{return 0!==angular.element(e).length}catch(t){return!1}}function registerTextAngularTool(e,t){if(!e||""===e||taTools.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!validElementString(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';taTools[e]=t}/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Q.type(e);return"function"===n||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return V.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=ht[e]={};return Q.each(e.match(ft)||[],function(e,n){t[n]=!0}),t}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace($t,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?Q.parseJSON(n):n}catch(i){}yt.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return Z.activeElement}catch(e){}}function p(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function g(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),a=vt.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)Q.event.add(t,i,u[i][n])}yt.hasData(e)&&(s=yt.access(e),l=Q.extend({},s),yt.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&xt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function $(e){var t=Z,n=Ft[e];return n||(n=b(e,t),"none"!==n&&n||(jt=(jt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=jt[0].contentDocument,t.write(),t.close(),n=b(e,t),jt.detach()),Ft[e]=n),n}function w(e,t,n){var r,i,o,a,s=e.style;return n=n||qt(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),Wt.test(a)&&Bt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function E(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Yt.length;i--;)if(t=Yt[i]+n,t in e)return t;return r}function x(e,t,n){var r=Gt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(e,n+Et[o],!0,i)),r?("content"===n&&(a-=Q.css(e,"padding"+Et[o],!0,i)),"margin"!==n&&(a-=Q.css(e,"border"+Et[o]+"Width",!0,i))):(a+=Q.css(e,"padding"+Et[o],!0,i),"padding"!==n&&(a+=Q.css(e,"border"+Et[o]+"Width",!0,i)));return a}function k(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=qt(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),Wt.test(i))return i;r=a&&(X.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(a?"border":"content"),r,o)+"px"}function T(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=vt.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&_t(r)&&(o[a]=vt.access(r,"olddisplay",$(r.nodeName)))):(i=_t(r),"none"===n&&i||vt.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function S(e,t,n,r,i){return new S.prototype.init(e,t,n,r,i)}function M(){return setTimeout(function(){Xt=void 0}),Xt=Q.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Et[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function N(e,t,n){for(var r,i=(nn[t]||[]).concat(nn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function O(e,t,n){var r,i,o,a,s,l,u,c,d=this,p={},f=e.style,h=e.nodeType&&_t(e),m=vt.get(e,"fxshow");n.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=Q.css(e,"display"),c="none"===u?vt.get(e,"olddisplay")||$(e.nodeName):u,"inline"===c&&"none"===Q.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Jt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}p[r]=m&&m[r]||Q.style(e,r)}else u=void 0;if(Q.isEmptyObject(p))"inline"===("none"===u?$(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(h=m.hidden):m=vt.access(e,"fxshow",{}),o&&(m.hidden=!h),h?Q(e).show():d.done(function(){Q(e).hide()}),d.done(function(){var t;vt.remove(e,"fxshow");for(t in p)Q.style(e,t,p[t])});for(r in p)a=N(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function D(e,t){var n,r,i,o,a;for(n in e)if(r=Q.camelCase(n),i=t[r],o=e[n],Q.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Q.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function I(e,t,n){var r,i,o=0,a=tn.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Xt||M(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xt||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(D(c,u.opts.specialEasing);a>o;o++)if(r=tn[o].call(u,e,c,u.opts))return r;return Q.map(c,N,u),Q.isFunction(u.opts.start)&&u.opts.start.call(e,u),Q.fx.timer(Q.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ft)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return o[s]=!0,Q.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===En;return i(t.dataTypes[0])||!o["*"]&&i("*")}function L(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Q.extend(!0,e,r),e}function H(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function j(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function F(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||kn.test(e)?r(e,i):F(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)F(e+"["+i+"]",t[i],n,r)}function B(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W=[],q=W.slice,U=W.concat,G=W.push,V=W.indexOf,z={},K=z.toString,Y=z.hasOwnProperty,X={},Z=e.document,J="2.1.1",Q=function(e,t){return new Q.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:W.sort,splice:W.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[t]=Q.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?z[K.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return U.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(r=q.call(arguments,2),i=function(){return e.apply(t||this,r.concat(q.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:X}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()});var it=/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */
function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,f,h,m;if((t?t.ownerDocument||t:F)!==O&&N(t),t=t||O,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(I&&!r){if(i=yt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&H(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!P||!P.test(e))){if(f=d=j,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=C(e),(d=t.getAttribute("id"))?f=d.replace($t,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+p(u[l]);h=bt.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Q.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return T(e.replace(lt,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>E.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[j]=!0,e}function i(e){var t=O.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)E.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==z&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[B,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[j]||(t[j]={}),(s=l[r])&&s[0]===B&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[j]&&(i=v(i)),o&&!o[j]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,p=[],f=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,p,e,s,l),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,f),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?tt.call(r,d):p[c])>-1&&(r[u]=!(a[u]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return tt.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==S)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=E.relative[e[s].type])c=[f(h(c),n)];else{if(n=E.filter[e[s].type].apply(null,e[s].matches),n[j]){for(r=++s;i>r&&!E.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,p,f=0,h="0",m=r&&[],v=[],y=S,b=r||o&&E.find.TAG("*",u),$=B+=null==y?1:Math.random()||.1,w=b.length;for(u&&(S=a!==O&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;p=e[d++];)if(p(c,a,s)){l.push(c);break}u&&(B=$)}i&&((c=!p&&c)&&f--,r&&m.push(c))}if(f+=h,i&&h!==f){for(d=0;p=n[d++];)p(m,v,a,s);if(r){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Z.call(l));v=g(v)}Q.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(B=$,S=y),m};return i?r(a):a}var $,w,E,_,x,C,k,T,S,M,A,N,O,D,I,P,R,L,H,j="sizzle"+-new Date,F=e.document,B=0,W=0,q=n(),U=n(),G=n(),V=function(e,t){return e===t&&(A=!0),0},z="undefined",K=1<<31,Y={}.hasOwnProperty,X=[],Z=X.pop,J=X.push,Q=X.push,et=X.slice,tt=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),at="\\["+rt+"*("+it+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+rt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",lt=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ut=new RegExp("^"+rt+"*,"+rt+"*"),ct=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),dt=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),pt=new RegExp(st),ft=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,$t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Et=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(X=et.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(_t){Q={apply:X.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:F,r=n.defaultView;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,D=n.documentElement,I=!x(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){N()},!1):r.attachEvent&&r.attachEvent("onunload",function(){N()})),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=i(function(e){return D.appendChild(e).id=j,!n.getElementsByName||!n.getElementsByName(j).length}),w.getById?(E.find.ID=function(e,t){if(typeof t.getElementById!==z&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(e){var t=e.replace(wt,Et);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(wt,Et);return function(e){var n=typeof e.getAttributeNode!==z&&e.getAttributeNode("id");return n&&n.value===t}}),E.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==z?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==z&&I?t.getElementsByClassName(e):void 0},R=[],P=[],(w.qsa=vt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&P.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=vt.test(L=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){w.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),R.push("!=",st)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),t=vt.test(D.compareDocumentPosition),H=t||vt.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===F&&H(F,e)?-1:t===n||t.ownerDocument===F&&H(F,t)?1:M?tt.call(M,e)-tt.call(M,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:M?tt.call(M,e)-tt.call(M,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===F?-1:u[i]===F?1:0},n):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&N(e),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!I||R&&R.test(n)||P&&P.test(n)))try{var r=L.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&N(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&N(e);var n=E.attrHandle[t.toLowerCase()],r=n&&Y.call(E.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:w.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,M=!w.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return M=null,e},_=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=_(t);return n},E=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Et),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Et).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==z&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[j]||(g[j]={}),u=c[e]||[],f=u[0]===B&&u[1],p=u[0]===B&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[B,f,p];break}}else if(y&&(u=(t[j]||(t[j]={}))[e])&&u[0]===B)p=u[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[j]||(d[j]={}))[e]=[B,p]),d!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(n):o.length>1?(i=[e,e,"",n],E.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=tt.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(lt,"$1"));return i[j]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:r(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Et).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},E.pseudos.nth=E.pseudos.eq;for($ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[$]=s($);for($ in{submit:!0,reset:!0})E.pseudos[$]=l($);return d.prototype=E.filters=E.pseudos,E.setFilters=new d,C=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=U[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=E.preFilter;s;){(!r||(i=ut.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),s=s.slice(r.length));for(a in E.filter)!(i=ht[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=G[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=y(t[n]),o[j]?r.push(o):i.push(o);o=G(e,b(i,r)),o.selector=e}return o},T=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&C(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&I&&E.relative[o[1].type]){if(t=(E.find.ID(a.matches[0].replace(wt,Et),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((l=E.find[s])&&(r=l(a.matches[0].replace(wt,Et),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return Q.apply(n,r),n;break}}return(u||k(e,d))(r,t,!I,n,bt.test(e)&&c(t.parentNode)||t),n},w.sortStable=j.split("").sort(V).join("")===j,w.detectDuplicates=!!A,N(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=it,Q.expr=it.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=it.uniqueSort,Q.text=it.getText,Q.isXMLDoc=it.isXML,Q.contains=it.contains;var ot=Q.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,i[t],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?Q(e):e||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ut.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||lt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),at.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof lt.ready?lt.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ct.prototype=Q.fn,lt=Q(Z);var dt=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ot.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?V.call(Q(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(pt[e]||Q.unique(i),dt.test(e)&&i.reverse()),this.pushStack(i)}});var ft=/\S+/g,ht={};Q.Callbacks=function(e){e="string"==typeof e?ht[e]||o(e):Q.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function o(t){Q.each(t,function(t,n){var r=Q.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:t&&(i=n,c(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=q.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,l=1===s?e:Q.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?q.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var mt;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(mt.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(t){return mt||(mt=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),mt.promise(t)},Q.ready.promise();var gt=Q.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Q(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?r=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(ft)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new s,yt=new s,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/([A-Z])/g;Q.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),l(o,r,i[r])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){yt.set(this,e)}):gt(this,function(t){var n,r=Q.camelCase(e);if(o&&void 0===t){if(n=yt.get(o,e),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=vt.get(e,t),n&&(!r||Q.isArray(n)?r=vt.access(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:Q.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=vt.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],_t=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},xt=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";X.focusinBubbles="onfocusin"in e;var kt=/^key/,Tt=/^(?:mouse|pointer|contextmenu)|click/,St=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,h,m,g=vt.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Q!==Ct&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ft)||[""],u=t.length;u--;)s=Mt.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=Q.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=Q.event.special[f]||{},c=Q.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Q.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,h,m,g=vt.hasData(e)&&vt.get(e);if(g&&(l=g.events)){for(t=(t||"").match(ft)||[""],u=t.length;u--;)if(s=Mt.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=Q.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||Q.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)Q.event.remove(e,f+t[u],n,r,!0);Q.isEmptyObject(l)&&(delete g.handle,vt.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,p=[r||Z],f=Y.call(t,"type")?t.type:t,h=Y.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!St.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[Q.expando]?t:new Q.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Q.makeArray(n,[t]),d=Q.event.special[f]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!Q.isWindow(r)){for(l=d.delegateType||f,St.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;
s===(r.ownerDocument||Z)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||f,c=(vt.get(a,"events")||{})[t.type]&&vt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Q.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Q.acceptData(r)||u&&Q.isFunction(r[f])&&!Q.isWindow(r)&&(s=r[u],s&&(r[u]=null),Q.event.triggered=f,r[f](),Q.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,o,a=[],s=q.call(arguments),l=(vt.get(this,"events")||{})[e.type]||[],u=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(l)>=0:Q.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Tt.test(i)?this.mouseHooks:kt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,t);i||r.addEventListener(e,n,!0),vt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,t)-1;i?vt.access(r,t,i):(r.removeEventListener(e,n,!0),vt.remove(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Q().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Nt=/<([\w:]+)/,Ot=/<|&#?\w+;/,Dt=/<(?:script|style|link)/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^$|\/(?:java|ecma)script/i,Rt=/^true\/(.*)/,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ht.optgroup=Ht.option,Ht.tbody=Ht.tfoot=Ht.colgroup=Ht.caption=Ht.thead,Ht.th=Ht.td,Q.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)g(o[r],a[r]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c=t.createDocumentFragment(),d=[],p=0,f=e.length;f>p;p++)if(i=e[p],i||0===i)if("object"===Q.type(i))Q.merge(d,i.nodeType?[i]:i);else if(Ot.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Nt.exec(i)||["",""])[1].toLowerCase(),s=Ht[a]||Ht._default,o.innerHTML=s[1]+i.replace(At,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",p=0;i=d[p++];)if((!r||-1===Q.inArray(i,r))&&(l=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&m(o),n))for(u=0;i=o[u++];)Pt.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Q.event.special,a=0;void 0!==(n=e[a]);a++){if(Q.acceptData(n)&&(i=n[vt.expando],i&&(t=vt.cache[i]))){if(t.events)for(r in t.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,t.handle);vt.cache[i]&&delete vt.cache[i]}delete yt.cache[n[yt.expando]]}}}),Q.fn.extend({text:function(e){return gt(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return gt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Dt.test(e)&&!Ht[(Nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(At,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=U.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,p=e[0],m=Q.isFunction(p);if(m||u>1&&"string"==typeof p&&!X.checkClone&&It.test(p))return this.each(function(n){var r=c.eq(n);m&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(u&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),f),o=i.length;u>l;l++)a=n,l!==d&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,h),l=0;o>l;l++)a=i[l],Pt.test(a.type||"")&&!vt.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Lt,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=[],i=Q(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[t](n),G.apply(r,n.get());return this.pushStack(r)}});var jt,Ft={},Bt=/^margin/,Wt=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),qt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Q.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),t}}))}(),Q.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var Ut=/^(none|table(?!-c[ea]).+)/,Gt=new RegExp("^("+wt+")(.*)$","i"),Vt=new RegExp("^([+-])=("+wt+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q.camelCase(t),l=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=_(l,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=Vt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=_(e.style,s)),a=Q.cssHooks[t]||Q.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Kt&&(i=Kt[t]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?Ut.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,zt,function(){return k(e,t,r)}):k(e,t,r):void 0},set:function(e,n,r){var i=r&&qt(e);return x(e,n,r?C(e,t,r,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=E(X.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Et[r]+t]=o[r]||o[r-2]||o[0];return i}},Bt.test(e)||(Q.cssHooks[e+t].set=x)}),Q.fn.extend({css:function(e,t){return gt(this,function(e,t,n){var r,i,o={},a=0;if(Q.isArray(t)){for(r=qt(e),i=t.length;i>a;a++)o[t[a]]=Q.css(e,t[a],!1,r);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_t(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=S,S.prototype={constructor:S,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=S.propHooks[this.prop];return e&&e.get?e.get(this):S.propHooks._default.get(this)},run:function(e){var t,n=S.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=S.prototype.init,Q.fx.step={};var Xt,Zt,Jt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[O],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Qt.exec(t),o=i&&i[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+r)&&Qt.exec(Q.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,Q.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(I,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(_t).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),o=Q.speed(t,n,r),a=function(){var t=I(this,Q.extend({},e),o);(i||vt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Q.timers,a=vt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&en.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Xt=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Xt=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Zt||(Zt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Zt),Zt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var rn,on,an=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return gt(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ct?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Q.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ft);if(o&&1===e.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=an[t]||Q.find.attr;an[t]=function(e,t,r){var i,o;return r||(o=an[t],an[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,an[t]=o),i}});var sn=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return gt(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||sn.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var ln=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ft)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ft)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Q(this),o=e.match(ft)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ln," ").indexOf(t)>=0)return!0;return!1}});var un=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Q(this).val()):e,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(un,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Q.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},X.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=Q.now(),dn=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var pn,fn,hn=/#.*$/,mn=/([?&])_=[^&]*/,gn=/^(.*?):[ \t]*([^\r\n]*)$/gm,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,bn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wn={},En={},_n="*/".concat("*");try{fn=location.href}catch(xn){fn=Z.createElement("a"),fn.href="",fn=fn.href}pn=$n.exec(fn.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fn,type:"GET",isLocal:vn.test(pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_n,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,Q.ajaxSettings),t):L(Q.ajaxSettings,e)},ajaxPrefilter:P(wn),ajaxTransport:P(En),ajax:function(e,t){function n(e,t,n,a){var l,c,v,y,$,E=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=H(d,w,n)),y=j(d,y,w,l),l?(d.ifModified&&($=w.getResponseHeader("Last-Modified"),$&&(Q.lastModified[i]=$),$=w.getResponseHeader("etag"),$&&(Q.etag[i]=$)),204===e||"HEAD"===d.type?E="nocontent":304===e?E="notmodified":(E=y.state,c=y.data,v=y.error,l=!v)):(v=E,(e||!E)&&(E="error",0>e&&(e=0))),w.status=e,w.statusText=(t||E)+"",l?h.resolveWith(p,[c,E,w]):h.rejectWith(p,[w,E,v]),w.statusCode(g),g=void 0,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,d,l?c:v]),m.fireWith(p,[w,E]),u&&(f.trigger("ajaxComplete",[w,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,d=Q.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?Q(p):Q.event,h=Q.Deferred(),m=Q.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,$="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=gn.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||$;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||fn)+"").replace(hn,"").replace(bn,pn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(ft)||[""],null==d.crossDomain&&(l=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===pn[1]&&l[2]===pn[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(pn[3]||("http:"===pn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),R(wn,d,t,w),2===b)return w;u=d.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!yn.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(dn.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=mn.test(i)?i.replace(mn,"$1_="+cn++):i+(dn.test(i)?"&":"?")+"_="+cn++)),d.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+_n+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)w.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===b))return w.abort();$="abort";for(c in{success:1,error:1,complete:1})w[c](d[c]);if(r=R(En,d,t,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,r.send(v,n)}catch(E){if(!(2>b))throw E;n(-1,E)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Cn=/%20/g,kn=/\[\]$/,Tn=/\r?\n/g,Sn=/^(?:submit|button|image|reset|file)$/i,Mn=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)
});else for(n in e)F(n,e[n],t,i);return r.join("&").replace(Cn,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Mn.test(this.nodeName)&&!Sn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var An=0,Nn={},On={0:200,1223:204},Dn=Q.ajaxSettings.xhr();e.ActiveXObject&&Q(e).on("unload",function(){for(var e in Nn)Nn[e]()}),X.cors=!!Dn&&"withCredentials"in Dn,X.ajax=Dn=!!Dn,Q.ajaxTransport(function(e){var t;return X.cors||Dn&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++An;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Nn[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(On[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Nn[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var In=[],Pn=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=In.pop()||Q.expando+"_"+cn++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Pn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Pn,"$1"+i):t.jsonp!==!1&&(t.url+=(dn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,In.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var r=at.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Rn=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Rn)return Rn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Ln=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=Q.css(e,"position"),d=Q(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Q.contains(t,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=B(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Q.css(n,"marginTop",!0),left:t.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ln;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Ln})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Q.fn[t]=function(i){return gt(this,function(t,i,o){var a=B(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=E(X.pixelPosition,function(e,n){return n?(n=w(e,t),Wt.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return gt(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,a):Q.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Hn=e.jQuery,jn=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=jn),t&&e.jQuery===Q&&(e.jQuery=Hn),Q},typeof t===Ct&&(e.jQuery=e.$=Q),Q}),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=arguments[0],o="["+(e?e+":":"")+i+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<s.length?pt(s[t+2]):e}),n=n+"\nhttp://errors.angularjs.org/1.3.17/"+(e?e+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(pt(arguments[r]));return new t(n)}}function i(e){if(null==e||C(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===bi&&t?!0:$(e)||pi(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var r,a;if(e)if(_(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(pi(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);return e}function a(e){return Object.keys(e).sort()}function s(e,t,n){for(var r=a(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function l(e){return function(t,n){e(n,t)}}function u(){return++ci}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){for(var t=e.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;s>a;a++){var l=o[a];e[l]=i[l]}}return c(e,t),e}function p(e){return parseInt(e,10)}function f(e,t){return d(Object.create(e),t)}function h(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function $(e){return"string"==typeof e}function w(e){return"number"==typeof e}function E(e){return"[object Date]"===si.call(e)}function _(e){return"function"==typeof e}function x(e){return"[object RegExp]"===si.call(e)}function C(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===si.call(e)}function S(e){return"[object FormData]"===si.call(e)}function M(e){return"[object Blob]"===si.call(e)}function A(e){return"boolean"==typeof e}function N(e){return e&&_(e.then)}function O(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function D(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function I(e){return Yr(e.nodeName||e[0]&&e[0].nodeName)}function P(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function R(e,t,n,r){if(C(e)||k(e))throw li("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw li("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],b(e)){var i=n.indexOf(e);if(-1!==i)return r[i];n.push(e),r.push(t)}var a;if(pi(e)){t.length=0;for(var s=0;s<e.length;s++)a=R(e[s],null,n,r),b(e[s])&&(n.push(e[s]),r.push(a)),t.push(a)}else{var l=t.$$hashKey;pi(t)?t.length=0:o(t,function(e,n){delete t[n]});for(var u in e)e.hasOwnProperty(u)&&(a=R(e[u],null,n,r),b(e[u])&&(n.push(e[u]),r.push(a)),t[u]=a);c(t,l)}}else if(t=e,e)if(pi(e))t=R(e,[],n,r);else if(E(e))t=new Date(e.getTime());else if(x(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(b(e)){var d=Object.create(Object.getPrototypeOf(e));t=R(e,d,n,r)}return t}function L(e,t){if(pi(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function H(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!pi(e)){if(E(e))return E(t)?H(e.getTime(),t.getTime()):!1;if(x(e))return x(t)?e.toString()==t.toString():!1;if(k(e)||k(t)||C(e)||C(t)||pi(t)||E(t)||x(t))return!1;o={};for(i in e)if("$"!==i.charAt(0)&&!_(e[i])){if(!H(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!_(t[i]))return!1;return!0}if(!pi(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!H(e[i],t[i]))return!1;return!0}}return!1}function j(e,t,n){return e.concat(ii.call(t,n))}function F(e,t){return ii.call(e,t||0)}function B(e,t){var n=arguments.length>2?F(arguments,2):[];return!_(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,j(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function W(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:C(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":k(r)&&(i="$SCOPE"),i}function q(e,t){return"undefined"==typeof e?n:(w(t)||(t=t?2:null),JSON.stringify(e,W,t))}function U(e){return $(e)?JSON.parse(e):e}function G(e){e=ti(e).clone();try{e.empty()}catch(t){}var n=ti("<div>").append(e).html();try{return e[0].nodeType===wi?Yr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Yr(t)})}catch(t){return Yr(n)}}function V(e){try{return decodeURIComponent(e)}catch(t){}}function z(e){var t,n,r={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=V(t[0]),y(n))){var i=y(t[1])?V(t[1]):!0;Xr.call(r,n)?pi(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function K(e){var t=[];return o(e,function(e,n){pi(e)?o(e,function(e){t.push(X(n,!0)+(e===!0?"":"="+X(e,!0)))}):t.push(X(n,!0)+(e===!0?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function Y(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,r,i=gi.length;for(e=ti(e),r=0;i>r;++r)if(n=gi[r]+t,$(n=e.attr(n)))return n;return null}function J(e,t){var n,r,i={};o(gi,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(gi,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==Z(n,"strict-di"),t(n,r?[r]:[],i))}function Q(n,r,i){b(i)||(i={});var a={strictDi:!1};i=d(a,i);var s=function(){if(n=ti(n),n.injector()){var e=n[0]===t?"document":G(n);throw li("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Ut(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!u.test(e.name)?s():(e.name=e.name.replace(u,""),ui.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(_(ui.resumeDeferredBootstrap)&&ui.resumeDeferredBootstrap()))}function et(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function tt(e){var t=ui.element(e).injector();if(!t)throw li("test","no injector found for element argument to getTestability");return t.get("$$testability")}function nt(e,t){return t=t||"_",e.replace(vi,function(e,n){return(n?t:"")+e.toLowerCase()})}function rt(){var t;yi||(ni=e.jQuery,ni&&ni.fn.on?(ti=ni,d(ni.fn,{scope:ji.scope,isolateScope:ji.isolateScope,controller:ji.controller,injector:ji.injector,inheritedData:ji.inheritedData}),t=ni.cleanData,ni.cleanData=function(e){var n;if(di)di=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=ni._data(r,"events"),n&&n.$destroy&&ni(r).triggerHandler("$destroy");t(e)}):ti=$t,ui.element=ti,yi=!0)}function it(e,t,n){if(!e)throw li("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ot(e,t,n){return n&&pi(e)&&(e=e[e.length-1]),it(_(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function at(e,t){if("hasOwnProperty"===e)throw li("badname","hasOwnProperty is not a valid {0} name",t)}function st(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&_(e)?B(o,e):e}function lt(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return ti(r)}function ut(){return Object.create(null)}function ct(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),u}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=[],l=e("$injector","invoke","push",i),u={_invokeQueue:t,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return s.push(e),this}};return a&&l(a),u})}})}function dt(e){var t=[];return JSON.stringify(e,function(e,n){if(n=W(e,n),b(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function pt(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?dt(e):e}function ft(t){d(t,{bootstrap:Q,copy:R,extend:d,equals:H,element:ti,forEach:o,injector:Ut,noop:h,bind:B,toJson:q,fromJson:U,identity:m,isUndefined:v,isDefined:y,isString:$,isFunction:_,isObject:b,isNumber:w,isElement:O,isArray:pi,version:Ci,isDate:E,lowercase:Yr,uppercase:Zr,callbacks:{counter:0},getTestability:tt,$$minErr:r,$$csp:mi,reloadWithDebugInfo:et}),ri=ct(e);try{ri("ngLocale")}catch(n){ri("ngLocale",[]).provider("$locale",vn)}ri("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Yn}),e.provider("$compile",Zt).directive({a:Oo,input:Yo,textarea:Yo,form:Lo,script:Ha,select:Ba,style:qa,option:Wa,ngBind:Jo,ngBindHtml:ea,ngBindTemplate:Qo,ngClass:na,ngClassEven:ia,ngClassOdd:ra,ngCloak:oa,ngController:aa,ngForm:Ho,ngHide:Oa,ngIf:ua,ngInclude:ca,ngInit:pa,ngNonBindable:ka,ngPluralize:Ta,ngRepeat:Sa,ngShow:Na,ngStyle:Da,ngSwitch:Ia,ngSwitchWhen:Pa,ngSwitchDefault:Ra,ngOptions:Fa,ngTransclude:La,ngModel:_a,ngList:fa,ngChange:ta,pattern:Ga,ngPattern:Ga,required:Ua,ngRequired:Ua,minlength:za,ngMinlength:za,maxlength:Va,ngMaxlength:Va,ngValue:Zo,ngModelOptions:Ca}).directive({ngInclude:da}).directive(Do).directive(sa),e.provider({$anchorScroll:Gt,$animate:Yi,$browser:Kt,$cacheFactory:Yt,$controller:tn,$document:nn,$exceptionHandler:rn,$filter:sr,$interpolate:mn,$interval:gn,$http:dn,$httpBackend:fn,$location:Nn,$log:On,$parse:qn,$rootScope:Kn,$q:Un,$$q:Gn,$sce:Qn,$sceDelegate:Jn,$sniffer:er,$templateCache:Xt,$templateRequest:tr,$$testability:nr,$timeout:rr,$window:ar,$$rAF:zn,$$asyncCallback:Vt,$$jqLite:jt})}])}function ht(){return++Ti}function mt(e){return e.replace(Ai,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Ni,"Moz$1")}function gt(e){return!Pi.test(e)}function vt(e){var t=e.nodeType;return t===bi||!t||t===_i}function yt(e,t){var n,r,i,a,s=t.createDocumentFragment(),l=[];if(gt(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(Ri.exec(e)||["",""])[1].toLowerCase(),i=Hi[r]||Hi._default,n.innerHTML=i[1]+e.replace(Li,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=j(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(e){s.appendChild(e)}),s}function bt(e,n){n=n||t;var r;return(r=Ii.exec(e))?[n.createElement(r[1])]:(r=yt(e,n))?r.childNodes:[]}function $t(e){if(e instanceof $t)return e;var t;if($(e)&&(e=fi(e),t=!0),!(this instanceof $t)){if(t&&"<"!=e.charAt(0))throw Di("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new $t(e)}t?At(this,bt(e)):At(this,e)}function wt(e){return e.cloneNode(!0)}function Et(e,t){if(t||xt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)xt(n[r])}function _t(e,t,n,r){if(y(r))throw Di("offargs","jqLite#off() does not support the `selector` argument");var i=Ct(e),a=i&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(y(n)){var r=a[t];if(P(r||[],n),r&&r.length>0)return}Mi(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&Mi(e,t,s),delete a[t]}function xt(e,t){var r=e.ng339,i=r&&ki[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),_t(e)),delete ki[r],e.ng339=n}}function Ct(e,t){var r=e.ng339,i=r&&ki[r];return t&&!i&&(e.ng339=r=ht(),i=ki[r]={events:{},data:{},handle:n}),i}function kt(e,t,n){if(vt(e)){var r=y(n),i=!r&&t&&!b(t),o=!t,a=Ct(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];d(s,t)}}}function Tt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function St(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",fi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fi(t)+" "," ")))})}function Mt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=fi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",fi(n))}}function At(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Nt(e,t){return Ot(e,"$"+(t||"ngController")+"Controller")}function Ot(e,t,r){e.nodeType==_i&&(e=e.documentElement);for(var i=pi(t)?t:[t];e;){for(var o=0,a=i.length;a>o;o++)if((r=ti.data(e,i[o]))!==n)return r;e=e.parentNode||e.nodeType===xi&&e.host}}function Dt(e){for(Et(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function It(e,t){t||Et(e);var n=e.parentNode;n&&n.removeChild(e)}function Pt(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):ti(n).on("load",t)}function Rt(e,t){var n=Fi[t.toLowerCase()];return n&&Bi[I(e)]&&n}function Lt(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Wi[t]}function Ht(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=L(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function jt(){this.$get=function(){return d($t,{hasClass:function(e,t){return e.attr&&(e=e[0]),Tt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Mt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),St(e,t)}})}}function Ft(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||u)():r+":"+e}function Bt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Wt(e){var t=e.toString().replace(Vi,""),n=t.match(qi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function qt(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw $(n)&&n||(n=e.name||Wt(e)),zi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Vi,""),a=i.match(qi),o(a[1].split(Ui),function(e){e.replace(Gi,function(e,t,n){r.push(n)})})}e.$inject=r}}else pi(e)?(s=e.length-1,ot(e[s],"fn"),r=e.slice(0,s)):ot(e,"fn",!0);return r}function Ut(e,t){function r(e){return function(t,n){return b(t)?void o(t,l(e)):e(t,n)}}function i(e,t){if(at(e,"service"),(_(t)||pi(t))&&(t=k.instantiate(t)),!t.$get)throw zi("pget","Provider '{0}' must define $get factory method.",e);return C[e+w]=t}function a(e,t){return function(){var n=S.invoke(t,this);if(v(n))throw zi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function u(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,g(t),!1)}function d(e,t){at(e,"constant"),C[e]=t,T[e]=t}function p(e,t){var n=k.get(e+w),r=n.$get;n.$get=function(){var e=S.invoke(r,n);return S.invoke(t,null,{$delegate:e})}}function f(e){var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=k.get(r[0]);i[r[1]].apply(i,r[2])}}if(!x.get(e)){x.put(e,!0);try{$(e)?(t=ri(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):_(e)?n.push(k.invoke(e)):pi(e)?n.push(k.invoke(e)):ot(e,"module")}catch(i){throw pi(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),zi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function m(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===y)throw zi("cdep","Circular dependency found: {0}",t+" <- "+E.join(" <- "));return e[t]}try{return E.unshift(t),e[t]=y,e[t]=n(t,r)}catch(i){throw e[t]===y&&delete e[t],i}finally{E.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,l,u=[],c=Ut.$$annotate(e,t,o);for(s=0,a=c.length;a>s;s++){if(l=c[s],"string"!=typeof l)throw zi("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}return pi(e)&&(e=e[a]),e.apply(n,u)}function o(e,t,n){var r=Object.create((pi(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return b(o)||_(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Ut.$$annotate,has:function(t){return C.hasOwnProperty(t+w)||e.hasOwnProperty(t)}}}t=t===!0;var y={},w="Provider",E=[],x=new Bt([],!0),C={$provide:{provider:r(i),factory:r(s),service:r(u),value:r(c),constant:r(d),decorator:p}},k=C.$injector=m(C,function(e,t){throw ui.isString(t)&&E.push(t),zi("unpr","Unknown provider: {0}",E.join(" <- "))}),T={},S=T.$injector=m(T,function(e,t){var r=k.get(e+w,t);return S.invoke(r.$get,r,n,e)});return o(f(e),function(e){S.invoke(e||h)}),S}function Gt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===I(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(_(e))e=e();else if(O(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=l.getElementById(t))?a(e):(e=i(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Pt(function(){r.$evalAsync(s)})}),s}]}function Vt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function zt(e,t,r,i){function a(e){try{e.apply(null,F(arguments,1))}finally{if(x--,0===x)for(;C.length;)try{C.pop()()}catch(t){r.error(t)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function l(e,t){!function n(){o(T,function(e){e()}),k=t(n,e)}()}function u(){d(),p()}function c(){try{return b.state}catch(e){}}function d(){S=c(),S=v(S)?null:S,H(S,P)&&(S=P),P=S}function p(){(A!==m.url()||M!==S)&&(A=m.url(),M=S,o(D,function(e){e(m.url(),S)}))}function f(e){try{return decodeURIComponent(e)}catch(t){return e}}var m=this,g=t[0],y=e.location,b=e.history,w=e.setTimeout,E=e.clearTimeout,_={};m.isMock=!1;var x=0,C=[];m.$$completeOutstandingRequest=a,m.$$incOutstandingRequestCount=function(){x++},m.notifyWhenNoOutstandingRequests=function(e){o(T,function(e){e()}),0===x?e():C.push(e)};var k,T=[];m.addPollFn=function(e){return v(k)&&l(100,w),T.push(e),e};var S,M,A=y.href,N=t.find("base"),O=null;d(),M=S,m.url=function(t,n,r){if(v(r)&&(r=null),y!==e.location&&(y=e.location),b!==e.history&&(b=e.history),t){var o=M===r;if(A===t&&(!i.history||o))return m;var a=A&&En(A)===En(t);return A=t,M=r,!i.history||a&&o?((!a||O)&&(O=t),n?y.replace(t):a?y.hash=s(t):y.href=t):(b[n?"replaceState":"pushState"](r,"",t),d(),M=S),m}return O||y.href.replace(/%27/g,"'")},m.state=function(){return S};var D=[],I=!1,P=null;m.onUrlChange=function(t){return I||(i.history&&ti(e).on("popstate",u),ti(e).on("hashchange",u),I=!0),D.push(t),t},m.$$checkUrlChange=p,m.baseHref=function(){var e=N.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var R={},L="",j=m.baseHref();m.cookies=function(e,t){var i,o,a,s,l;if(!e){if(g.cookie!==L)for(L=g.cookie,o=L.split("; "),R={},s=0;s<o.length;s++)a=o[s],l=a.indexOf("="),l>0&&(e=f(a.substring(0,l)),R[e]===n&&(R[e]=f(a.substring(l+1))));return R}t===n?g.cookie=encodeURIComponent(e)+"=;path="+j+";expires=Thu, 01 Jan 1970 00:00:00 GMT":$(t)&&(i=(g.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+j).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},m.defer=function(e,t){var n;return x++,n=w(function(){delete _[n],a(e)},t||0),_[n]=!0,n},m.defer.cancel=function(e){return _[e]?(delete _[e],E(e),a(h),!0):!1}}function Kt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new zt(e,r,t,n)}]}function Yt(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},p=null,f=null;return t[e]={put:function(e,t){if(u<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}if(!v(t))return e in l||a++,l[e]=t,a>u&&this.remove(f.key),t},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete c[e]}delete l[e],a--},removeAll:function(){l={},a=0,c={},p=f=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Xt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Zt(e,r){function i(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(e,function(e,i){var o=e.match(n);if(!o)throw Xi("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}}),r}function a(e){var t=e.charAt(0);if(!t||t!==Yr(t))throw Xi("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);return e}var s={},u="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,p=/(([\w\-]+)(?:\:([^;]+))?;?)/,v=D("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/;this.directive=function C(t,n){return at(t,"directive"),$(t)?(a(t),it(n,"directiveFactory"),s.hasOwnProperty(t)||(s[t]=[],e.factory(t+u,["$injector","$exceptionHandler",function(e,n){var r=[];return o(s[t],function(o,a){try{var s=e.invoke(o);_(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",b(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(l){n(l)}}),r}])),s[t].push(n)):o(t,l(C)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return y(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,a,l,g,y,C,T,S,M){function A(e,t){try{e.addClass(t)}catch(n){}}function N(e,t,n,r,i){e instanceof ti||(e=ti(e)),o(e,function(t,n){t.nodeType==wi&&t.nodeValue.match(/\S+/)&&(e[n]=ti(t).wrap("<span></span>").parent()[0])});var a=D(e,t,e,n,r,i);N.$$addScopeClass(e);var s=null;return function(t,n,r){it(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,l=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=O(l));var u;if(u="html"!==s?ti(J(s,ti("<div>").append(e).html())):n?ji.clone.call(e):e,o)for(var c in o)u.data("$"+c+"Controller",o[c].instance);return N.$$addScopeInfo(u,t),n&&n(u,t),a&&a(t,u,u,i),u}}function O(e){var t=e&&e[0];return t&&"foreignobject"!==I(t)&&t.toString().match(/SVG/)?"svg":"html"}function D(e,t,r,i,o,a){function s(e,r,i,o){var a,s,l,u,c,d,p,f,g;if(h){var v=r.length;for(g=new Array(v),c=0;c<m.length;c+=3)p=m[c],g[p]=r[p]}else g=r;for(c=0,d=m.length;d>c;)l=g[m[c++]],a=m[c++],s=m[c++],a?(a.scope?(u=e.$new(),N.$$addScopeInfo(ti(l),u)):u=e,f=a.transcludeOnThisElement?R(e,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&t?R(e,t):null,a(s,u,l,i,f)):s&&s(e,l.childNodes,n,o)}for(var l,u,c,d,p,f,h,m=[],g=0;g<e.length;g++)l=new at,u=L(e[g],[],l,0===g?i:n,o),c=u.length?W(u,e[g],l,t,r,null,[],[],a):null,c&&c.scope&&N.$$addScopeClass(l.$$element),p=c&&c.terminal||!(d=e[g].childNodes)||!d.length?null:D(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||p)&&(m.push(g,c,p),f=!0,h=h||c),a=null;return f?s:null}function R(e,t,n){var r=function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function L(e,t,n,r,i){var o,a,s=e.nodeType,l=n.$attr;switch(s){case bi:U(t,Jt(I(e)),"E",r,i);for(var u,d,f,h,m,g,v=e.attributes,y=0,w=v&&v.length;w>y;y++){var E=!1,_=!1;u=v[y],d=u.name,m=fi(u.value),h=Jt(d),(g=dt.test(h))&&(d=d.replace(Zi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var x=h.replace(/(Start|End)$/,"");V(x)&&h===x+"Start"&&(E=d,_=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),f=Jt(d.toLowerCase()),l[f]=d,(g||!n.hasOwnProperty(f))&&(n[f]=m,Rt(e,f)&&(n[f]=!0)),et(e,t,m,f,g),U(t,f,"A",r,i,E,_)}if(a=e.className,b(a)&&(a=a.animVal),$(a)&&""!==a)for(;o=p.exec(a);)f=Jt(o[2]),U(t,f,"C",r,i)&&(n[f]=fi(o[3])),a=a.substr(o.index+o[0].length);break;case wi:Z(t,e.nodeValue);break;case Ei:try{o=c.exec(e.nodeValue),o&&(f=Jt(o[1]),U(t,f,"M",r,i)&&(n[f]=fi(o[2])))}catch(C){}}return t.sort(Y),t}function j(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Xi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==bi&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return ti(r)}function B(e,t,n){return function(r,i,o,a,s){return i=j(i[0],t,n),e(r,i,o,a,s)}}function W(e,a,s,u,c,d,p,f,h){function m(e,t,n,r){e&&(n&&(e=B(e,n,r)),e.require=C.require,e.directiveName=T,(I===C||C.$$isolateScope)&&(e=rt(e,{isolateScope:!0})),p.push(e)),t&&(n&&(t=B(t,n,r)),t.require=C.require,t.directiveName=T,(I===C||C.$$isolateScope)&&(t=rt(t,{isolateScope:!0})),f.push(t))}function v(e,t,n,r){var i,a,s="data",l=!1,u=n;if($(t)){if(a=t.match(w),t=t.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",u=n.parent()),"?"===a[2]&&(l=!0),i=null,r&&"data"===s&&(i=r[t])&&(i=i.instance),i=i||u[s]("$"+t+"Controller"),!i&&!l)throw Xi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i||null}return pi(t)&&(i=[],o(t,function(t){i.push(v(e,t,n,r))})),i}function y(e,t,i,u,c){function d(e,t,r){var i;return k(e)||(r=t,t=e,e=n),V&&(i=w),r||(r=V?_.parent():_),c(e,t,i,r,M)}var h,m,y,b,$,w,E,_,C;if(a===i?(C=s,_=s.$$element):(_=ti(i),C=new at(_,s)),I&&($=t.$new(!0)),c&&(E=d,E.$$boundTransclude=c),D&&(x={},w={},o(D,function(e){var n,r={$scope:e===I||e.$$isolateScope?$:t,$element:_,$attrs:C,$transclude:E};b=e.controller,"@"==b&&(b=C[e.name]),n=g(b,r,!0,e.controllerAs),w[e.name]=n,V||_.data("$"+e.name+"Controller",n.instance),x[e.name]=n})),I){N.$$addScopeInfo(_,$,!0,!(P&&(P===I||P===I.$$originalDirective))),N.$$addScopeClass(_,!0);var T=x&&x[I.name],S=$;T&&T.identifier&&I.bindToController===!0&&(S=T.instance),o($.$$isolateBindings=I.$$isolateBindings,function(e,n){var i,o,a,s,u=e.attrName,c=e.optional,d=e.mode;switch(d){case"@":C.$observe(u,function(e){S[n]=e}),C.$$observers[u].$$scope=t,C[u]&&(S[n]=r(C[u])(t));break;case"=":if(c&&!C[u])return;o=l(C[u]),s=o.literal?H:function(e,t){return e===t||e!==e&&t!==t},a=o.assign||function(){throw i=S[n]=o(t),Xi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",C[u],I.name)},i=S[n]=o(t);var p=function(e){return s(e,S[n])||(s(e,i)?a(t,e=S[n]):S[n]=e),i=e};p.$stateful=!0;var f;f=e.collection?t.$watchCollection(C[u],p):t.$watch(l(C[u],p),null,o.literal),$.$on("$destroy",f);break;case"&":o=l(C[u]),S[n]=function(e){return o(t,e)}}})}for(x&&(o(x,function(e){e()}),x=null),h=0,m=p.length;m>h;h++)y=p[h],ot(y,y.isolateScope?$:t,_,C,y.require&&v(y.directiveName,y.require,_,w),E);var M=t;for(I&&(I.template||null===I.templateUrl)&&(M=$),e&&e(M,i.childNodes,n,c),h=f.length-1;h>=0;h--)y=f[h],ot(y,y.isolateScope?$:t,_,C,y.require&&v(y.directiveName,y.require,_,w),E)}h=h||{};for(var E,x,C,T,S,M,A,O=-Number.MAX_VALUE,D=h.controllerDirectives,I=h.newIsolateScopeDirective,P=h.templateDirective,R=h.nonTlbTranscludeDirective,W=!1,U=!1,V=h.hasElementTranscludeDirective,Y=s.$$element=ti(a),Z=d,Q=u,et=0,nt=e.length;nt>et;et++){C=e[et];var it=C.$$start,st=C.$$end;if(it&&(Y=j(a,it,st)),S=n,O>C.priority)break;if((A=C.scope)&&(C.templateUrl||(b(A)?(X("new/isolated scope",I||E,C,Y),I=C):X("new/isolated scope",I,C,Y)),E=E||C),T=C.name,!C.templateUrl&&C.controller&&(A=C.controller,D=D||{},X("'"+T+"' controller",D[T],C,Y),D[T]=C),(A=C.transclude)&&(W=!0,C.$$tlb||(X("transclusion",R,C,Y),R=C),"element"==A?(V=!0,O=C.priority,S=Y,Y=s.$$element=ti(t.createComment(" "+T+": "+s[T]+" ")),a=Y[0],tt(c,F(S),a),Q=N(S,u,O,Z&&Z.name,{nonTlbTranscludeDirective:R})):(S=ti(wt(a)).contents(),Y.empty(),Q=N(S,u))),C.template)if(U=!0,X("template",P,C,Y),P=C,A=_(C.template)?C.template(Y,s):C.template,A=ct(A),C.replace){if(Z=C,S=gt(A)?[]:en(J(C.templateNamespace,fi(A))),a=S[0],1!=S.length||a.nodeType!==bi)throw Xi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",T,"");tt(c,Y,a);var lt={$attr:{}},ut=L(a,[],lt),dt=e.splice(et+1,e.length-(et+1));I&&q(ut),e=e.concat(ut).concat(dt),z(s,lt),nt=e.length}else Y.html(A);if(C.templateUrl)U=!0,X("template",P,C,Y),P=C,C.replace&&(Z=C),y=K(e.splice(et,e.length-et),Y,s,c,W&&Q,p,f,{controllerDirectives:D,newIsolateScopeDirective:I,templateDirective:P,nonTlbTranscludeDirective:R}),nt=e.length;else if(C.compile)try{M=C.compile(Y,s,Q),_(M)?m(null,M,it,st):M&&m(M.pre,M.post,it,st)}catch(pt){i(pt,G(Y))}C.terminal&&(y.terminal=!0,O=Math.max(O,C.priority))}return y.scope=E&&E.scope===!0,y.transcludeOnThisElement=W,y.elementTranscludeOnThisElement=V,y.templateOnThisElement=U,y.transclude=Q,h.hasElementTranscludeDirective=V,y}function q(e){for(var t=0,n=e.length;n>t;t++)e[t]=f(e[t],{$$isolateScope:!0})}function U(t,r,o,a,l,c,d){if(r===l)return null;
var p=null;if(s.hasOwnProperty(r))for(var h,m=e.get(r+u),g=0,v=m.length;v>g;g++)try{h=m[g],(a===n||a>h.priority)&&-1!=h.restrict.indexOf(o)&&(c&&(h=f(h,{$$start:c,$$end:d})),t.push(h),p=h)}catch(y){i(y)}return p}function V(t){if(s.hasOwnProperty(t))for(var n,r=e.get(t+u),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function z(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(A(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function K(e,t,n,r,i,s,l,u){var c,d,p=[],h=t[0],m=e.shift(),g=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=_(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),a(v).then(function(a){var f,$,w,E;if(a=ct(a),m.replace){if(w=gt(a)?[]:en(J(y,fi(a))),f=w[0],1!=w.length||f.nodeType!==bi)throw Xi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);$={$attr:{}},tt(r,t,f);var _=L(f,[],$);b(m.scope)&&q(_),e=_.concat(e),z(n,$)}else f=h,t.html(a);for(e.unshift(g),c=W(e,f,n,i,t,m,s,l,u),o(r,function(e,n){e==f&&(r[n]=t[0])}),d=D(t[0].childNodes,i);p.length;){var x=p.shift(),C=p.shift(),k=p.shift(),T=p.shift(),S=t[0];if(!x.$$destroyed){if(C!==h){var M=C.className;u.hasElementTranscludeDirective&&m.replace||(S=wt(f)),tt(k,ti(C),S),A(ti(S),M)}E=c.transcludeOnThisElement?R(x,c.transclude,T):T,c(d,x,S,r,E)}}p=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(p?p.push(t,n,r,o):(c.transcludeOnThisElement&&(o=R(t,c.transclude,i)),c(d,t,n,r,o)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,r){if(t)throw Xi("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,G(r))}function Z(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&N.$$addBindingClass(t),function(e,t){var i=t.parent();r||N.$$addBindingClass(i),N.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function J(e,n){switch(e=Yr(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return T.HTML;var n=I(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?T.RESOURCE_URL:void 0}function et(e,t,n,i,o){var a=Q(e,i);o=v[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===I(e))throw Xi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",G(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers={});if(E.test(i))throw Xi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function tt(e,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var u=i,c=u+s-1,d=e.length;d>u;u++,c++)d>c?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=r);break}l&&l.replaceChild(r,a);var p=t.createDocumentFragment();p.appendChild(a),ti(r).data(ti(a).data()),ni?(di=!0,ni.cleanData([a])):delete ti.cache[a[ti.expando]];for(var f=1,h=n.length;h>f;f++){var m=n[f];ti(m).remove(),p.appendChild(m),delete n[f]}n[0]=r,n.length=1}function rt(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function ot(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,G(n))}}var at=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};at.prototype={$normalize:Jt,$addClass:function(e){e&&e.length>0&&S.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&S.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Qt(e,t);n&&n.length&&S.addClass(this.$$element,n);var r=Qt(t,e);r&&r.length&&S.removeClass(this.$$element,r)},$set:function(e,t,r,a){var s,l=this.$$element[0],u=Rt(l,e),c=Lt(l,e),d=e;if(u?(this.$$element.prop(e,t),a=u):c&&(this[c]=t,d=c),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=nt(e,"-"))),s=I(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=M(t,"src"===e);else if("img"===s&&"srcset"===e){for(var p="",f=fi(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(f)?h:/(,)/,g=f.split(m),v=Math.floor(g.length/2),y=0;v>y;y++){var b=2*y;p+=M(fi(g[b]),!0),p+=" "+fi(g[b+1])}var $=fi(g[2*y]).split(/\s/);p+=M(fi($[0]),!0),2===$.length&&(p+=" "+fi($[1])),this[e]=t=p}r!==!1&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t));var w=this.$$observers;w&&o(w[d],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ut()),i=r[e]||(r[e]=[]);return i.push(t),y.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){P(i,t)}}};var st=r.startSymbol(),lt=r.endSymbol(),ct="{{"==st||"}}"==lt?m:function(e){return e.replace(/\{\{/g,st).replace(/}}/g,lt)},dt=/^ngAttr[A-Z]/;return N.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];pi(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,N.$$addBindingClass=x?function(e){A(e,"ng-binding")}:h,N.$$addScopeInfo=x?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:h,N.$$addScopeClass=x?function(e,t){A(e,t?"ng-isolate-scope":"ng-scope")}:h,N}]}function Jt(e){return mt(e.replace(Zi,""))}function Qt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function en(e){e=ti(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Ei&&oi.call(e,t,1)}return e}function tn(){var e={},t=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){at(t,"controller"),b(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,a){function s(e,t,n,i){if(!e||!b(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,l,u,c){var p,f,h,m;if(u=u===!0,c&&$(c)&&(m=c),$(r)){if(f=r.match(i),!f)throw Ji("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);h=f[1],m=m||f[3],r=e.hasOwnProperty(h)?e[h]:st(l.$scope,h,!0)||(t?st(a,h,!0):n),ot(r,h,!0)}if(u){var g=(pi(r)?r[r.length-1]:r).prototype;return p=Object.create(g||null),m&&s(l,m,p,h||r.name),d(function(){return o.invoke(r,p,l,h),p},{instance:p,identifier:m})}return p=o.instantiate(r,l,h),m&&s(l,m,p,h||r.name),p}}]}function nn(){this.$get=["$window",function(e){return ti(e.document)}]}function rn(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function on(e,t){if($(e)){var n=e.replace(ro,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Qi)||an(n))&&(e=U(n))}}return e}function an(e){var t=e.match(to);return t&&no[t[0]].test(e)}function sn(e){var t,n,r,i=ut();return e?(o(e.split("\n"),function(e){r=e.indexOf(":"),t=Yr(fi(e.substr(0,r))),n=fi(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function ln(e){var t=b(e)?e:n;return function(n){if(t||(t=sn(e)),n){var r=t[Yr(n)];return void 0===r&&(r=null),r}return t}}function un(e,t,n,r){return _(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function cn(e){return e>=200&&300>e}function dn(){var e=this.defaults={transformResponse:[on],transformRequest:[function(e){return!b(e)||T(e)||M(e)||S(e)?e:q(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(eo),put:L(eo),patch:L(eo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,l,u,c,p,f){function h(t){function i(e){var t=d({},e);return t.data=e.data?un(e.data,e.headers,e.status,l.transformResponse):e.data,cn(e.status)?t:p.reject(t)}function a(e){var t,n={};return o(e,function(e,r){_(e)?(t=e(),null!=t&&(n[r]=t)):n[r]=e}),n}function s(t){var n,r,i,o=e.headers,s=d({},t.headers);o=d({},o.common,o[Yr(t.method)]);e:for(n in o){r=Yr(n);for(i in s)if(Yr(i)===r)continue e;s[n]=o[n]}return a(s)}if(!ui.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var l=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);l.headers=s(t),l.method=Zr(l.method);var u=function(t){var r=t.headers,a=un(t.data,ln(r),n,t.transformRequest);return v(a)&&o(r,function(e,t){"content-type"===Yr(t)&&delete r[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,a).then(i,i)},c=[u,n],f=p.when(l);for(o(k,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var h=c.shift(),m=c.shift();f=f.then(h,m)}return f.success=function(e){return ot(e,"fn"),f.then(function(t){e(t.data,t.status,t.headers,l)}),f},f.error=function(e){return ot(e,"fn"),f.then(null,function(t){e(t.data,t.status,t.headers,l)}),f},f}function m(){o(arguments,function(e){h[e]=function(t,n){return h(d(n||{},{method:e,url:t}))}})}function g(){o(arguments,function(e){h[e]=function(t,n,r){return h(d(r||{},{method:e,url:t,data:n}))}})}function w(r,i){function o(e,n,r,i){function o(){s(n,e,r,i)}f&&(cn(e)?f.put(E,[e,n,sn(r),i]):f.remove(E)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function s(e,t,n,i){t=Math.max(t,0),(cn(t)?g.resolve:g.reject)({data:e,status:t,headers:ln(n),config:r,statusText:i})}function u(e){s(e.data,e.status,L(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var f,m,g=p.defer(),$=g.promise,w=r.headers,E=x(r.url,r.params);if(h.pendingRequests.push(r),$.then(d,d),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(f=b(r.cache)?r.cache:b(e.cache)?e.cache:C),f&&(m=f.get(E),y(m)?N(m)?m.then(u,u):pi(m)?s(m[1],m[0],L(m[2]),m[3]):s(m,200,{},"OK"):f.put(E,$)),v(m)){var _=or(r.url)?l.cookies()[r.xsrfCookieName||e.xsrfCookieName]:n;_&&(w[r.xsrfHeaderName||e.xsrfHeaderName]=_),a(r.method,E,i,o,w,r.timeout,r.withCredentials,r.responseType)}return $}function x(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(pi(e)||(e=[e]),o(e,function(e){b(e)&&(e=E(e)?e.toISOString():q(e)),n.push(X(t)+"="+X(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var C=u("$http"),k=[];return o(i,function(e){k.unshift($(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),h.defaults=e,h}]}function pn(){return new e.XMLHttpRequest}function fn(){this.$get=["$browser","$window","$document",function(e,t,n){return hn(e,pn,e.defer,t.angular.callbacks,n[0])}]}function hn(e,t,r,i,a){function s(e,t,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){Mi(r,"load",o),Mi(r,"error",o),a.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},Si(r,"load",o),Si(r,"error",o),a.body.appendChild(r),o}return function(a,l,u,c,d,p,f,m){function g(){$&&$(),w&&w.abort()}function v(t,i,o,a,s){x!==n&&r.cancel(x),$=w=null,t(i,o,a,s),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Yr(a)){var b="_"+(i.counter++).toString(36);i[b]=function(e){i[b].data=e,i[b].called=!0};var $=s(l.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(c,e,i[b].data,"",t),i[b]=h})}else{var w=t();w.open(a,l,!0),o(d,function(e,t){y(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==ir(l).protocol?404:0),v(c,n,t,w.getAllResponseHeaders(),e)};var E=function(){v(c,-1,null,null,"")};if(w.onerror=E,w.onabort=E,f&&(w.withCredentials=!0),m)try{w.responseType=m}catch(_){if("json"!==m)throw _}w.send(u||null)}if(p>0)var x=r(g,p);else N(p)&&p.then(g)}}function mn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(o,a,p,f){function h(n){return n.replace(u,e).replace(c,t)}function m(e){try{return e=M(e),f&&!y(e)?e:A(e)}catch(t){var n=io("interr","Can't interpolate: {0}\n{1}",o,t.toString());r(n)}}f=!!f;for(var g,b,$,w=0,E=[],x=[],C=o.length,k=[],T=[];C>w;){if(-1==(g=o.indexOf(e,w))||-1==(b=o.indexOf(t,g+s))){w!==C&&k.push(h(o.substring(w)));break}w!==g&&k.push(h(o.substring(w,g))),$=o.substring(g+s,b),E.push($),x.push(n($,m)),w=b+l,T.push(k.length),k.push("")}if(p&&k.length>1)throw io("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||E.length){var S=function(e){for(var t=0,n=E.length;n>t;t++){if(f&&v(e[t]))return;k[T[t]]=e[t]}return k.join("")},M=function(e){return p?i.getTrusted(p,e):i.valueOf(e)},A=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=q(e)}return e};return d(function(e){var t=0,n=E.length,i=new Array(n);try{for(;n>t;t++)i[t]=x[t](e);return S(i)}catch(a){var s=io("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(s)}},{exp:o,expressions:E,$$watchDelegate:function(e,t,n){var r;return e.$watchGroup(x,function(n,i){var o=S(n);_(t)&&t.call(this,o,n!==i?r:o,e),r=o},n)}})}}var s=e.length,l=t.length,u=new RegExp(e.replace(/./g,o),"g"),c=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function gn(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,l){var u=t.setInterval,c=t.clearInterval,d=0,p=y(l)&&!l,f=(p?r:n).defer(),h=f.promise;return s=y(s)?s:0,h.then(null,null,i),h.$$intervalId=u(function(){f.notify(d++),s>0&&d>=s&&(f.resolve(d),c(h.$$intervalId),delete o[h.$$intervalId]),p||e.$apply()},a),o[h.$$intervalId]=f,h}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function vn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function yn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function bn(e,t){var n=ir(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||ao[n.protocol]||null}function $n(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=ir(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function wn(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function En(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function _n(e){return e.replace(/(#.+)|#$/,"$1")}function xn(e){return e.substr(0,En(e).lastIndexOf("/")+1)}function Cn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function kn(e,t){this.$$html5=!0,t=t||"";var r=xn(e);bn(e,this),this.$$parse=function(e){var t=wn(r,e);if(!$(t))throw so("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);$n(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=K(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=yn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,l;return(a=wn(e,i))!==n?(s=a,l=(a=wn(t,a))!==n?r+(wn("/",a)||a):e+s):(a=wn(r,i))!==n?l=r+a:r==i+"/"&&(l=r),l&&this.$$parse(l),!!l}}function Tn(e,t){var n=xn(e);bn(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=wn(e,r)||wn(n,r);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=r,this.replace())):(o=wn(t,a),v(o)&&(o=a)),$n(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t){return En(e)==En(t)?(this.$$parse(t),!0):!1}}function Sn(e,t){this.$$html5=!0,Tn.apply(this,arguments);var n=xn(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==En(r)?o=r:(a=wn(n,r))?o=e+t+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function Mn(e){return function(){return this[e]}}function An(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Nn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return A(e)?(t.enabled=e,this):b(e)?(A(e.enabled)&&(t.enabled=e.enabled),A(e.requireBase)&&(t.requireBase=e.requireBase),A(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,d,p=r.baseHref(),f=r.url();if(t.enabled){if(!p&&t.requireBase)throw so("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Cn(f)+(p||"/"),c=i.history?kn:Sn}else d=En(f),c=Tn;u=new c(d,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=r.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=ti(e.target);"a"!==I(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ir(s.animVal).href),h.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),_n(u.absUrl())!=_n(f)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=_n(r.url()),t=_n(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function On(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Dn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw uo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function In(e,t){if(e){if(e.constructor===e)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw uo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw uo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw uo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Pn(e,t){if(e){if(e.constructor===e)throw uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===co||e===po||e===fo)throw uo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Rn(e){return e.constant}function Ln(e,t,n,r,i){In(e,i),In(t,i);for(var o,a=n.split("."),s=0;a.length>1;s++){o=Dn(a.shift(),i);var l=0===s&&t&&t[o]||e[o];l||(l={},e[o]=l),e=In(l,i)}return o=Dn(a.shift(),i),In(e[o],i),e[o]=r,r}function Hn(e){return"constructor"==e}function jn(e,t,r,i,o,a,s){Dn(e,a),Dn(t,a),Dn(r,a),Dn(i,a),Dn(o,a);var l=function(e){return In(e,a)},u=s||Hn(e)?l:m,c=s||Hn(t)?l:m,d=s||Hn(r)?l:m,p=s||Hn(i)?l:m,f=s||Hn(o)?l:m;return function(a,s){var l=s&&s.hasOwnProperty(e)?s:a;return null==l?l:(l=u(l[e]),t?null==l?n:(l=c(l[t]),r?null==l?n:(l=d(l[r]),i?null==l?n:(l=p(l[i]),o?null==l?n:l=f(l[o]):l):l):l):l)}}function Fn(e,t){return function(n,r){return e(n,r,In,t)}}function Bn(e,t,r){var i=t.expensiveChecks,a=i?$o:bo,s=a[e];if(s)return s;var l=e.split("."),u=l.length;if(t.csp)s=6>u?jn(l[0],l[1],l[2],l[3],l[4],r,i):function(e,t){var o,a=0;do o=jn(l[a++],l[a++],l[a++],l[a++],l[a++],r,i)(e,t),t=n,e=o;while(u>a);return o};else{var c="";i&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=i;o(l,function(e,t){Dn(e,r);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(i||Hn(e))&&(n="eso("+n+", fe)",d=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var p=new Function("s","l","eso","fe",c);p.toString=g(c),d&&(p=Fn(p,r)),s=p}return s.sharedGetter=!0,s.assign=function(t,n,r){return Ln(t,r,e,n,e)},a[e]=s,s}function Wn(e){return _(e.valueOf)?e.valueOf():wo.call(e)}function qn(){var e=ut(),t=ut();this.$get=["$filter","$sniffer",function(n,r){function i(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function a(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];i.constant||(i.inputs?a(i.inputs,t):-1===t.indexOf(i)&&t.push(i))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Wn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,n,r){var i,o=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===o.length){var l=s;return o=o[0],e.$watch(function(e){var t=o(e);return s(t,l)||(i=r(e),l=t&&Wn(t)),i},t,n)}for(var u=[],c=0,d=o.length;d>c;c++)u[c]=s;return e.$watch(function(e){for(var t=!1,n=0,a=o.length;a>n;n++){var l=o[n](e);(t||(t=!s(l,u[n])))&&(u[n]=l&&Wn(l))}return t&&(i=r(e)),i},t,n)}function u(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,_(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(o)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return o(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,_(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function d(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(){_(t)&&t.apply(this,arguments),i()},n)}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==c&&n!==u,i=r?function(n,r){var i=e(n,r);return t(i,n,r)}:function(n,r){var i=e(n,r),o=t(i,n,r);return y(i)?o:i};return e.$$watchDelegate&&e.$$watchDelegate!==l?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=l,i.inputs=[e]),i}var f={csp:r.csp,expensiveChecks:!1},m={csp:r.csp,expensiveChecks:!0};return function(r,o,a){var s,g,v;switch(typeof r){case"string":v=r=r.trim();var y=a?t:e;if(s=y[v],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(g=!0,r=r.substring(2));var b=a?m:f,$=new vo(b),w=new yo($,n,b);s=w.parse(r),s.constant?s.$$watchDelegate=d:g?(s=i(s),s.$$watchDelegate=s.literal?c:u):s.inputs&&(s.$$watchDelegate=l),y[v]=s}return p(s,o);case"function":return p(r,o);default:return p(h,o)}}}]}function Un(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Vn(function(t){e.$evalAsync(t)},t)}]}function Gn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Vn(function(t){e.defer(t)},t)}]}function Vn(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][e.status];try{_(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(l){i.reject(l),t(l)}}}function u(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function d(e){var t=new c,n=0,r=pi(e)?[]:{};return o(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var p=r("$q",TypeError),f=function(){return new c};a.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(e)||_(e))&&(n=e&&e.then),_(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(_(e)?e(n):n)}catch(s){t(s)}}})}};var h=function(e){var t=new c;return t.reject(e),t.promise},m=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{_(n)&&(r=n())}catch(i){return m(i,!1)}return N(r)?r.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},v=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},y=function $(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!_(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof $))return new $(e);var r=new c;return e(t,n),r.promise};return y.defer=f,y.reject=h,y.when=v,y.all=d,y}function zn(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<c.length;e++){var t=c[e];t&&(c[e]=null,t())}u=c.length=0}function r(e){var t=c.length;return u++,c.push(e),0===t&&(l=s(n)),function(){t>=0&&(c[t]=null,t=null,0===--u&&l&&(l(),l=null,c.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(e){var t=i(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=a;var l,u=0,c=[];return r}]}function Kn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=u(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,c,d){function p(e){e.currentScope.$$destroyed=!0}function f(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function m(e){if(x.$$phase)throw n("inprog","{0} already in progress",x.$$phase);x.$$phase=e}function g(){x.$$phase=null}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function $(){}function w(){for(;T.length;)try{T.shift()()}catch(e){l(e)}s=null}function E(){null===s&&(s=d.defer(function(){x.$apply(w)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",p),r},$watch:function(e,t,n){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r);var i=this,o=i.$$watchers,s={fn:t,last:$,get:r,exp:e,eq:!!n};return a=null,_(t)||(s.fn=h),o||(o=i.$$watchers=[]),o.unshift(s),function(){P(o,s),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,l;if(!v(o)){if(b(o))if(i(o)){a!==f&&(a=f,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var u=0;t>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(d++,a[u]=s)}else{a!==h&&(a=h={},g=0,d++),t=0;for(n in o)o.hasOwnProperty(n)&&(t++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(d++,a[n]=s)):(g++,a[n]=s,d++));if(g>t){d++;for(n in a)o.hasOwnProperty(n)||(g--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function r(){if(m?(m=!1,t(o,o,l)):t(o,s,l),u)if(b(o))if(i(o)){s=new Array(o.length);
for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Xr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=t.length>1,d=0,p=c(e,n),f=[],h={},m=!0,g=0;return this.$watch(p,r)},$digest:function(){var e,r,i,o,u,c,p,f,h,v,y=t,b=this,E=[];m("$digest"),d.$$checkUrlChange(),this===x&&null!==s&&(d.defer.cancel(s),w()),a=null;do{for(c=!1,f=b;C.length;){try{v=C.shift(),v.scope.$eval(v.expression,v.locals)}catch(T){l(T)}a=null}e:do{if(o=f.$$watchers)for(u=o.length;u--;)try{if(e=o[u])if((r=e.get(f))===(i=e.last)||(e.eq?H(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){c=!1;break e}}else c=!0,a=e,e.last=e.eq?R(r,null):r,e.fn(r,i===$?r:i,f),5>y&&(h=4-y,E[h]||(E[h]=[]),E[h].push({msg:_(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(T){l(T)}if(!(p=f.$$childHead||f!==b&&f.$$nextSibling))for(;f!==b&&!(p=f.$$nextSibling);)f=f.$parent}while(f=p);if((c||C.length)&&!y--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,E)}while(c||C.length);for(g();k.length;)try{k.shift()()}catch(T){l(T)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==x){for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){x.$$phase||C.length||d.defer(function(){C.length&&x.$digest()}),C.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){k.push(e)},$apply:function(e){try{return m("$apply"),this.$eval(e)}catch(t){l(t)}finally{g();try{x.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),E()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e){var t,n,r,i=[],o=this,a=!1,s={name:e,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},u=j([s],arguments,1);do{for(t=o.$$listeners[e]||i,s.currentScope=o,n=0,r=t.length;r>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){l(c)}else t.splice(n,1),n--,r--;if(a)return s.currentScope=null,s;o=o.$parent}while(o);return s.currentScope=null,s},$broadcast:function(e){var t=this,n=t,r=t,i={name:e,targetScope:t,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return i;for(var o,a,s,u=j([i],arguments,1);n=r;){for(i.currentScope=n,o=n.$$listeners[e]||[],a=0,s=o.length;s>a;a++)if(o[a])try{o[a].apply(null,u)}catch(c){l(c)}else o.splice(a,1),a--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var x=new f,C=x.$$asyncQueue=[],k=x.$$postDigestQueue=[],T=x.$$applyAsyncQueue=[];return x}]}function Yn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=ir(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Xn(e){if("self"===e)return e;if($(e)){if(e.indexOf("***")>-1)throw Eo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=hi(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(x(e))return new RegExp("^"+e.source+"$");throw Eo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Zn(e){var t=[];return y(e)&&o(e,function(e){t.push(Xn(e))}),t}function Jn(){this.SCE_CONTEXTS=_o;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Zn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Zn(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?or(t):!!e.exec(t.href)}function o(n){var r,o,a=ir(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=p.hasOwnProperty(e)?p[e]:null;if(!r)throw Eo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Eo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function l(e){return e instanceof d?e.$$unwrapTrustedValue():e}function u(e,t){if(null===t||t===n||""===t)return t;var r=p.hasOwnProperty(e)?p[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===_o.RESOURCE_URL){if(o(t))return t;throw Eo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===_o.HTML)return c(t);throw Eo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw Eo("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var d=a(),p={};return p[_o.HTML]=a(d),p[_o.CSS]=a(d),p[_o.URL]=a(d),p[_o.JS]=a(d),p[_o.RESOURCE_URL]=a(p[_o.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function Qn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>ei)throw Eo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=L(_o);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(_o,function(e,t){var n=Yr(t);r[mt("parse_as_"+n)]=function(t){return i(e,t)},r[mt("get_trusted_"+n)]=function(t){return a(e,t)},r[mt("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function er(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=p((/android (\d+)/.exec(Yr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,d=!1;if(u){for(var f in u)if(r=l.exec(f)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!o||c&&d||(c=$(s.body.style.webkitTransition),d=$(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hasEvent:function(e){if("input"===e&&11>=ei)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:mi(),vendorPrefix:n,transitions:c,animations:d,android:o}}]}function tr(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,a){function s(e){if(!a)throw Xi("tpload","Failed to load template: {0}",o);return n.reject(e)}i.totalPendingRequests++,$(o)&&e.get(o)||(o=r.getTrustedResourceUrl(o));var l=t.defaults&&t.defaults.transformResponse;pi(l)?l=l.filter(function(e){return e!==on}):l===on&&(l=null);var u={cache:e,transformResponse:l};return t.get(o,u)["finally"](function(){i.totalPendingRequests--}).then(function(e){return e.data},s)}return i.totalPendingRequests=0,i}]}function nr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=ui.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+hi(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function rr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){var u,c=y(l)&&!l,d=(c?r:n).defer(),p=d.promise;return u=t.defer(function(){try{d.resolve(o())}catch(t){d.reject(t),i(t)}finally{delete a[p.$$timeoutId]}c||e.$apply()},s),p.$$timeoutId=u,a[u]=d,p}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function ir(e){var t=e;return ei&&(xo.setAttribute("href",t),t=xo.href),xo.setAttribute("href",t),{href:xo.href,protocol:xo.protocol?xo.protocol.replace(/:$/,""):"",host:xo.host,search:xo.search?xo.search.replace(/^\?/,""):"",hash:xo.hash?xo.hash.replace(/^#/,""):"",hostname:xo.hostname,port:xo.port,pathname:"/"===xo.pathname.charAt(0)?xo.pathname:"/"+xo.pathname}}function or(e){var t=$(e)?ir(e):e;return t.protocol===Co.protocol&&t.host===Co.host}function ar(){this.$get=g(e)}function sr(e){function t(r,i){if(b(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",dr),t("date",xr),t("filter",lr),t("json",Cr),t("limitTo",kr),t("lowercase",Ao),t("number",pr),t("orderBy",Tr),t("uppercase",No)}function lr(){return function(e,t,n){if(!pi(e))return e;var r,i,o=null!==t?typeof t:"null";switch(o){case"function":r=t;break;case"boolean":case"null":case"number":case"string":i=!0;case"object":r=ur(t,n,i);break;default:return e}return e.filter(r)}}function ur(e,t,n){var r,i=b(e)&&"$"in e;return t===!0?t=H:_(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:b(e)||b(t)?!1:(e=Yr(""+e),t=Yr(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!b(r)?cr(r,e.$,t,!1):cr(r,e,t,n)}}function cr(e,t,n,r,i){var o=null!==e?typeof e:"null",a=null!==t?typeof t:"null";if("string"===a&&"!"===t.charAt(0))return!cr(e,t.substring(1),n,r);if(pi(e))return e.some(function(e){return cr(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&cr(e[s],t,n,!0))return!0;return i?!1:cr(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!_(l)&&!v(l)){var u="$"===s,c=u?e:e[s];if(!cr(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dr(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:fr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function pr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:fr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function fr(e,t,n,r,i){if(!isFinite(e)||b(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",s="",l=[],u=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?e=0:(s=a,u=!0)}if(u)i>0&&1>e&&(s=e.toFixed(i),e=parseFloat(s));else{var d=(a.split(ko)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var p=(""+e).split(ko),f=p[0];p=p[1]||"";var h,m=0,g=t.lgSize,y=t.gSize;if(f.length>=g+y)for(m=f.length-g,h=0;m>h;h++)(m-h)%y===0&&0!==h&&(s+=n),s+=f.charAt(h);for(h=m;h<f.length;h++)(f.length-h)%g===0&&0!==h&&(s+=n),s+=f.charAt(h);for(;p.length<i;)p+="0";i&&"0"!==i&&(s+=r+p.substr(0,i))}return 0===e&&(o=!1),l.push(o?t.negPre:t.posPre,s,o?t.negSuf:t.posSuf),l.join("")}function hr(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function mr(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),hr(o,t,r)}}function gr(e,t){return function(n,r){var i=n["get"+e](),o=Zr(t?"SHORT"+e:e);return r[o][i]}}function vr(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=hr(Math[t>0?"floor":"ceil"](t/60),2)+hr(Math.abs(t%60),2)}function yr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function br(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function $r(e){return function(t){var n=yr(t.getFullYear()),r=br(t),i=+r-+n,o=1+Math.round(i/6048e5);return hr(o,e)}}function wr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Er(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function _r(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function xr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),o=p(t[9]+t[11])),a.call(r,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-i,u=p(t[5]||0)-o,c=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,$(n)&&(n=Mo.test(n)?p(n):t(n)),w(n)&&(n=new Date(n)),!E(n))return n;for(;r;)s=So.exec(r),s?(u=j(u,s,1),r=u.pop()):(u.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(u,function(t){a=To[t],l+=a?a(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Cr(){return function(e,t){return v(t)&&(t=2),q(e,t)}}function kr(){return function(e,t){return w(e)&&(e=e.toString()),pi(e)||$(e)?(t=1/0===Math.abs(Number(t))?Number(t):p(t),t?t>0?e.slice(0,t):e.slice(t):$(e)?"":[]):e}}function Tr(e){return function(t,n,r){function o(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function l(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function u(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=l(e),t=l(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return i(t)?(n=pi(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||m;if($(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(u,n);if(r=e(t),r.constant){var i=r();return a(function(e,t){return u(e[i],t[i])},n)}}return a(function(e,t){return u(r(e),r(t))},n)}),ii.call(t).sort(a(o,r))):t}}function Sr(e){return _(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function Mr(e,t){e.$name=t}function Ar(e,t,r,i,a){var s=this,l=[],u=s.$$parentForm=e.parent().controller("form")||Io;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){at(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),P(l,e)},Gr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(P(r,n),0===r.length&&delete e[t])},parentForm:u,$animate:i}),s.$setDirty=function(){i.removeClass(e,ga),i.addClass(e,va),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){i.setClass(e,ga,va+" "+Po),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(e){e.$setPristine()})},s.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Po),s.$submitted=!0,u.$setSubmitted()}}function Nr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Or(e,t,n,r,i,o){Dr(e,t,n,r,i,o),Nr(r)}function Dr(e,t,n,r,i,o){var a=Yr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(u&&(o.defer.cancel(u),u=null),!s){var i=t.val(),l=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=fi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))t.on("input",l);else{var u,c=function(e,t,n){u||(u=o.defer(function(){u=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",l),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Ir(e,t){if(E(e))return e;if($(e)){Go.lastIndex=0;var n=Go.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=yr(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return 0/0}function Pr(e,t){return function(n,r){var i,a;if(E(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),jo.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function Rr(e,t,r,i){return function(o,a,s,l,u,c,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return y(e)?E(e)?e:r(e):n}Lr(o,a,s,l),Dr(o,a,s,l,u,c);var h,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=r(e,h);return"UTC"===m&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),l.$formatters.push(function(e){if(e&&!E(e))throw wa("datefmt","Expected `{0}` to be a date",e);if(p(e)){if(h=e,h&&"UTC"===m){var t=6e4*h.getTimezoneOffset();h=new Date(h.getTime()+t)}return d("date")(e,i,m)}return h=null,""}),y(s.min)||s.ngMin){var g;l.$validators.min=function(e){return!p(e)||v(g)||r(e)>=g},s.$observe("min",function(e){g=f(e),l.$validate()})}if(y(s.max)||s.ngMax){var b;l.$validators.max=function(e){return!p(e)||v(b)||r(e)<=b},s.$observe("max",function(e){b=f(e),l.$validate()})}}}function Lr(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=b(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(Kr)||{};return r.badInput&&!r.typeMismatch?n:e})}function Hr(e,t,r,i,o,a){if(Lr(e,t,r,i),Dr(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Wo.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!w(e))throw wa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||v(s)||e>=s},r.$observe("min",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:n,i.$validate()})}if(y(r.max)||r.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||v(l)||l>=e},r.$observe("max",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),l=w(e)&&!isNaN(e)?e:n,i.$validate()})}}function jr(e,t,n,r,i,o){Dr(e,t,n,r,i,o),Nr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Fo.test(n)}}function Fr(e,t,n,r,i,o){Dr(e,t,n,r,i,o),Nr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Bo.test(n)}}function Br(e,t,n,r){v(n.name)&&t.attr("name",u());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Wr(e,t,n,i,o){var a;if(y(i)){if(a=e(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(t)}return o}function qr(e,t,n,r,i,o,a,s){var l=Wr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Wr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return H(e,l)}),r.$parsers.push(function(e){return e?l:u})}function Ur(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){if(pi(e))return e;if($(e))return e.split(" ");if(b(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||{},r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(h){if(!H(e,h)){var r=i(h);p(r,n)}}else u(n)}h=L(e)}var h;a.$watch(l[e],f,!0),l.$observe("class",function(){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[e]));o===t?u(s):c(s)}})}}}]}function Gr(e){function t(e,t,l){t===n?r("$pending",e,l):i("$pending",e,l),A(t)?t?(d(s.$error,e,l),c(s.$$success,e,l)):(c(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(o($a,!0),s.$valid=s.$invalid=n,a("",null)):(o($a,!1),s.$valid=Vr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,u),p.$setValidity(e,u,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&d(s[e],t,r),Vr(s[e])&&(s[e]=n)}function o(e,t){t&&!u[e]?(f.addClass(l,e),u[e]=!0):!t&&u[e]&&(f.removeClass(l,e),u[e]=!1)}function a(e,t){e=e?"-"+nt(e,"-"):"",o(ha+e,t===!0),o(ma+e,t===!1)}var s=e.ctrl,l=e.$element,u={},c=e.set,d=e.unset,p=e.parentForm,f=e.$animate;u[ma]=!(u[ha]=l.hasClass(ha)),s.$setValidity=t}function Vr(e){if(e)for(var t in e)return!1;return!0}var zr=/^\/(.+)\/([a-z]*)$/,Kr="validity",Yr=function(e){return $(e)?e.toLowerCase():e},Xr=Object.prototype.hasOwnProperty,Zr=function(e){return $(e)?e.toUpperCase():e},Jr=function(e){return $(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Qr=function(e){return $(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Yr=Jr,Zr=Qr);var ei,ti,ni,ri,ii=[].slice,oi=[].splice,ai=[].push,si=Object.prototype.toString,li=r("ng"),ui=e.angular||(e.angular={}),ci=0;ei=t.documentMode,h.$inject=[],m.$inject=[];var di,pi=Array.isArray,fi=function(e){return $(e)?e.trim():e},hi=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},mi=function(){if(y(mi.isActive_))return mi.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return mi.isActive_=e},gi=["ng-","data-ng-","ng:","x-ng-"],vi=/[A-Z]/g,yi=!1,bi=1,$i=2,wi=3,Ei=8,_i=9,xi=11,Ci={full:"1.3.17",major:1,minor:3,dot:17,codeName:"tsktskskly-euouae"};$t.expando="ng339";var ki=$t.cache={},Ti=1,Si=function(e,t,n){e.addEventListener(t,n,!1)},Mi=function(e,t,n){e.removeEventListener(t,n,!1)};$t._data=function(e){return this.cache[e[this.expando]]||{}};var Ai=/([\:\-\_]+(.))/g,Ni=/^moz([A-Z])/,Oi={mouseleave:"mouseout",mouseenter:"mouseover"},Di=r("jqLite"),Ii=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Pi=/<|&#?\w+;/,Ri=/<([\w:]+)/,Li=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Hi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Hi.optgroup=Hi.option,Hi.tbody=Hi.tfoot=Hi.colgroup=Hi.caption=Hi.thead,Hi.th=Hi.td;var ji=$t.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),$t(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return ti(e>=0?this[e]:this[this.length+e])},length:0,push:ai,sort:[].sort,splice:[].splice},Fi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Fi[Yr(e)]=e});var Bi={};o("input,select,option,textarea,button,form,details".split(","),function(e){Bi[e]=!0});var Wi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:kt,removeData:xt},function(e,t){$t[t]=e}),o({data:kt,inheritedData:Ot,scope:function(e){return ti.data(e,"$scope")||Ot(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ti.data(e,"$isolateScope")||ti.data(e,"$isolateScopeNoTemplate")},controller:Nt,injector:function(e){return Ot(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Tt,css:function(e,t,n){return t=mt(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==wi&&i!==$i&&i!==Ei){var o=Yr(t);if(Fi[o]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===bi||n===wi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===I(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Et(e,!0),void(e.innerHTML=t))},empty:Dt},function(e,t){$t.prototype[t]=function(t,r){var i,o,a=this.length;if(e!==Dt&&(2==e.length&&e!==Tt&&e!==Nt?t:r)===n){if(b(t)){for(i=0;a>i;i++)if(e===kt)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var s=e.$dv,l=s===n?Math.min(a,1):a,u=0;l>u;u++){var c=e(this[u],t,r);s=s?s+c:c}return s}for(i=0;a>i;i++)e(this[i],t,r);return this}}),o({removeData:xt,on:function Ka(e,t,n,r){if(y(r))throw Di("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(vt(e)){var i=Ct(e,!0),o=i.events,a=i.handle;a||(a=i.handle=Ht(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length;l--;){t=s[l];var u=o[t];u||(o[t]=[],"mouseenter"===t||"mouseleave"===t?Ka(e,Oi[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(e,t)}):"$destroy"!==t&&Si(e,t,a),u=o[t]),u.push(n)}}},off:_t,one:function(e,t,n){e=ti(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Et(e),o(new $t(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===bi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===bi||n===xi){t=new $t(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===bi){var n=e.firstChild;o(new $t(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=ti(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:It,detach:function(e){It(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new $t(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Mt,removeClass:St,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;v(r)&&(r=!Tt(e,t)),(r?Mt:St)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==xi?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:wt,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,l=Ct(e),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(r=d(r,t)),i=L(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){$t.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=e(this[o],t,n,r),y(i)&&(i=ti(i))):At(i,e(this[o],t,n,r));return y(i)?i:this},$t.prototype.bind=$t.prototype.on,$t.prototype.unbind=$t.prototype.off}),Bt.prototype={put:function(e,t){this[Ft(e,this.nextUid)]=t},get:function(e){return this[Ft(e,this.nextUid)]},remove:function(e){var t=this[e=Ft(e,this.nextUid)];return delete this[e],t}};var qi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ui=/,/,Gi=/^\s*(_?)(\S+?)\1\s*$/,Vi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,zi=r("$injector");Ut.$$annotate=qt;var Ki=r("$animate"),Yi=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Ki("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function r(t){var r,i=e.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=t(function(){i.resolve()})}),i.promise}function i(e,t){var n=[],r=[],i=ut();return o((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0}),o(t,function(e,t){var o=i[t];e===!1&&o?r.push(t):e!==!0||o||n.push(t)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function a(e,t,n){for(var r=0,i=t.length;i>r;++r){var o=t[r];e[o]=n}}function s(){return u||(u=e.defer(),t(function(){u.resolve(),u=null})),u.promise}function l(e,t){if(ui.isObject(t)){var n=d(t.from||{},t.to||{});e.css(n)}}var u;return{animate:function(e,t,n){return l(e,{from:t,to:n}),s()},enter:function(e,t,n,r){return l(e,r),n?n.after(e):t.prepend(e),s()},leave:function(e,t){return l(e,t),e.remove(),s()},move:function(e,t,n,r){return this.enter(e,t,n,r)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=ti(e),t=$(t)?t:pi(t)?t.join(" "):"",o(e,function(e){Mt(e,t)}),l(e,n),s()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=ti(e),t=$(t)?t:pi(t)?t.join(" "):"",o(e,function(e){St(e,t)
}),l(e,n),s()},setClass:function(e,t,n,o){var s=this,l="$$animateClasses",u=!1;e=ti(e);var c=e.data(l);c?o&&c.options&&(c.options=ui.extend(c.options||{},o)):(c={classes:{},options:o},u=!0);var d=c.classes;return t=pi(t)?t:t.split(" "),n=pi(n)?n:n.split(" "),a(d,t,!0),a(d,n,!1),u&&(c.promise=r(function(t){var n=e.data(l);if(e.removeData(l),n){var r=i(e,n.classes);r&&s.$$setClassImmediately(e,r[0],r[1],n.options)}t()}),e.data(l,c)),c.promise},$$setClassImmediately:function(e,t,n,r){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),l(e,r),s()},enabled:h,cancel:h}}]}],Xi=r("$compile");Zt.$inject=["$provide","$$sanitizeUriProvider"];var Zi=/^((?:x|data)[\:\-_])/i,Ji=r("$controller"),Qi="application/json",eo={"Content-Type":Qi+";charset=utf-8"},to=/^\[|^\{(?!\{)/,no={"[":/]$/,"{":/}$/},ro=/^\)\]\}',?\n/,io=r("$interpolate"),oo=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ao={http:80,https:443,ftp:21},so=r("$location"),lo={$$html5:!1,$$replace:!1,absUrl:Mn("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=oo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Mn("$$protocol"),host:Mn("$$host"),port:Mn("$$port"),path:An("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if($(e)||w(e))e=e.toString(),this.$$search=z(e);else{if(!b(e))throw so("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=R(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:An("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Sn,Tn,kn],function(e){e.prototype=Object.create(lo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==kn||!this.$$html5)throw so("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var uo=r("$parse"),co=Function.prototype.call,po=Function.prototype.apply,fo=Function.prototype.bind,ho=ut();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,ho[t]=e}),ho["this"]=function(e){return e},ho["this"].sharedGetter=!0;var mo=d(ut(),{"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(y(n)?n:0)-(y(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),go={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},vo=function(e){this.options=e};vo.prototype={constructor:vo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=mo[t],o=mo[n],a=mo[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw uo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Yr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=go[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var yo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};yo.ZERO=d(function(){return 0},{sharedGetter:!0,constant:!0}),yo.prototype={constructor:yo,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in ho?e=ho[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw uo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){if(0===this.tokens.length)throw uo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=mo[e];return d(function(e,r){return n(e,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,r){var i=mo[t];return d(function(t,r){return i(t,r,e,n)},{constant:e.constant&&n.constant,inputs:!r&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Bn(e,this.options,this.text)},constant:function(){var e=this.consume().value;return d(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0,o=e.length;o>i;i++)r=e[i](t,n);return r}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return d(function(o,a){var s=e(o,a);if(r){r[0]=s;for(var l=t.length;l--;)r[l+1]=t[l](o,a);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&o.every(Rn),inputs:!i.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),d(function(t,r){return n.assign(t,e(t,r),r)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var r=this.assignment();return d(function(t,i){return n(t,i)?e(t,i):r(t,i)},{constant:n.constant&&e.constant&&r.constant})}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(yo.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return d(function(r,i,o){var a=o||e(r,i);return null==a?n:t(a)},{assign:function(n,r,i){var o=e(n,i);return o||e.assign(n,o={},i),t.assign(o,r)}})},objectIndex:function(e){var t=this.text,r=this.expression();return this.consume("]"),d(function(i,o){var a,s=e(i,o),l=r(i,o);return Dn(l,t),s?a=In(s[l],t):n},{assign:function(n,i,o){var a=Dn(r(n,o),t),s=In(e(n,o),t);return s||e.assign(n,s={},o),s[a]=i}})},functionCall:function(e,t){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,o=r.length?[]:null;return function(a,s){var l=t?t(a,s):y(t)?n:a,u=e(a,s,l)||h;if(o)for(var c=r.length;c--;)o[c]=In(r[c](a,s),i);In(l,i),Pn(u,i);var d=u.apply?u.apply(l,o):u(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),In(d,i)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var r=[],i=0,o=e.length;o>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:e.every(Rn),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),d(function(n,r){for(var i={},o=0,a=t.length;a>o;o++)i[e[o]]=t[o](n,r);return i},{literal:!0,constant:t.every(Rn),inputs:t})}};var bo=ut(),$o=ut(),wo=Object.prototype.valueOf,Eo=r("$sce"),_o={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Xi=r("$compile"),xo=t.createElement("a"),Co=ir(e.location.href);sr.$inject=["$provide"],dr.$inject=["$locale"],pr.$inject=["$locale"];var ko=".",To={yyyy:mr("FullYear",4),yy:mr("FullYear",2,0,!0),y:mr("FullYear",1),MMMM:gr("Month"),MMM:gr("Month",!0),MM:mr("Month",2,1),M:mr("Month",1,1),dd:mr("Date",2),d:mr("Date",1),HH:mr("Hours",2),H:mr("Hours",1),hh:mr("Hours",2,-12),h:mr("Hours",1,-12),mm:mr("Minutes",2),m:mr("Minutes",1),ss:mr("Seconds",2),s:mr("Seconds",1),sss:mr("Milliseconds",3),EEEE:gr("Day"),EEE:gr("Day",!0),a:wr,Z:vr,ww:$r(2),w:$r(1),G:Er,GG:Er,GGG:Er,GGGG:_r},So=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Mo=/^\-?\d+$/;xr.$inject=["$locale"];var Ao=g(Yr),No=g(Zr);Tr.$inject=["$parse"];var Oo=g({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===si.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Do={};o(Fi,function(e,t){if("multiple"!=e){var n=Jt("ng-"+t);Do[n]=function(){return{restrict:"A",priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),o(Wi,function(e,t){Do[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(zr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Jt("ng-"+e);Do[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===si.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(ei&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Io={$addControl:h,$$renameControl:Mr,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},Po="ng-submitted";Ar.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ro=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:Ar,compile:function(r,i){r.addClass(ga).addClass(ha);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,a){if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};Si(r[0],"submit",s),r.on("$destroy",function(){t(function(){Mi(r[0],"submit",s)},0,!1)})}var l=a.$$parentForm;o&&(Ln(e,null,a.$name,a,a.$name),i.$observe(o,function(t){a.$name!==t&&(Ln(e,null,a.$name,n,a.$name),l.$$renameControl(a,t),Ln(e,null,a.$name,a,a.$name))})),r.on("$destroy",function(){l.$removeControl(a),o&&Ln(e,null,i[o],n,a.$name),d(a,Io)})}}}};return r}]},Lo=Ro(),Ho=Ro(!0),jo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Fo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Bo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Wo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,qo=/^(\d{4})-(\d{2})-(\d{2})$/,Uo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Go=/^(\d{4})-W(\d\d)$/,Vo=/^(\d{4})-(\d\d)$/,zo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ko={text:Or,date:Rr("date",qo,Pr(qo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Rr("datetimelocal",Uo,Pr(Uo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Rr("time",zo,Pr(zo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Rr("week",Go,Ir,"yyyy-Www"),month:Rr("month",Vo,Pr(Vo,["yyyy","MM"]),"yyyy-MM"),number:Hr,url:jr,email:Fr,radio:Br,checkbox:qr,hidden:h,button:h,submit:h,reset:h,file:h},Yo=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Ko[Yr(a.type)]||Ko.text)(i,o,a,s[0],t,e,n,r)}}}}],Xo=/^(true|false|\d+)$/,Zo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Xo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Jo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Qo=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,o){var a=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],ea=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],ta=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),na=Ur("",!0),ra=Ur("Odd",0),ia=Ur("Even",1),oa=Sr({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),aa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],sa={},la={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Jt("ng-"+e);sa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};la[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var ua=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=lt(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],ca=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ui.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(o,function(o){var l=function(){!y(s)||s&&!r.$eval(s)||t()},p=++h;o?(e(o,!0).then(function(e){if(p===h){var t=r.$new();u.template=e;var s=c(t,function(e){m(),n.enter(e,null,i).then(l)});d=t,f=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){p===h&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],da=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void e(yt(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],pa=Sr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),fa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?fi(a):a,u=function(e){if(!v(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(s?fi(e):e)}),t}};i.$parsers.push(u),i.$formatters.push(function(e){return pi(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ha="ng-valid",ma="ng-invalid",ga="ng-pristine",va="ng-dirty",ya="ng-untouched",ba="ng-touched",$a="ng-pending",wa=new r("ngModel"),Ea=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,l,u,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e);var p,f=a(r.ngModel),m=f.assign,g=f,b=m,$=null,E=this;this.$$setOptions=function(e){if(E.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=f(e);return _(n)&&(n=t(e)),n},b=function(e){_(f(e))?n(e,{$$$p:E.$modelValue}):m(e,E.$modelValue)}}else if(!f.assign)throw wa("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,G(i))},this.$render=h,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var x=i.inheritedData("$formController")||Io,C=0;Gr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:x,$animate:s}),this.$setPristine=function(){E.$dirty=!1,E.$pristine=!0,s.removeClass(i,va),s.addClass(i,ga)},this.$setDirty=function(){E.$dirty=!0,E.$pristine=!1,s.removeClass(i,ga),s.addClass(i,va),x.$setDirty()},this.$setUntouched=function(){E.$touched=!1,E.$untouched=!0,s.setClass(i,ya,ba)},this.$setTouched=function(){E.$touched=!0,E.$untouched=!1,s.setClass(i,ba,ya)},this.$rollbackViewValue=function(){l.cancel($),E.$viewValue=E.$$lastCommittedViewValue,E.$render()},this.$validate=function(){if(!w(E.$modelValue)||!isNaN(E.$modelValue)){var e=E.$$lastCommittedViewValue,t=E.$$rawModelValue,r=E.$valid,i=E.$modelValue,o=E.$options&&E.$options.allowInvalid;E.$$runValidators(t,e,function(e){o||r===e||(E.$modelValue=e?t:n,E.$modelValue!==i&&E.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=E.$$parserName||"parse";return p!==n?(p||(o(E.$validators,function(e,t){l(t,null)}),o(E.$asyncValidators,function(e,t){l(t,null)})),l(e,p),p):(l(e,null),!0)}function a(){var n=!0;return o(E.$validators,function(r,i){var o=r(e,t);n=n&&o,l(i,o)}),n?!0:(o(E.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var r=[],i=!0;o(E.$asyncValidators,function(o,a){var s=o(e,t);if(!N(s))throw wa("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},h):u(!0)}function l(e,t){d===C&&E.$setValidity(e,t)}function u(e){d===C&&r(e)}C++;var d=C;return i()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var e=E.$viewValue;l.cancel($),(E.$$lastCommittedViewValue!==e||""===e&&E.$$hasNativeValidators)&&(E.$$lastCommittedViewValue=e,E.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){E.$modelValue!==a&&E.$$writeModelToScope()}var r=E.$$lastCommittedViewValue,i=r;if(p=v(i)?n:!0)for(var o=0;o<E.$parsers.length;o++)if(i=E.$parsers[o](i),v(i)){p=!1;break}w(E.$modelValue)&&isNaN(E.$modelValue)&&(E.$modelValue=g(e));var a=E.$modelValue,s=E.$options&&E.$options.allowInvalid;E.$$rawModelValue=i,s&&(E.$modelValue=i,t()),E.$$runValidators(i,E.$$lastCommittedViewValue,function(e){s||(E.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){b(e,E.$modelValue),o(E.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){E.$viewValue=e,(!E.$options||E.$options.updateOnDefault)&&E.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=E.$options;i&&y(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[t])?r=n[t]:w(n["default"])&&(r=n["default"])),l.cancel($),r?$=l(function(){E.$commitViewValue()},r):u.$$phase?E.$commitViewValue():e.$apply(function(){E.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==E.$modelValue&&(E.$modelValue===E.$modelValue||t===t)){E.$modelValue=E.$$rawModelValue=t,p=n;for(var r=E.$formatters,i=r.length,o=t;i--;)o=r[i](o);E.$viewValue!==o&&(E.$viewValue=E.$$lastCommittedViewValue=o,E.$render(),E.$$runValidators(t,o,h))}return t})}],_a=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ea,priority:1,compile:function(t){return t.addClass(ga).addClass(ya).addClass(ha),{pre:function(e,t,n,r){var i=r[0],o=r[1]||Io;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&o.$$renameControl(i,e)}),e.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],xa=/(\s+|^)default(\s+|$)/,Ca=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=fi(this.$options.updateOn.replace(xa,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ka=Sr({terminal:!0,priority:1e3}),Ta=["$locale","$interpolate",function(e,t){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,a,s){function l(e){a.text(e||"")}var u,c=s.count,d=s.$attr.when&&a.attr(s.$attr.when),p=s.offset||0,f=i.$eval(d)||{},h={},m=t.startSymbol(),g=t.endSymbol(),v=m+c+"-"+p+g,y=ui.noop;o(s,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+Yr(n[2]);f[i]=a.attr(s.$attr[t])}}),o(f,function(e,r){h[r]=t(e.replace(n,v))}),i.$watch(c,function(t){var n=parseFloat(t),r=isNaN(n);r||n in f||(n=e.pluralCat(n-p)),n===u||r&&isNaN(u)||(y(),y=i.$watch(h[n],l),u=n)})}}}],Sa=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,p){var f=p.ngRepeat,h=t.createComment(" end ngRepeat: "+f+" "),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],v=m[2],y=m[3],b=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var $=m[3]||m[1],w=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var E,_,x,C,k={$id:Ft};return b?E=e(b):(x=function(e,t){return Ft(t)},C=function(e){return e}),function(e,t,r,p,m){E&&(_=function(t,n,r){return w&&(k[w]=t),k[$]=n,k.$index=r,E(e,k)});var g=ut();e.$watchCollection(v,function(r){var p,v,b,E,k,T,S,M,A,N,O,D,I=t[0],P=ut();if(y&&(e[y]=r),i(r))A=r,M=_||x;else{M=_||C,A=[];for(var R in r)r.hasOwnProperty(R)&&"$"!=R.charAt(0)&&A.push(R);A.sort()}for(E=A.length,O=new Array(E),p=0;E>p;p++)if(k=r===A?p:A[p],T=r[k],S=M(k,T,p),g[S])N=g[S],delete g[S],P[S]=N,O[p]=N;else{if(P[S])throw o(O,function(e){e&&e.scope&&(g[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,S,T);O[p]={id:S,scope:n,clone:n},P[S]=!0}for(var L in g){if(N=g[L],D=lt(N.clone),a.leave(D),D[0].parentNode)for(p=0,v=D.length;v>p;p++)D[p][s]=!0;N.scope.$destroy()}for(p=0;E>p;p++)if(k=r===A?p:A[p],T=r[k],N=O[p],N.scope){b=I;do b=b.nextSibling;while(b&&b[s]);c(N)!=b&&a.move(lt(N.clone),null,ti(I)),I=d(N),u(N.scope,p,$,T,w,k,E)}else m(function(e,t){N.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,a.enter(e,null,ti(I)),I=n,N.clone=e,P[N.id]=N,u(N.scope,p,$,T,w,k,E)});g=P})}}}}],Ma="ng-hide",Aa="ng-hide-animate",Na=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ma,{tempClasses:Aa})})}}}],Oa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ma,{tempClasses:Aa})})}}}],Da=Sr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ia=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=d.length;i>r;++r){var s=lt(u[r].clone);d[r].$destroy();var f=c[r]=e.leave(s);f.then(p(c,r))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],Pa=Sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Ra=Sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),La=Sr({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",G(t));o(function(e){t.empty(),t.append(e)})}}),Ha=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],ja=r("ngOptions"),Fa=g({restrict:"A",terminal:!0}),Ba=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,o=this,a={},l=s;o.databound=n.ngModel,o.init=function(e,t,n){l=e,r=t,i=n},o.addOption=function(t,n){at(t,'"option value"'),a[t]=!0,l.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],l.$viewValue===e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Ft(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=h})}],link:function(s,l,u,c){function d(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(x.parent()&&x.remove(),t.val(e),""===e&&h.prop("selected",!0)):null==e&&h?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){x.parent()&&x.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var r;n.$render=function(){var e=new Bt(n.$viewValue);o(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){H(r,n.$viewValue)||(r=L(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function f(t,s,l){function u(e,n,r){return H[T]=r,A&&(H[A]=n),e(t,H)
}function c(){t.$apply(function(){var e,n=D(t)||[];if(v)e=[],o(s.val(),function(t){t=P?R[t]:t,e.push(d(t,n[t]))});else{var r=P?R[s.val()]:s.val();e=d(r,n[r])}l.$setViewValue(e),x()})}function d(e,t){if("?"===e)return n;if(""===e)return null;var r=M?M:O;return u(r,e,t)}function p(){var e,n=D(t);if(n&&pi(n)){e=new Array(n.length);for(var r=0,i=n.length;i>r;r++)e[r]=u(k,r,n[r]);return e}if(n){e={};for(var o in n)n.hasOwnProperty(o)&&(e[o]=u(k,o,n[o]))}return e}function f(e){var t;if(v)if(P&&pi(e)){t=new Bt([]);for(var n=0;n<e.length;n++)t.put(u(P,null,e[n]),!0)}else t=new Bt(e);else P&&(e=u(P,null,e));return function(n,r){var i;return i=P?P:M?M:O,v?y(t.remove(u(i,n,r))):e===u(i,n,r)}}function h(){w||(t.$$postDigest(x),w=!0)}function g(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function x(){w=!1;var e,n,r,i,c,d,p,h,b,x,C,T,S,M,O,I,j,F={"":[]},B=[""],W=l.$viewValue,q=D(t)||[],U=A?a(q):q,G={},V=f(W),z=!1;for(R={},T=0;x=U.length,x>T;T++)p=T,A&&(p=U[T],"$"===p.charAt(0))||(h=q[p],e=u(N,p,h)||"",(n=F[e])||(n=F[e]=[],B.push(e)),S=V(p,h),z=z||S,I=u(k,p,h),I=y(I)?I:"",j=P?P(t,H):A?U[T]:T,P&&(R[j]=p),n.push({id:j,label:I,selected:S}));for(v||($||null===W?F[""].unshift({id:"",label:"",selected:!z}):z||F[""].unshift({id:"?",label:"",selected:!0})),C=0,b=B.length;b>C;C++){for(e=B[C],n=F[e],L.length<=C?(i={element:_.clone().attr("label",e),label:n.label},c=[i],L.push(c),s.append(i.element)):(c=L[C],i=c[0],i.label!=e&&i.element.attr("label",i.label=e)),M=null,T=0,x=n.length;x>T;T++)r=n[T],(d=c[T+1])?(M=d.element,d.label!==r.label&&(g(G,d.label,!1),g(G,r.label,!0),M.text(d.label=r.label),M.prop("label",d.label)),d.id!==r.id&&M.val(d.id=r.id),M[0].selected!==r.selected&&(M.prop("selected",d.selected=r.selected),ei&&M.prop("selected",d.selected))):(""===r.id&&$?O=$:(O=E.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),c.push(d={element:O,label:r.label,id:r.id,selected:r.selected}),g(G,r.label,!0),M?M.after(O):i.element.append(O),M=O);for(T++;c.length>T;)r=c.pop(),g(G,r.label,!1),r.element.remove()}for(;L.length>C;){for(n=L.pop(),T=1;T<n.length;++T)g(G,n[T].label,!1);n[0].element.remove()}o(G,function(e,t){e>0?m.addOption(t):0>e&&m.removeOption(t)})}var C;if(!(C=b.match(i)))throw ja("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,G(s));var k=r(C[2]||C[1]),T=C[4]||C[6],S=/ as /.test(C[0])&&C[1],M=S?r(S):null,A=C[5],N=r(C[3]||""),O=r(C[2]?C[1]:T),D=r(C[7]),I=C[8],P=I?r(C[8]):null,R={},L=[[{element:s,label:""}]],H={};$&&(e($)(t),$.removeClass("ng-scope"),$.remove()),s.empty(),s.on("change",c),l.$render=x,t.$watchCollection(D,h),t.$watchCollection(p,h),v&&t.$watchCollection(function(){return l.$modelValue},h)}if(c[1]){for(var h,m=c[0],g=c[1],v=u.multiple,b=u.ngOptions,$=!1,w=!1,E=ti(t.createElement("option")),_=ti(t.createElement("optgroup")),x=E.clone(),C=0,k=l.children(),T=k.length;T>C;C++)if(""===k[C].value){h=$=k.eq(C);break}m.init(g,$,x),v&&(g.$isEmpty=function(e){return!e||0===e.length}),b?f(s,l,g):v?p(s,l,g):d(s,l,g,m)}}}}],Wa=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=t),i?e.$watch(i,function(e,t){r.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],qa=g({restrict:"E",terminal:!1}),Ua=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Ga=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if($(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,G(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||v(a)||a.test(e)}}}}},Va=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=p(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},za=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(rt(),ft(ui),void ti(t).ready(function(){J(t,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(n,r,i){var o=i.ngAnimateChildren;t.isString(o)&&0===o.length?r.data(e,!0):n.$watch(o,function(t){r.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){t(n.offsetWidth)})}}]).config(["$provide","$animateProvider",function(r,i){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==g)return n}}function a(e){return e&&t.element(e)}function s(e){return t.element(o(e))}function l(e,t){return o(e)==o(t)}var u,c=t.noop,d=t.forEach,p=i.$$selectors,f=t.isArray,h=t.isString,m=t.isObject,g=1,v="$$ngAnimateState",y="$$ngAnimateChildren",b="ng-animate",$={running:!0};r.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,r,g,w,E,_,x,C,k){function T(e,t){var n=e.data(v)||{};return t&&(n.running=!0,n.structural=!0,e.data(v,n)),n.disabled||n.running&&n.structural}function S(e){var t,r=n.defer();return r.promise.$$cancelFn=function(){t&&t()},_.$$postDigest(function(){t=e(function(){r.resolve()})}),r.promise}function M(e){return m(e)?(e.tempClasses&&h(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function A(e,t,n){n=n||{};var r={};d(n,function(e,t){d(t.split(" "),function(t){r[t]=e})});var i=Object.create(null);d((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0});var o=[],a=[];return d(t&&t.classes||[],function(e,t){var n=i[t],s=r[t]||{};e===!1?(n||"addClass"==s.event)&&a.push(t):e===!0&&(n&&"removeClass"!=s.event||o.push(t))}),o.length+a.length>0&&[o.join(" "),a.join(" ")]}function N(e){if(e){var t=[],n={},i=e.substr(1).split(".");(g.transitions||g.animations)&&t.push(r.get(p[""]));for(var o=0;o<i.length;o++){var a=i[o],s=p[a];s&&!n[a]&&(t.push(r.get(s)),n[a]=!0)}return t}}function O(e,n,r,i){function o(e,t){var n=e[t],r=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||r?("leave"==t&&(r=n,n=null),E.push({event:t,fn:n}),b.push({event:t,fn:r}),!0):void 0}function a(t,n,o){function a(e){if(n){if((n[e]||c)(),++p<s.length)return;n=null}o()}var s=[];d(t,function(e){e.fn&&s.push(e)});var p=0;d(s,function(t,o){var s=function(){a(o)};switch(t.event){case"setClass":n.push(t.fn(e,l,u,s,i));break;case"animate":n.push(t.fn(e,r,i.from,i.to,s));break;case"addClass":n.push(t.fn(e,l||r,s,i));break;case"removeClass":n.push(t.fn(e,u||r,s,i));break;default:n.push(t.fn(e,s,i))}}),n&&0===n.length&&o()}var s=e[0];if(s){i&&(i.to=i.to||{},i.from=i.from||{});var l,u;f(r)&&(l=r[0],u=r[1],l?u?r=l+" "+u:(r=l,n="addClass"):(r=u,n="removeClass"));var p="setClass"==n,h=p||"addClass"==n||"removeClass"==n||"animate"==n,m=e.attr("class"),g=m+" "+r;if(F(g)){var v=c,y=[],b=[],$=c,w=[],E=[],_=(" "+g).replace(/\s+/g,".");return d(N(_),function(e){var t=o(e,n);!t&&p&&(o(e,"addClass"),o(e,"removeClass"))}),{node:s,event:n,className:r,isClassBased:h,isSetClassOperation:p,applyStyles:function(){i&&e.css(t.extend(i.from||{},i.to||{}))},before:function(e){v=e,a(b,y,function(){v=c,e()})},after:function(e){$=e,a(E,w,function(){$=c,e()})},cancel:function(){y&&(d(y,function(e){(e||c)(!0)}),v(!0)),w&&(d(w,function(e){(e||c)(!0)}),$(!0))}}}}}function D(e,n,r,i,o,a,s,l){function p(t){var i="$animate:"+t;_&&_[i]&&_[i].length>0&&E(function(){r.triggerHandler(i,{event:e,className:n})})}function f(){p("before")}function h(){p("after")}function m(){p("close"),l()}function g(){g.hasBeenRun||(g.hasBeenRun=!0,a())}function y(){if(!y.hasBeenRun){w&&w.applyStyles(),y.hasBeenRun=!0,s&&s.tempClasses&&d(s.tempClasses,function(e){u.removeClass(r,e)});var t=r.data(v);t&&(w&&w.isClassBased?P(r,n):(E(function(){var t=r.data(v)||{};D==t.index&&P(r,n,e)}),r.data(v,t))),m()}}var $=c,w=O(r,e,n,s);if(!w)return g(),f(),h(),y(),$;e=w.event,n=w.className;var _=t.element._data(w.node);if(_=_&&_.events,i||(i=o?o.parent():r.parent()),R(r,i))return g(),f(),h(),y(),$;var x=r.data(v)||{},C=x.active||{},k=x.totalActive||0,T=x.last,S=!1;if(k>0){var M=[];if(w.isClassBased){if("setClass"==T.event)M.push(T),P(r,n);else if(C[n]){var A=C[n];A.event==e?S=!0:(M.push(A),P(r,n))}}else if("leave"==e&&C["ng-leave"])S=!0;else{for(var N in C)M.push(C[N]);x={},P(r,!0)}M.length>0&&d(M,function(e){e.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==e||S||(S="addClass"==e==r.hasClass(n)),S)return g(),f(),h(),m(),$;C=x.active||{},k=x.totalActive||0,"leave"==e&&r.one("$destroy",function(){var e=t.element(this),n=e.data(v);if(n){var r=n.active["ng-leave"];r&&(r.cancel(),P(e,"ng-leave"))}}),u.addClass(r,b),s&&s.tempClasses&&d(s.tempClasses,function(e){u.addClass(r,e)});var D=H++;return k++,C[n]=w,r.data(v,{last:w,active:C,index:D,totalActive:k}),f(),w.before(function(t){var i=r.data(v);t=t||!i||!i.active[n]||w.isClassBased&&i.active[n].event!=e,g(),t===!0?y():(h(),w.after(y))}),w.cancel}function I(e){var n=o(e);if(n){var r=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(b):n.querySelectorAll("."+b);d(r,function(e){e=t.element(e);var n=e.data(v);n&&n.active&&d(n.active,function(e){e.cancel()})})}}function P(e,t){if(l(e,w))$.disabled||($.running=!1,$.structural=!1);else if(t){var n=e.data(v)||{},r=t===!0;!r&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(r||!n.totalActive)&&(u.removeClass(e,b),e.removeData(v))}}function R(e,n){if($.disabled)return!0;if(l(e,w))return $.running;var r,i,o;do{if(0===n.length)break;var a=l(n,w),s=a?$:n.data(v)||{};if(s.disabled)return!0;if(a&&(o=!0),r!==!1){var u=n.data(y);t.isDefined(u)&&(r=u)}i=i||s.running||s.last&&!s.last.isClassBased}while(n=n.parent());return!o||!r&&i}u=k,w.data(v,$);var L=_.$watch(function(){return C.totalPendingRequests},function(e){0===e&&(L(),_.$$postDigest(function(){_.$$postDigest(function(){$.running=!1})}))}),H=0,j=i.classNameFilter(),F=j?function(e){return j.test(e)}:function(){return!0};return{animate:function(e,t,n,r,i){return r=r||"ng-inline-animate",i=M(i)||{},i.from=n?t:null,i.to=n?n:t,S(function(t){return D("animate",r,s(e),null,null,c,i,t)})},enter:function(n,r,i,o){return o=M(o),n=t.element(n),r=a(r),i=a(i),T(n,!0),e.enter(n,r,i),S(function(e){return D("enter","ng-enter",s(n),r,i,c,o,e)})},leave:function(n,r){return r=M(r),n=t.element(n),I(n),T(n,!0),S(function(t){return D("leave","ng-leave",s(n),null,null,function(){e.leave(n)},r,t)})},move:function(n,r,i,o){return o=M(o),n=t.element(n),r=a(r),i=a(i),I(n),T(n,!0),e.move(n,r,i),S(function(e){return D("move","ng-move",s(n),r,i,c,o,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,r,i,a){a=M(a);var l="$$animateClasses";if(n=t.element(n),n=s(n),T(n))return e.$$setClassImmediately(n,r,i,a);var u,c=n.data(l),p=!!c;return c||(c={},c.classes={}),u=c.classes,r=f(r)?r:r.split(" "),d(r,function(e){e&&e.length&&(u[e]=!0)}),i=f(i)?i:i.split(" "),d(i,function(e){e&&e.length&&(u[e]=!1)}),p?(a&&c.options&&(c.options=t.extend(c.options||{},a)),c.promise):(n.data(l,c={classes:u,options:a}),c.promise=S(function(t){var r=n.parent(),i=o(n),a=i.parentNode;if(!a||a.$$NG_REMOVED||i.$$NG_REMOVED)return void t();var s=n.data(l);n.removeData(l);var u=n.data(v)||{},c=A(n,s,u.active);return c?D("setClass",c,n,r,null,function(){c[0]&&e.$$addClassImmediately(n,c[0]),c[1]&&e.$$removeClassImmediately(n,c[1])},s.options,t):t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)P(t);else{var n=t.data(v)||{};n.disabled=!0,t.data(v,n)}break;case 1:$.disabled=!e;break;default:e=!$.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,i,a,s){function l(){P||(P=s(function(){K=[],P=null,V={}}))}function p(e,t){P&&P(),K.push(t),P=s(function(){d(K,function(e){e()}),K=[],P=null,V={}})}function m(e,n){var r=o(e);e=t.element(r),Z.push(e);var i=Date.now()+n;X>=i||(a.cancel(Y),X=i,Y=a(function(){v(Z),Z=[]},n,!1))}function v(e){d(e,function(e){var t=e.data(W);t&&d(t.closeAnimationFns,function(e){e()})})}function y(e,t){var n=t?V[t]:null;if(!n){var i=0,o=0,a=0,s=0;d(e,function(e){if(e.nodeType==g){var t=r.getComputedStyle(e)||{},n=t[A+R];i=Math.max(b(n),i);var l=t[A+H];o=Math.max(b(l),o);{t[O+H]}s=Math.max(b(t[O+H]),s);var u=b(t[O+R]);u>0&&(u*=parseInt(t[O+j],10)||1),a=Math.max(u,a)}}),n={total:0,transitionDelay:o,transitionDuration:i,animationDelay:s,animationDuration:a},t&&(V[t]=n)}return n}function b(e){var t=0,n=h(e)?e.split(/\s*,\s*/):[];return d(n,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function $(e){var t=e.parent(),n=t.data(B);return n||(t.data(B,++z),n=z),n+"-"+o(e).getAttribute("class")}function w(e,t,n,r){var i=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,a=$(t),s=a+" "+n,l=V[s]?++V[s].total:0,c={};if(l>0){var d=n+"-stagger",p=a+" "+d,f=!V[p];f&&u.addClass(t,d),c=y(t,p),f&&u.removeClass(t,d)}u.addClass(t,n);var h=t.data(W)||{},m=y(t,s),g=m.transitionDuration,v=m.animationDuration;if(i&&0===g&&0===v)return u.removeClass(t,n),!1;var b=r||i&&g>0,w=v>0&&c.animationDelay>0&&0===c.animationDuration,E=h.closeAnimationFns||[];t.data(W,{stagger:c,cacheKey:s,running:h.running||0,itemIndex:l,blockTransition:b,closeAnimationFns:E});var C=o(t);return b&&(_(C,!0),r&&t.css(r)),w&&x(C,!0),!0}function E(e,t,n,r,i){function s(){t.off(H,l),u.removeClass(t,f),u.removeClass(t,h),R&&a.cancel(R),S(t,n);var e=o(t);for(var r in v)e.style.removeProperty(v[r])}function l(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(q));Math.max(n-L,0)>=O&&i>=M&&r()}var c=o(t),p=t.data(W);if(-1==c.getAttribute("class").indexOf(n)||!p)return void r();var f="",h="";d(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;f+=n+"-active",h+=n+"-pending"});var g="",v=[],b=p.itemIndex,$=p.stagger,w=0;if(b>0){var E=0;$.transitionDelay>0&&0===$.transitionDuration&&(E=$.transitionDelay*b);var C=0;$.animationDelay>0&&0===$.animationDuration&&(C=$.animationDelay*b,v.push(I+"animation-play-state")),w=Math.round(100*Math.max(E,C))/100}w||(u.addClass(t,f),p.blockTransition&&_(c,!1));var k=p.cacheKey+" "+f,T=y(t,k),M=Math.max(T.transitionDuration,T.animationDuration);if(0===M)return u.removeClass(t,f),S(t,n),void r();!w&&i&&Object.keys(i).length>0&&(T.transitionDuration||(t.css("transition",T.animationDuration+"s linear all"),v.push("transition")),t.css(i));var A=Math.max(T.transitionDelay,T.animationDelay),O=A*G;if(v.length>0){var P=c.getAttribute("style")||"";";"!==P.charAt(P.length-1)&&(P+=";"),c.setAttribute("style",P+" "+g)}var R,L=Date.now(),H=D+" "+N,j=(A+M)*U,F=(w+j)*G;return w>0&&(u.addClass(t,h),R=a(function(){R=null,T.transitionDuration>0&&_(c,!1),T.animationDuration>0&&x(c,!1),u.addClass(t,f),u.removeClass(t,h),i&&(0===T.transitionDuration&&t.css("transition",T.animationDuration+"s linear all"),t.css(i),v.push("transition"))},w*G,!1)),t.on(H,l),p.closeAnimationFns.push(function(){s(),r()}),p.running++,m(t,F),s}function _(e,t){e.style[A+L]=t?"none":""}function x(e,t){e.style[O+F]=t?"paused":""}function C(e,t,n,r){return w(e,t,n,r)?function(e){e&&S(t,n)}:void 0}function k(e,t,n,r,i){return t.data(W)?E(e,t,n,r,i):(S(t,n),void r())}function T(e,t,n,r,i){var o=C(e,t,n,i.from);if(!o)return l(),void r();var a=o;return p(t,function(){a=k(e,t,n,r,i.to)}),function(e){(a||c)(e)}}function S(e,t){u.removeClass(e,t);var n=e.data(W);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(W))}function M(e,t){var n="";return e=f(e)?e:e.split(/\s+/),d(e,function(e,r){e&&e.length>0&&(n+=(r>0?" ":"")+e+t)}),n}var A,N,O,D,I="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(I="-webkit-",A="WebkitTransition",N="webkitTransitionEnd transitionend"):(A="transition",N="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(I="-webkit-",O="WebkitAnimation",D="webkitAnimationEnd animationend"):(O="animation",D="animationend");var P,R="Duration",L="Property",H="Delay",j="IterationCount",F="PlayState",B="$$ngAnimateKey",W="$$ngAnimateCSS3Data",q=3,U=1.5,G=1e3,V={},z=0,K=[],Y=null,X=0,Z=[];return{animate:function(e,t,n,r,i,o){return o=o||{},o.from=n,o.to=r,T("animate",e,t,i,o)},enter:function(e,t,n){return n=n||{},T("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},T("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},T("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,r,i){i=i||{};var o=M(n,"-remove")+" "+M(t,"-add"),a=C("setClass",e,o,i.from);return a?(p(e,r),a):(l(),void r())},beforeAddClass:function(e,t,n,r){r=r||{};var i=C("addClass",e,M(t,"-add"),r.from);return i?(p(e,n),i):(l(),void n())},beforeRemoveClass:function(e,t,n,r){r=r||{};var i=C("removeClass",e,M(t,"-remove"),r.from);return i?(p(e,n),i):(l(),void n())},setClass:function(e,t,n,r,i){i=i||{},n=M(n,"-remove"),t=M(t,"-add");var o=n+" "+t;return k("setClass",e,o,r,i.to)},addClass:function(e,t,n,r){return r=r||{},k("addClass",e,M(t,"-add"),n,r.to)},removeClass:function(e,t,n,r){return r=r||{},k("removeClass",e,M(t,"-remove"),n,r.to)}}}])}])}(window,window.angular),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function i(){var e,i,o,l;for(e in s)c(a[e])&&(r.cookies(e,n),delete s[e]);for(e in a)i=a[e],t.isString(i)||(i=""+i,a[e]=i),i!==s[e]&&(r.cookies(e,i),s[e]=i,l=!0);if(l){o=r.cookies();for(e in a)a[e]!==o[e]&&(c(o[e])?(delete a[e],delete s[e]):a[e]=s[e]=o[e])}}var o,a={},s={},l=!1,u=t.copy,c=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();o!=t&&(o=t,u(t,s),u(t,a),l&&e.$apply())})(),l=!0,e.$watch(i),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var r=e[n];return r?t.fromJson(r):r},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function r(e,n,r){i.directive(e,["$parse","$swipe",function(i,o){var a=75,s=.3,l=30;return function(u,c,d){function p(e){if(!f)return!1;var t=Math.abs(e.y-f.y),r=(e.x-f.x)*n;return h&&a>t&&r>0&&r>l&&s>t/r}var f,h,m=i(d[e]),g=["touch"];t.isDefined(d.ngSwipeDisableMouse)||g.push("mouse"),o.bind(c,{start:function(e){f=e,h=!0},cancel:function(){h=!1},end:function(e,t){p(e)&&u.$apply(function(){c.triggerHandler(r),m(u,{$event:t})})}},g)}}])}var i=t.module("ngTouch",[]);i.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,i,o){var a,s,l,u,c=!1;o=o||["mouse","touch"],t.on(n(o,"start"),function(t){l=e(t),c=!0,a=0,s=0,u=l,i.start&&i.start(l,t)});var d=n(o,"cancel");d&&t.on(d,function(e){c=!1,i.cancel&&i.cancel(e)}),t.on(n(o,"move"),function(t){if(c&&l){var n=e(t);if(a+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(r>a&&r>s))return s>a?(c=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(o,"end"),function(t){c&&(c=!1,i.end&&i.end(e(t),t))})}}}]),i.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(e,r,i){function o(e,t,n,r){return Math.abs(e-n)<g&&Math.abs(t-r)<g}function a(e,t,n){for(var r=0;r<e.length;r+=2)if(o(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function s(e){if(!(Date.now()-c>m)){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;1>r&&1>i||p&&p[0]===r&&p[1]===i||(p&&(p=null),"label"===n(e.target)&&(p=[r,i]),a(d,r,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function l(e){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,i=t[0].clientY;d.push(n,i),r(function(){for(var e=0;e<d.length;e+=2)if(d[e]==n&&d[e+1]==i)return void d.splice(e,e+2)},m,!1)}function u(e,t){d||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",l,!0),d=[]),c=Date.now(),a(d,e,t)}var c,d,p,f=750,h=12,m=2500,g=25,v="ng-click-active";return function(n,r,i){function o(){p=!1,r.removeClass(v)}var a,s,l,c,d=e(i.ngClick),p=!1;r.on("touchstart",function(e){p=!0,a=e.target?e.target:e.srcElement,3==a.nodeType&&(a=a.parentNode),r.addClass(v),s=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=n[0];l=i.clientX,c=i.clientY}),r.on("touchmove",function(){o()}),r.on("touchcancel",function(){o()}),r.on("touchend",function(e){var n=Date.now()-s,d=e.originalEvent||e,m=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],g=m[0],v=g.clientX,y=g.clientY,b=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-c,2));p&&f>n&&h>b&&(u(v,y),a&&a.blur(),t.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[e])),o()}),r.onclick=function(){},r.on("click",function(e,t){n.$apply(function(){d(n,{$event:t||e})})}),r.on("mousedown",function(){r.addClass(v)}),r.on("mousemove mouseup",function(){r.removeClass(v)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function i(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function o(e,n){function r(e,r,o,s){if(r=t.lowercase(r),x[r])for(;b.last()&&C[b.last()];)i("",b.last());_[r]&&b.last()==r&&i("",r),s=$[r]||!!s,s||b.push(r);var l={};o.replace(p,function(e,t,n,r,i){var o=n||r||i||"";l[t]=a(o)}),n.start&&n.start(r,l,s)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=b.length-1;o>=0&&b[o]!=r;o--);if(o>=0){for(i=b.length-1;i>=o;i--)n.end&&n.end(b[i]);b.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,s,l,y,b=[],w=e;for(b.last=function(){return b[b.length-1]};e;){if(y="",s=!0,b.last()&&T[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(v,"$1"),n.chars&&n.chars(a(t)),""}),i("",b.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),s=!1)):g.test(e)?(l=e.match(g),l&&(e=e.replace(l[0],""),s=!1)):h.test(e)?(l=e.match(d),l&&(e=e.substring(l[0].length),l[0].replace(d,i),s=!1)):f.test(e)&&(l=e.match(c),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(c,r)),s=!1):(y+="<",e=e.substring(1))),s&&(o=e.indexOf("<"),y+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(a(y)))),e==w)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}i()}function a(e){return e?(D.innerHTML=e.replace(/</g,"&lt;"),D.textContent):""}function s(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&T[e]&&(r=e),r||S[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;O[a]!==!0||M[a]===!0&&!n(r,l)||(i(" "),i(o),i('="'),i(s(r)),i('"'))}),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||S[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(s(e))}}}var u=t.$$minErr("$sanitize"),c=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,h=/^<\//,m=/<!--(.*?)-->/g,g=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,$=i("area,br,col,hr,img,wbr"),w=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E=i("rp,rt"),_=t.extend({},E,w),x=t.extend({},w,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=t.extend({},E,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),T=i("script,style"),S=t.extend({},$,x,C,_,k),M=i("background,cite,href,longdesc,src,usemap,xlink:href"),A=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),N=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),O=t.extend({},M,N,A),D=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/i,i=/^mailto:/i;return function(o,a){function s(e){e&&f.push(r(e))}function l(e,n){f.push("<a "),t.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var u,c,d,p=o,f=[];u=p.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),d=u.index,s(p.substr(0,d)),l(c,u[0].replace(i,"")),p=p.substring(d+u[0].length);return s(p),e(f.join(""))}}])}(window,window.angular),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";t.module("ngMessages",[]).directive("ngMessages",["$compile","$animate","$templateRequest",function(e,n,r){var i="ng-active",o="ng-inactive";return{restrict:"AE",controller:function(){this.$renderNgMessageClasses=t.noop;var e=[];this.registerMessage=function(t,n){for(var r=0;r<e.length;r++)if(e[r].type==n.type){if(t!=r){var i=e[t];e[t]=e[r],t<e.length?e[r]=i:e.splice(0,r)}return}e.splice(t,0,n)},this.renderMessages=function(n,r){function i(e){return null!==e&&e!==!1&&e}n=n||{};var o;t.forEach(e,function(e){o&&!r||!i(n[e.type])?e.detach():(e.attach(),o=!0)}),this.renderElementClasses(o)}},require:"ngMessages",link:function(a,s,l,u){u.renderElementClasses=function(e){e?n.setClass(s,i,o):n.setClass(s,o,i)};var c,d=t.isString(l.ngMessagesMultiple)||t.isString(l.multiple),p=l.ngMessages||l["for"];a.$watchCollection(p,function(e){c=e,u.renderMessages(e,d)});var f=l.ngMessagesInclude||l.include;f&&r(f).then(function(n){var r,i=t.element("<div/>").html(n);t.forEach(i.children(),function(n){n=t.element(n),r?r.after(n):s.prepend(n),r=n,e(n)(a)}),u.renderMessages(c,d)})}}}]).directive("ngMessage",["$animate",function(e){var t=8;return{require:"^ngMessages",transclude:"element",terminal:!0,restrict:"AE",link:function(n,r,i,o,a){for(var s,l,u=r[0],c=u.parentNode,d=0,p=0;d<c.childNodes.length;d++){var f=c.childNodes[d];if(f.nodeType==t&&f.nodeValue.indexOf("ngMessage")>=0){if(f===u){s=p;break}p++}}o.registerMessage(s,{type:i.ngMessage||i.when,attach:function(){l||a(n,function(t){e.enter(t,null,r),l=t})},detach:function(){l&&(e.leave(l),l=null)}})}}}])}(window,window.angular),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function e(e,t,r){return function(i,o,a){var s=a.$normalize(t);n[s]&&!a[s]&&i.$watch(a[e],function(e){r&&(e=!e),o.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var r=t.module("ngAria",["ng"]).provider("$aria",n);r.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,r){return e.config(n)&&!r.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function r(e,t){var n=e.type,r=e.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":"textbox"===(n||r)||"TEXTAREA"===t[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(i,o){var a=r(o,i);return{pre:function(e,t,n,r){"checkbox"===a&&"checkbox"!==n.type&&(r.$isEmpty=function(e){return e===!1})},post:function(r,i,o,s){function l(){return s.$modelValue}function u(){return d?(d=!1,function(){var e=o.value==s.$viewValue;i.attr("aria-checked",e),i.attr("tabindex",0-!e)}):function(){i.attr("aria-checked",o.value==s.$viewValue)}}function c(){i.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=t("tabindex","tabindex",i);switch(a){case"radio":case"checkbox":n(a,i)&&i.attr("role",a),t("aria-checked","ariaChecked",i)&&r.$watch(l,"radio"===a?u():c);break;case"range":n(a,i)&&i.attr("role","slider"),e.config("ariaValue")&&(o.min&&!i.attr("aria-valuemin")&&i.attr("aria-valuemin",o.min),o.max&&!i.attr("aria-valuemax")&&i.attr("aria-valuemax",o.max),i.attr("aria-valuenow")||r.$watch(l,function(e){i.attr("aria-valuenow",e)}));break;case"multiline":t("aria-multiline","ariaMultiline",i)&&i.attr("aria-multiline",!0)}d&&i.attr("tabindex",0),s.$validators.required&&t("aria-required","ariaRequired",i)&&r.$watch(function(){return s.$error.required},function(e){i.attr("aria-required",!!e)}),t("aria-invalid","ariaInvalid",i)&&r.$watch(function(){return s.$invalid},function(e){i.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,r){var i=t(r.ngClick,null,!0);return function(t,n,r){function o(e,t){return-1!==t.indexOf(e[0].nodeName)?!0:void 0}var a=["BUTTON","A","INPUT","TEXTAREA"];n.attr("role")||o(n,a)||n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeypress")||r.ngKeypress||o(n,a)||n.on("keypress",function(e){function n(){i(t,{$event:e})}(32===e.keyCode||13===e.keyCode)&&t.$apply(n)})}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n){e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0)}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return H(new(H(function(){},{prototype:e})),t)}function i(e){return L(arguments,function(t){t!==e&&L(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var i,l=o(n,r),u={},c=[];for(var d in l)if(l[d].params&&(i=a(l[d].params),i.length))for(var p in i)s(c,i[p])>=0||(c.push(i[p]),u[i[p]]=e[i[p]]);return H({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return L(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function p(e,t){var n=R(e),r=n?[]:{};return L(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function f(e,t){var n=R(e)?[]:{};return L(e,function(e,r){n[r]=t(e,r)}),n}function h(e,t){var r=1,o=2,l={},u=[],c=l,p=H(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(e,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,I(e))g.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);L(i,function(e){e!==n&&l.hasOwnProperty(e)&&f(l[e],e)}),g.push(n,e,i)}v.pop(),y[n]=o}}function h(e){return P(e)&&e.then&&e.$$promises}if(!P(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],v=[],y={};return L(l,f),l=v=y=null,function(r,o,a){function s(){--$||(w||i(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(b))}function l(e){v.$$failure=e,f.reject(e)}function u(n,i,o){function u(e){d.reject(e),l(e)}function c(){if(!O(v.$$failure))try{d.resolve(t.invoke(i,a,b)),d.promise.then(function(e){b[n]=e,s()},u)}catch(e){u(e)}}var d=e.defer(),p=0;L(o,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,y[e].then(function(t){b[e]=t,--p||c()},u))}),p||c(),y[n]=d.promise}if(h(r)&&a===n&&(a=o,o=r,r=null),r){if(!P(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=p;var f=e.defer(),v=f.promise,y=v.$$promises={},b=H({},r),$=1+g.length/3,w=!1;if(O(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(b,d(o.$$inheritedValues,m)),H(y,o.$$promises),o.$$values?(w=i(b,d(o.$$values,m)),v.$$inheritedValues=d(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=d(o.$$inheritedValues,m)),o.then(s,l));for(var E=0,_=g.length;_>E;E+=3)r.hasOwnProperty(g[E])?s():u(g[E],g[E+1],g[E+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return O(e.template)?this.fromString(e.template,t):O(e.templateUrl)?this.fromUrl(e.templateUrl,t):O(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return D(e)?e(t):e},this.fromUrl=function(n,r){return D(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function g(e,t,i){function o(t,n,r,i){if(g.push(t),h[t])return h[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new F.Param(t,n,r,i),m[t]}function a(e,t,n){var r=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return i+r[0]+t+r[1]}function s(n,i){var o,a,s,l,u;return o=n[2]||n[3],u=t.params[o],s=e.substring(p,n.index),a=i?n[4]:n[4]||("*"==n[1]?".*":null),l=F.type(a||"string")||r(F.type("string"),{pattern:new RegExp(a)}),{id:o,regexp:a,segment:s,type:l,cfg:u}}t=H({params:{}},P(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,f=this.segments=[],h=i?i.params:{},m=this.params=i?i.params.$$new():new F.ParamSet,g=[];this.source=e;for(var v,y,b;(l=u.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,y.type.pattern.source,y.squash),f.push(v.segment),p=u.lastIndex;b=e.substring(p);var $=b.indexOf("?");if($>=0){var w=this.sourceSearch=b.substring($);if(b=b.substring(0,$),this.sourcePath=e.substring(0,p+$),w.length>0)for(p=0;l=c.exec(w);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),p=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(b)+(t.strict===!1?"/?":"")+"$",f.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function v(e){H(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(e){return this.pattern.test(e)}function l(){return{strict:b,caseInsensitive:m}}function u(e){return D(e)||R(e)&&D(e[e.length-1])}function c(){for(;_.length;){var e=_.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],h.invoke(e.def))}}function d(e){H(this,e||{})}F=this;var h,m=!1,b=!0,$=!1,w={},E=!0,_=[],x={string:{encode:e,decode:i,is:o,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return O(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(e.value)},this.caseInsensitive=function(e){return O(e)&&(m=e),m},this.strictMode=function(e){return O(e)&&(b=e),b},this.defaultSquashPolicy=function(e){if(!O(e))return $;if(e!==!0&&e!==!1&&!I(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return $=e,e},this.compile=function(e,t){return new g(e,H(l(),t))},this.isMatcher=function(e){if(!P(e))return!1;var t=!0;return L(g.prototype,function(n,r){D(n)&&(t=t&&O(e[r])&&D(e[r]))}),t},this.type=function(e,t,n){if(!O(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new v(H({name:e},t)),n&&(_.push({name:e,def:n}),E||c()),this},L(x,function(e,t){w[t]=new v(H({name:t},e))}),w=r(w,{}),this.$get=["$injector",function(e){return h=e,E=!1,c(),L(x,function(e,t){w[t]||(w[t]=new v(e))}),this}],this.Param=function(e,t,r,i){function o(e){var t=P(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof v?t.type:new v(t.type):"config"===r?w.any:w.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return H(t,n,r).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!O(n)||null==n)return $;if(n===!0||I(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,r,i){var o,a,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=R(e.replace)?e.replace:[],I(i)&&o.push({from:i,to:n}),a=f(o,function(e){return e.from}),p(l,function(e){return-1===s(a,e.from)}).concat(o)}function g(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(r.$$fn)}function y(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(p(E.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),O(e)?E.type.decode(e):g()}function b(){return"{Param:"+e+" "+t+" squash: '"+C+"' optional: "+x+"}"}var E=this;r=o(r),t=l(r,t,i);var _=c();t=_?t.$asArray(_,"search"===i):t,"string"!==t.name||_||"path"!==i||r.value!==n||(r.value="");var x=r.value!==n,C=d(r,x),k=m(r,_,x,C);H(this,{id:e,type:t,location:i,array:_,squash:C,replace:k,isOptional:x,value:y,dynamic:n,config:r,toString:b})},d.prototype={$$new:function(){return r(this,H(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),L(t,function(t){L(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return L(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return L(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var t,n,r,i=!0,o=this;return L(this.$$keys(),function(a){r=o[a],n=e[a],t=!n&&r.isOptional,i=i&&(t||!!r.type.is(n))}),i},$$parent:n},this.ParamSet=d}function b(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return O(r)?r:!0}function s(r,i,o,a){function s(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(o,r);return t?(I(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var i=h&&r.url()===h;if(h=n,i)return!0;var a,s=u.length;for(a=0;s>a;a++)if(t(u[a]))return;c&&t(c)}}function f(){return l=l||i.$on("$locationChangeSuccess",p)}var h,m=a.baseHref(),g=r.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){return e?void(g=r.url()):void(r.url()!==g&&(r.url(g),r.replace()))},push:function(e,t,i){r.url(e.format(t||{})),h=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var l=n.format(i);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),l=s(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(e){if(!D(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(I(e)){var t=e;e=function(){return t}}else if(!D(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=I(t);if(I(e)&&(e=r.compile(e)),!s&&!D(t)&&!R(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),H(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:I(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),H(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function $(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var r=I(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");t=d(t);for(var s=i.split("."),l=0,u=s.length,c=t;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var p=x[i];return!p||!r&&(r||p!==e&&p.self!==e)?n:p}function p(e,t){C[e]||(C[e]=[]),C[e].push(t)}function h(e){for(var t=C[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!I(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(x.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):I(t.parent)?t.parent:P(t.parent)&&I(t.parent.name)?t.parent.name:"";if(i&&!x[i])return p(i,t.self);for(var o in T)D(T[o])&&(t[o]=T[o](t,T.$delegates[o]));return x[n]=t,!t[k]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){_.$current.navigable==t&&u(e,n)||_.transitionTo(t,e,{inherit:!0,location:!1})}]),h(n),t}function g(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),n=_.$current.name.split(".");if("**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return n.join("")===t.join("")}function y(e,t){return I(e)&&!O(t)?T[e]:D(t)&&I(e)?(T[e]&&!T.$delegates[e]&&(T.$delegates[e]=T[e]),T[e]=t,this):this}function b(e,t){return P(e)?t=e:t.name=e,m(t),this}function $(e,i,o,s,p,h,m){function y(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return m.update(),T;if(!a.retry)return null;if(o.$retry)return m.update(),S;var s=_.transition=i.when(a.retry);return s.then(function(){return s!==_.transition?$:(t.options.$retry=!0,_.transitionTo(t.to,t.toParams,t.options))},function(){return T}),m.update(),s}function b(e,n,r,a,l,u){var d=r?n:c(e.params.$$keys(),n),f={$stateParams:d};l.resolve=p.resolve(e.resolve,f,l.resolve,e);var h=[l.resolve.then(function(e){l.globals=e})];return a&&h.push(a),L(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:f,params:d,notify:u.notify})||""}],h.push(p.resolve(i,f,l.resolve,e).then(function(o){if(D(n.controllerProvider)||R(n.controllerProvider)){var a=t.extend({},i,f);o.$$controller=s.invoke(n.controllerProvider,null,a)}else o.$$controller=n.controller;o.$$state=e,o.$$controllerAs=n.controllerAs,l[r]=o}))}),i.all(h).then(function(){return l})}var $=i.reject(new Error("transition superseded")),C=i.reject(new Error("transition prevented")),T=i.reject(new Error("transition aborted")),S=i.reject(new Error("transition failed"));return E.locals={resolve:null,globals:{$stateParams:{}}},_={params:{},current:E.self,$current:E,transition:null},_.reload=function(){return _.transitionTo(_.current,h,{reload:!0,inherit:!1,notify:!0})},_.go=function(e,t,n){return _.transitionTo(e,t,H({inherit:!0,relative:_.$current},n))},_.transitionTo=function(t,n,o){n=n||{},o=H({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=_.$current,p=_.params,f=u.path,g=d(t,o.relative);if(!O(g)){var v={to:t,toParams:n,options:o},x=y(v,u.self,p,o);if(x)return x;if(t=v.to,n=v.toParams,o=v.options,g=d(t,o.relative),!O(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[k])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(h,n||{},_.$current,g)),!g.params.$$validates(n))return S;n=g.params.$$values(n),t=g;var T=t.path,M=0,A=T[M],N=E.locals,D=[];if(!o.reload)for(;A&&A===f[M]&&A.ownParams.$$equals(n,p);)N=D[M]=A.locals,M++,A=T[M];if(w(t,u,N,o))return t.self.reloadOnSearch!==!1&&m.update(),_.transition=null,i.when(_.current);if(n=c(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,p).defaultPrevented)return m.update(),C;for(var I=i.when(N),P=M;P<T.length;P++,A=T[P])N=D[P]=r(N),I=b(A,n,A===t,I,N,o);var R=_.transition=I.then(function(){var r,i,a;if(_.transition!==R)return $;for(r=f.length-1;r>=M;r--)a=f[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=M;r<T.length;r++)i=T[r],i.locals=D[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return _.transition!==R?$:(_.$current=t,_.current=t.self,_.params=n,j(_.params,h),_.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,p),m.update(!0),_.current)},function(r){return _.transition!==R?$:(_.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,p,r),a.defaultPrevented||m.update(),i.reject(r))});return R},_.is=function(e,t,r){r=H({relative:_.$current},r||{});var i=d(e,r.relative);return O(i)?_.$current!==i?!1:t?u(i.params.$$values(t),h):!0:n},_.includes=function(e,t,r){if(r=H({relative:_.$current},r||{}),I(e)&&g(e)){if(!v(e))return!1;e=_.$current.name}var i=d(e,r.relative);return O(i)?O(_.$current.includes[i.name])?t?u(i.params.$$values(t),h,a(t)):!0:!1:n},_.href=function(e,t,r){r=H({lossy:!0,inherit:!0,absolute:!1,relative:_.$current},r||{});var i=d(e,r.relative);if(!O(i))return null;r.inherit&&(t=l(h,t||{},_.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(i.params.$$keys(),t||{}),{absolute:r.absolute}):null},_.get=function(e,t){if(0===arguments.length)return f(a(x),function(e){return x[e].self});var n=d(e,t||_.$current);return n&&n.self?n.self:null},_}function w(e,t,n,r){return e!==t||(n!==t.locals||r.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var E,_,x={},C={},k="abstract",T={parent:function(e){if(O(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):E},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=H({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(I(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||E).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new F.ParamSet;return L(e.params||{},function(e,n){t[n]||(t[n]=new F.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?H(e.parent.params.$$new(),e.ownParams):new F.ParamSet},views:function(e){var t={};return L(O(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?H({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};E=m({name:"",url:"^",views:null,"abstract":!0}),E.navigable=null,this.decorator=y,this.state=b,this.$get=$,$.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=H(o,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function E(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function _(e,n,r,i){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,t,n){var r=u.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=u.leave(e,t);n&&n.then&&n.then(t)}};if(l){var r=l&&l(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function c(a){var c,d=C(n,l,o,i),y=d&&e.$current&&e.$current.locals[d];if(a||y!==h){c=n.$new(),h=e.$current.locals[d];var b=s(c,function(e){v.enter(e,o,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&r(e)}),u()});p=b,f=c,f.$emit("$viewContentLoaded"),f.$eval(m)}}var d,p,f,h,m=l.onload||"",g=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function x(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var l=n.$current,u=C(i,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var d=e(a.contents());if(c.$$controller){c.$scope=i;var p=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}d(i)}}}}}function C(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function k(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function S(e,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var l=k(a.uiSref,e.current.name),u=null,c=T(o)||e.$current,d=null,p="A"===o.prop("tagName"),f="FORM"===o[0].nodeName,h=f?"action":"href",m=!0,g={relative:c,inherit:!0},v=i.$eval(a.uiSrefOpts)||{};t.forEach(r,function(e){e in v&&(g[e]=v[e])});var y=function(n){if(n&&(u=t.copy(n)),m){d=e.href(l.state,u,g);var r=s[1]||s[0];return r&&r.$$setStateInfo(l.state,u),null===d?(m=!1,!1):void a.$set(h,d)}};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==u&&y(e)},!0),u=t.copy(i.$eval(l.paramExpr))),y(),f||o.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var i=n(function(){e.go(l.state,u,g)});t.preventDefault();var a=p&&!d?1:0;t.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function M(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){return"undefined"!=typeof i.uiSrefActiveEq?s&&e.is(s.name,l):s&&e.includes(s.name,l)}var s,l,u;u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){s=e.get(t,T(r)),l=n,o()},t.$on("$stateChangeSuccess",o)}]}}function A(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function N(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var O=t.isDefined,D=t.isFunction,I=t.isString,P=t.isObject,R=t.isArray,L=t.forEach,H=t.extend,j=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),h.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",h),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var F;g.prototype.concat=function(e,t){var n={caseInsensitive:F.caseInsensitive(),strict:F.strictMode(),squash:F.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,H(n,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var r=t(e).split(/-(?!\\)/),i=f(r,t);return f(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){a=s[i];var d=this.params[a],p=r[i+1];for(o=0;o<d.replace;o++)d.replace[o].from===p&&(p=d.replace[o].to);p&&d.array===!0&&(p=n(p)),c[a]=d.value(p)}for(;l>i;i++)a=s[i],c[a]=this.params[a].value(t[a]);return c},g.prototype.parameters=function(e){return O(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,d=r[o],p=i[d],h=p.value(e[d]),m=p.isOptional&&p.type.equals(p.value(),h),g=m?p.squash:!1,v=p.type.encode(h);if(c){var y=n[o+1];if(g===!1)null!=v&&(u+=R(v)?f(v,t).join("-"):encodeURIComponent(v)),u+=y;else if(g===!0){var b=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(b)[1]}else I(g)&&(u+=g+y)}else{if(null==v||m&&g!==!1)continue;R(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+d+"="),u+=(a?"&":"?")+(d+"="+v),a=!0}}return u},v.prototype.is=function(){return!0},v.prototype.encode=function(e){return e},v.prototype.decode=function(e){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return R(e)?e:O(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=i(n);var r=f(n,e);return t===!0?0===p(r,a).length:o(r)}}function l(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=l(r(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",b),$.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",$),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",E),_.$inject=["$state","$injector","$uiViewScroll","$interpolate"],x.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",_),t.module("ui.router.state").directive("uiView",x),S.$inject=["$state","$timeout"],M.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",S).directive("uiSrefActive",M).directive("uiSrefActiveEq",M),A.$inject=["$state"],N.$inject=["$state"],t.module("ui.router.state").filter("isState",A).filter("includedByState",N)}(window,window.angular),/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.9.4
 */
function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.dialog","material.components.divider","material.components.gridList","material.components.icon","material.components.list","material.components.input","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"])}(),function(){function e(e,t){e.decorator("$$rAF",["$delegate",n]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function n(e){return e.throttle=function(t){var n,r,i,o;return function(){n=arguments,o=this,i=t,r||(r=!0,e(function(){i.apply(o,n),r=!1}))}},e}t.module("material.core",["material.core.gestures","material.core.theming"]).config(e),e.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(e,t){function n(e){return r?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var r=/webkit/i.test(t.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(r?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(r?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSFORM_ORIGIN:n("transformOrigin"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$$rAF","$sniffer"]}(),function(){function e(e,n){function r(){return[].concat(y)}function i(){return y.length}function o(e){return y.length&&e>-1&&e<y.length}function a(e){return e?o(p(e)+1):!1}function s(e){return e?o(p(e)-1):!1}function l(e){return o(e)?y[e]:null}function u(e,t){return y.filter(function(n){return n[e]===t})}function c(e,n){return e?(t.isNumber(n)||(n=y.length),y.splice(n,0,e),p(e)):-1}function d(e){f(e)&&y.splice(p(e),1)}function p(e){return y.indexOf(e)}function f(e){return e&&p(e)>-1}function h(){return y.length?y[0]:null}function m(){return y.length?y[y.length-1]:null}function g(e,r,i,a){i=i||v;for(var s=p(r);;){if(!o(s))return null;var l=s+(e?-1:1),u=null;if(o(l)?u=y[l]:n&&(u=e?m():h(),l=p(u)),null===u||l===a)return null;if(i(u))return u;t.isUndefined(a)&&(a=l),s=l}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var y=e||[];return{items:r,count:i,inRange:o,contains:f,indexOf:p,itemAt:l,findBy:u,add:c,remove:d,first:h,last:m,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,r){function i(e){var n=p[e];t.isUndefined(n)&&(n=p[e]=o(e));var r=h[n];return t.isUndefined(r)&&(r=a(n)),r}function o(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=f[e]=r.matchMedia(e);return t.addListener(s),h[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){h[e.media]=!!e.matches})}function l(e){return f[e]}function u(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var i=e.MEDIA_PRIORITY[r];if(f[p[i]].matches){var o=d(t,n+"-"+i);if(t[o])return t[o]}}return t[d(t,n)]}function c(n,r,i){var o=[];return n.forEach(function(n){var a=d(r,n);r[a]&&o.push(r.$observe(a,t.bind(void 0,i,null)));for(var s in e.MEDIA){if(a=d(r,n+"-"+s),!r[a])return;o.push(r.$observe(a,t.bind(void 0,i,s)))}}),function(){o.forEach(function(e){e()})}}function d(e,t){return m[t]||(m[t]=e.$normalize(t))}var p={},f={},h={},m={};return i.getResponsiveAttribute=u,i.getQuery=l,i.watchResponsiveAttributes=c,i}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){var r=["0","0","0"];t.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$window","$mdConstant",function(i,o,a,s,l,u){function c(e){return e[0]||e}var d;return d={now:e.performance?t.bind(e.performance,e.performance.now):Date.now,clientRect:function(e,t,n){var r=c(e);t=c(t||r.offsetParent||document.body);var i=r.getBoundingClientRect(),o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-o.left,top:i.top-o.top,width:i.width,height:i.height}},offsetRect:function(e,t){return d.clientRect(e,t,!0)},disableScrollAround:function(e){function n(){function e(e){s.contains(e.target)&&(e.preventDefault(),e.stopImmediatePropagation())}function n(e){e.preventDefault()}var r=t.element('<div class="md-scroll-mask"><div class="md-scroll-mask-bar"></div></div>'),a=l.getComputedStyle(s),u=s.getBoundingClientRect(),c=u.width-s.clientWidth;return i(r[0],{zIndex:"auto"==a.zIndex?2:a.zIndex+1,width:u.width+"px",height:u.height+"px",top:u.top+"px",left:u.left+"px"}),r[0].firstElementChild.style.width=c+"px",o[0].body.appendChild(r[0]),r.on("wheel",n),r.on("touchmove",n),o.on("keydown",e),function(){r.off("wheel"),r.off("touchmove"),r[0].parentNode.removeChild(r[0]),o.off("keydown",e)}}function r(){var e=s.getAttribute("style")||"",t=s.scrollTop;return i(s,{position:"fixed",width:"100%",overflowY:"scroll",transform:"translateY(-"+t+"px)","-webkit-transform":"translateY(-"+t+"px)"}),function(){s.setAttribute("style",e),s.scrollTop=t}}function i(e,t){for(var n in t)e.style[n]=t[n]}function a(e){return e instanceof t.element&&(e=e[0]),e.scrollHeight>e.offsetHeight}e=e instanceof t.element?e[0]:e;for(var s,u=e;u=this.getClosest(u,"MD-CONTENT",!0);)a(u)&&(s=t.element(u)[0]);return s||(s=o[0].body,a(s))?"BODY"==s.nodeName?r():n():t.noop},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');o[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function i(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",i))},!0);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),r.$material=!0,r.$focus=!0,n.dispatchEvent(r)},transitionEndPromise:function(e,t){function n(t){t&&t.target!==e[0]||(e.off(u.CSS.TRANSITIONEND,n),r.resolve())}t=t||{};var r=s.defer();return e.on(u.CSS.TRANSITIONEND,n),t.timeout&&a(n,t.timeout),r.promise},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,r,i){var o;return function(){var s=r,l=Array.prototype.slice.call(arguments);a.cancel(o),o=a(function(){o=n,e.apply(s,l)},t||10,i)}},throttle:function(e,t){var n;return function(){var r=this,i=arguments,o=d.now();(!n||o-n>t)&&(e.apply(r,i),n=o)}},time:function(e){var t=d.now();return e(),d.now()-t},nextUid:function(){for(var e,t=r.length;t;){if(t--,e=r[t].charCodeAt(0),57==e)return r[t]="A",r.join("");if(90!=e)return r[t]=String.fromCharCode(e+1),r.join("");r[t]="0"}return r.unshift("0"),r.join("")},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,r){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),r&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},extractElementByName:function(e,n){for(var r=0,i=e.length;i>r;r++)if(e[r].nodeName.toLowerCase()===n)return t.element(e[r]);return e},initOptionalProperties:function(e,n,r){r=r||{},t.forEach(e.$$isolateBindings,function(i,o){if(i.optional&&t.isUndefined(e[o])){var a=n.hasOwnProperty(n.$normalize(i.attrName));e[o]=t.isDefined(r[o])?r[o]:a}})}}}]),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,r){function i(e,r,i){var o=e[0]||e;!o||o.hasAttribute(r)&&0!==o.getAttribute(r).length||l(o,r)||(i=t.isString(i)?i.trim():"",i.length?e.attr(r,i):n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',o))}function o(t,n,r){e(function(){i(t,n,r())})}function a(e,t){o(e,t,function(){return s(e)})}function s(e){return e.text().trim()}function l(e,t){function n(e){var t=e.currentStyle?e.currentStyle:r.getComputedStyle(e);return"none"===t.display}var i=e.hasChildNodes(),o=!1;if(i)for(var a=e.childNodes,s=0;s<a.length;s++){var l=a[s];1===l.nodeType&&l.hasAttribute(t)&&(n(l)||(o=!0))}return o}return{expect:i,expectAsync:o,expectWithText:a}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){function e(e,n,r,i,o,a){this.compile=function(s){var l=s.templateUrl,u=s.template||"",c=s.controller,d=s.controllerAs,p=s.resolve||{},f=s.locals||{},h=s.transformTemplate||t.identity,m=s.bindToController;return t.forEach(p,function(e,n){p[n]=t.isString(e)?r.get(e):r.invoke(e)}),t.extend(p,f),p.$template=l?n.get(l,{cache:a}).then(function(e){return e.data}):e.when(u),e.all(p).then(function(e){var n=h(e.$template),r=s.element||t.element("<div>").html(n.trim()).contents(),a=i(r);return{locals:e,element:r,link:function(n){if(e.$scope=n,c){var i=o(c,e,!0);m&&t.extend(i.instance,e);var s=i();r.data("$ngControllerController",s),r.children().data("$ngControllerController",s),d&&(n[d]=s)}return a(n)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function r(n,r,i){function o(e,t,n){var r=f[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(f).join(", "));return r.registerElement(e,n)}function a(e,r){var i=new n(e);return t.extend(i,r),f[e]=i,m}var l=navigator.userAgent||navigator.vendor||e.opera,c=l.match(/ipad|iphone|ipod/i),d=l.match(/android/i),p="undefined"!=typeof e.jQuery&&t.element===e.jQuery,m={handler:a,register:o,isHijackingClicks:(c||d)&&!p&&!h};return m.isHijackingClicks&&m.handler("click",{options:{maxDistance:6},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&this.dispatchEvent(e,"click")}}),m.handler("press",{onStart:function(e){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){i.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=i(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:r.throttle(function(e){this.state.isRunning&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e){this.state.dragPointer&&(u(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var n="left"==t.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,n)}}})}function i(e){this.name=e,this.state={}}function o(){function n(e,n,r){r=r||d;var i=new t.element.Event(n);i.$material=!0,i.pointer=r,i.srcEvent=e,t.extend(i,{clientX:r.x,clientY:r.y,screenX:r.x,screenY:r.y,pageX:r.x,pageY:r.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(r.target).trigger(i)}function r(t,n,r){r=r||d;var i;"click"===n?(i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,e,t.detail,r.x,r.y,r.x,r.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(n,!0,!0,{})),i.$material=!0,i.pointer=r,i.srcEvent=t,r.target.dispatchEvent(i)}var o="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return i.prototype={options:{},dispatchEvent:o?n:r,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var r=this.getNearestParent(e.target),i=r&&r.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,i),registeredParent:r},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[r.name],e.off("$destroy",n)}var r=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},i}function a(e,n){function r(e,t){var r;for(var i in f)r=f[i],r instanceof n&&("start"===e&&r.cancel(),r[e](t,d))}function i(e){if(!d){var t=+Date.now();p&&!l(e,p)&&t-p.endTime<1500||(d=s(e),r("start",e))}}function o(e){d&&l(e,d)&&(u(e,d),r("move",e))}function a(e){d&&l(e,d)&&(u(e,d),d.endTime=+Date.now(),r("end",e),p=d,d=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!m&&e.isHijackingClicks&&(document.addEventListener("click",function(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||(e.preventDefault(),e.stopPropagation())},!0),m=!0);var c="mousedown touchstart pointerdown",h="mousemove touchmove pointermove",g="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(c,i).on(h,o).on(g,a).on("$$mdGestureReset",function(){p=d=null})}function s(e){var t=c(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function l(e,t){return e&&t&&e.type.charAt(0)===t.type}function u(e,t){var n=c(e),r=t.x=n.pageX,i=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=i-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function c(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var d,p,f={},h=!1,m=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",o).run(a),n.prototype={skipClickHijack:function(){return h=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new r(e,t,n)}]},r.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function n(e){return l.optionsFactory=e.options,l.methods=(e.methods||[]).concat(a),u}function r(e,t){return s[e]=t,u}function i(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return l.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},u}function o(n,r,i){function o(e){return e&&e._options&&(e=e._options),d.show(t.extend({},c,e))}function a(t,n){var r={};return r[e]=p,i.invoke(t||function(){return n},{},r)}var u,c,d=n(),p={hide:d.hide,cancel:d.cancel,show:o};return u=l.methods||[],c=a(l.optionsFactory,{}),t.forEach(s,function(e,t){p[t]=e}),t.forEach(l.presets,function(e,n){function r(e){this._options=t.extend({},i,e)}var i=a(e.optionsFactory,{}),o=(e.methods||[]).concat(u);if(t.extend(i,{$type:n}),t.forEach(o,function(e){r.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);p[s]=function(e){var t=p[n](e);return p.show(t)}}p[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new r)[e.argOption](n):new r(n)}}),p}var a=["onHide","onShow","onRemove"],s={},l={presets:{}},u={setDefaults:n,addPreset:i,addMethod:r,$get:o};return u.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),o.$inject=["$$interimElement","$animate","$injector"],u}function r(e,r,i,o,a,s,l,u,c){function d(e){return e&&t.isString(e)?e.replace(/\{\{/g,p).replace(/}}/g,f):e}var p=l.startSymbol(),f=l.endSymbol(),h="{{"===p&&"}}"===f,m=h?t.identity:d;return function(){function l(e){if(g.length)return h.cancel().then(function(){return l(e)});var t=new f(e);return g.push(t),t.show().then(function(){return t.deferred.promise})}function d(e){var t=g.shift();return t&&t.remove().then(function(){t.deferred.resolve(e)})}function p(e){var t=g.shift();return r.when(t&&t.remove().then(function(){t.deferred.reject(e)}))}function f(l){var d,p,f,g,v;return l=l||{},l=t.extend({preserveScope:!1,scope:l.scope||i.$new(l.isolateScope),onShow:function(e,t,n){return s.enter(t,n.parent)},onRemove:function(e,t){return t&&s.leave(t)||r.when()}},l),l.template&&(l.template=m(l.template)),d={options:l,deferred:r.defer(),show:function(){var n;return n=l.skipCompile?r(function(e){e({locals:{},link:function(){return l.element}})}):u.compile(l),g=n.then(function(n){function i(){l.hideDelay&&(p=o(h.cancel,l.hideDelay))}if(t.extend(n.locals,d.options),f=n.link(l.scope),t.isFunction(l.parent)?l.parent=l.parent(l.scope,f,l):t.isString(l.parent)&&(l.parent=t.element(e[0].querySelector(l.parent))),!(l.parent||{}).length){var s;a[0]&&a[0].querySelector&&(s=a[0].querySelector(":not(svg) > body")),s||(s=a[0]),"#comment"==s.nodeName&&(s=e[0].body),l.parent=t.element(s)}l.themable&&c(f);var u=l.onShow(l.scope,f,l);return r.when(u).then(function(){(l.onComplete||t.noop)(l.scope,f,l),i()})},function(e){g=!0,d.deferred.reject(e)})},cancelTimeout:function(){p&&(o.cancel(p),p=n)},remove:function(){return d.cancelTimeout(),v=r.when(g).then(function(){var e=f?l.onRemove(l.scope,f,l):!0;return r.when(e).then(function(){l.preserveScope||l.scope.$destroy(),v=!0})})}}}var h,g=[];return h={show:l,hide:d,cancel:p}}}return e.$get=r,r.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){function e(e,n){function r(e){return e&&""!==e}var i,o=[],a={};return i={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!r(e))return null;var t,n,i;for(t=0,n=o.length;n>t;t++)if(i=o[t],i.$$mdHandle===e)return i;return null},register:function(e,n){function r(){var t=o.indexOf(e);-1!==t&&o.splice(t,1)}function i(){var t=a[n];t&&(t.resolve(e),delete a[n])}return n?(e.$$mdHandle=n,o.push(e),i(),r):t.noop},when:function(e){if(r(e)){var t=n.defer(),o=i.get(e);return o?t.resolve(o):a[e]=t,t.promise}return n.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){function e(e){return{controller:t.noop,link:function(t,n,r){r.hasOwnProperty("mdInkRippleCheckbox")?e.attachCheckboxBehavior(t,n):e.attachButtonBehavior(t,n)}}}function n(e,n){function r(e,n,r){return s(e,n,t.extend({fullRipple:!0,isMenuItem:n.hasClass("md-menu-item"),center:!1,dimBackground:!0},r))}function i(e,n,r){return s(e,n,t.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}function o(e,n,r){return s(e,n,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}function a(e,n,r){return s(e,n,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}function s(r,i,o){function a(){var e=i.data("$mdRippleContainer");return e?e:(e=t.element('<div class="md-ripple-container">'),i.append(e),i.data("$mdRippleContainer",e),e)}function s(e){function t(e){var t="#"===e.charAt(0)?e.substr(1):e,n=t.length/3,r=t.substr(0,n),i=t.substr(n,n),o=t.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),"rgba("+parseInt(r,16)+","+parseInt(i,16)+","+parseInt(o,16)+",0.1)"}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===e.indexOf("rgb")?n(e):0===e.indexOf("#")?t(e):void 0}function l(e,t){v.splice(v.indexOf(e),1),0===v.length&&a().css({backgroundColor:""}),n(function(){e.remove()},t,!1)}function u(e){var t=v.indexOf(e),n=y[t]||{},r=v.length>1?!1:$,i=v.length>1?!1:w;r||n.animating||i?e.addClass("md-ripple-visible"):e&&(e.removeClass("md-ripple-visible"),o.outline&&e.css({width:h+"px",height:h+"px",marginLeft:-1*h+"px",marginTop:-1*h+"px"}),l(e,o.outline?450:650))}function c(r,l){function c(e){var n=t.element('<div class="md-ripple" data-counter="'+g++ +'">');return v.unshift(n),y.unshift({animating:!0}),f.append(n),e&&n.css(e),n}function d(e,t){var n,r,i,a=f.prop("offsetWidth"),s=f.prop("offsetHeight");return o.isMenuItem?r=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)):o.outline?(i=E.getBoundingClientRect(),e-=i.left,t-=i.top,a=Math.max(e,a-e),s=Math.max(t,s-t),r=2*Math.sqrt(Math.pow(a,2)+Math.pow(s,2))):(n=o.fullRipple?1.1:.8,r=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))*n,o.fitRipple&&(r=Math.min(s,a,r))),r}function p(e,t,n){function r(e){return e.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}var i=E.getBoundingClientRect(),a={backgroundColor:r(x),borderColor:r(x),width:e+"px",height:e+"px"};return o.outline?(a.width=0,a.height=0):a.marginLeft=a.marginTop=e*-.5+"px",o.center?a.left=a.top="50%":(a.left=Math.round((t-i.left)/f.prop("offsetWidth")*100)+"%",a.top=Math.round((n-i.top)/f.prop("offsetHeight")*100)+"%"),a}x=s(i.attr("md-ink-ripple"))||s(e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");var f=a(),m=d(r,l),b=p(m,r,l),$=c(b),w=v.indexOf($),_=y[w]||{};return h=m,_.animating=!0,n(function(){o.dimBackground&&f.css({backgroundColor:x}),$.addClass("md-ripple-placed md-ripple-scaled"),$.css(o.outline?{borderWidth:.5*m+"px",marginLeft:m*-.5+"px",marginTop:m*-.5+"px"}:{left:"50%",top:"50%"}),u($),n(function(){_.animating=!1,u($)},o.outline?450:225,!1)},0,!1),$}function d(e){f()&&(c(e.pointer.x,e.pointer.y),w=!0)}function p(){w=!1;var e=v[v.length-1];n(function(){u(e)},0,!1)}function f(){function e(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}var t=E.parentNode,n=t&&t.parentNode,r=n&&n.parentNode;return!(e(E)||e(t)||e(n)||e(r))}if(i.controller("mdNoInk"))return t.noop;o=t.extend({colorElement:i,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,fullRipple:!0,isMenuItem:!1,fitRipple:!1},o);var h,m=i.controller("mdInkRipple")||{},g=0,v=[],y=[],b=i.attr("md-highlight"),$=!1,w=!1,E=i[0],_=i.attr("md-ripple-size"),x=s(i.attr("md-ink-ripple"))||s(o.colorElement.length&&e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");switch(_){case"full":o.fullRipple=!0;break;case"partial":o.fullRipple=!1}return o.mousedown&&i.on("$md.pressdown",d).on("$md.pressup",p),m.createRipple=c,b&&r.$watch(b,function(e){$=e,$&&!v.length&&n(function(){c(0,0)},0,!1),t.forEach(v,u)}),function(){i.off("$md.pressdown",d).off("$md.pressup",p),a().remove()}}return{attachButtonBehavior:r,attachCheckboxBehavior:i,attachTabBehavior:o,attachListControlBehavior:a,attach:s}}function r(){return function(){return{controller:t.noop}}}t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",r()).directive("mdNoBar",r()).directive("mdNoStretch",r()),e.$inject=["$mdInkRipple"],n.$inject=["$window","$timeout"]}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})
}(),function(){function e(e){function r(e,t){return t=t||{},c[e]=a(e,t),v}function i(e,n){return a(e,t.extend({},c[e]||{},n))}function a(e,t){var n=x.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function s(e,n){if(d[e])return d[e];n=n||"default";var r="string"==typeof n?d[n]:n,i=new l(e);return r&&t.forEach(r.colors,function(e,n){i.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),d[e]=i,i}function l(e){function n(e){if(e=0===arguments.length?!0:!!e,e!==r.isDark){r.isDark=e,r.foregroundPalette=r.isDark?h:f,r.foregroundShadow=r.isDark?m:g;var n=r.isDark?_:E,i=r.isDark?E:_;return t.forEach(n,function(e,t){var n=r.colors[t],o=i[t];if(n)for(var a in n.hues)n.hues[a]===o[a]&&(n.hues[a]=e[a])}),r}}var r=this;r.name=e,r.colors={},r.dark=n,n(!1),$.forEach(function(e){var n=(r.isDark?_:E)[e];r[e+"Palette"]=function(i,o){var a=r.colors[e]={name:i,hues:t.extend({},n,o)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",r.name).replace("%3",i).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==x.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",r.name).replace("%3",e).replace("%4",i).replace("%5",x.join(", ")))}),r},r[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),r[e+"Palette"].apply(r,t)}})}function p(e,r){function i(e){return e===n||""===e?!0:o.THEMES[e]!==n}function o(t,r){r===n&&(r=t,t=n),t===n&&(t=e),o.inherit(r,r)}return o.inherit=function(n,o){function a(e){i(e)||r.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e)}var s=o.controller("mdTheme"),l=n.attr("md-theme-watch");if((b||t.isDefined(l))&&"false"!=l){var u=e.$watch(function(){return s&&s.$mdTheme||y},a);n.on("$destroy",u)}else{var c=s&&s.$mdTheme||y;a(c)}},o.THEMES=t.extend({},d),o.defaultTheme=function(){return y},o.registered=i,o}c={},d={};var v,y="default",b=!1;return t.extend(c,e),p.$inject=["$rootScope","$log"],v={definePalette:r,extendPalette:i,theme:s,setDefaultTheme:function(e){y=e},alwaysWatchTheme:function(e){b=e},$get:p,_LIGHT_DEFAULT_HUES:E,_DARK_DEFAULT_HUES:_,_PALETTES:c,_THEMES:d,_parseRules:o,_rgba:u}}function r(e,t,n){return{priority:100,link:{pre:function(r,i,o){var a={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};i.data("$mdThemeController",a),a.$setTheme(t(o.mdTheme)(r)),o.$observe("mdTheme",a.$setTheme)}}}}function i(e){return e}function o(e,n,r){s(e,n),r=r.replace(/THEME_NAME/g,e.name);var i=[],o=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),l=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),d=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,p=c[o.name];return r=r.replace(d,function(t,n,r,i){return"foreground"===n?"shadow"==r?e.foregroundShadow:e.foregroundPalette[r]||e.foregroundPalette[1]:(0===r.indexOf("hue")&&(r=e.colors[n].hues[r]),u((c[e.colors[n].name][r]||"").value,i))}),t.forEach(o.hues,function(t,n){var o=r.replace(l,function(e,n,r,i,o){return u(p[t]["color"===i?"value":"contrast"],o)});"default"!==n&&(o=o.replace(a,".md-"+e.name+"-theme.md-"+n)),i.push(o)}),i}function a(e){function n(e){var n=e.contrastDefaultColor,r=e.contrastLightColors||[],i=e.contrastStrongLightColors||[],o=e.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof i&&(i=i.split(" ")),"string"==typeof o&&(o=o.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,s){function u(){return"light"===n?o.indexOf(s)>-1?v:i.indexOf(s)>-1?b:y:r.indexOf(s)>-1?i.indexOf(s)>-1?b:y:v}if(!t.isObject(a)){var c=l(a);if(!c)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",s));e[s]={value:c,contrast:u()}}})}var r=document.getElementsByTagName("head")[0],i=r?r.firstElementChild:null,a=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(i&&0!==a.length){t.forEach(c,n);var s={},u=a.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),f=new RegExp("md-("+$.join("|")+")","g");$.forEach(function(e){s[e]=""}),u.forEach(function(e){for(var t,n=(e.match(f),0);t=$[n];n++)if(e.indexOf(".md-"+t)>-1)return s[t]+=e;for(n=0;t=$[n];n++)if(e.indexOf(t)>-1)return s[t]+=e;return s[w]+=e}),t.forEach(d,function(e){p[e.name]||($.forEach(function(t){for(var n=o(e,t,s[t]);n.length;){var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(n.shift())),r.insertBefore(a,i)}}),e.colors.primary.name==e.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),p[e.name]=!0)})}}function s(e,t){if(!c[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(c).join(", ")))}function l(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,r=e.substr(0,n),i=e.substr(n,n),o=e.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),[parseInt(r,16),parseInt(i,16),parseInt(o,16)]}}function u(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",r).directive("mdThemable",i).provider("$mdTheming",e).run(a);var c,d,p={},f={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},h={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},m="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",g="",v=l("rgba(0,0,0,0.87)"),y=l("rgba(255,255,255,0.87"),b=l("rgb(255,255,255)"),$=["primary","accent","warn","background"],w="primary",E={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},_={background:{"default":"800","hue-1":"300","hue-2":"600","hue-3":"900"}};$.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};E[e]||(E[e]=t),_[e]||(_[e]=t)});var x=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];e.$inject=["$mdColorPalette"],r.$inject=["$mdTheming","$interpolate","$log"],i.$inject=["$mdTheming"],a.$inject=["$injector"]}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon"])}(),function(){function e(e){return e}t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",e),e.$inject=["$mdTheming"]}(),function(){function e(){return{restrict:"E"}}function n(e){function n(e,n,o,a,s,l,u,c,d){function p(r,i,d){i=o.extractElementByName(i,"md-bottom-sheet"),m=s('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(r),m.on("click",function(){a(u.cancel)}),l.inherit(m,d.parent),e.enter(m,d.parent,null);var p=new h(i,d.parent);return d.bottomSheet=p,d.targetEvent&&t.element(d.targetEvent.target).blur(),l.inherit(p.element,d.parent),d.disableParentScroll&&(d.lastOverflow=d.parent.css("overflow"),d.parent.css("overflow","hidden")),e.enter(p.element,d.parent).then(function(){var e=t.element(i[0].querySelector("button")||i[0].querySelector("a")||i[0].querySelector("[ng-click]"));e.focus(),d.escapeToClose&&(d.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&a(u.cancel)},c.on("keyup",d.rootElementKeyupCallback))})}function f(n,r,i){var o=i.bottomSheet;return e.leave(m),e.leave(o.element).then(function(){i.disableParentScroll&&(i.parent.css("overflow",i.lastOverflow),delete i.lastOverflow),o.cleanup(),i.targetEvent&&t.element(i.targetEvent.target).focus()})}function h(e,t){function o(){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function s(t){var r=t.pointer.distanceY;5>r&&(r=Math.max(-i,r/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(i+r)+"px,0)")}function l(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>r)){var i=e.prop("offsetHeight")-t.pointer.distanceY,o=Math.min(i/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,o+"ms"),a(u.cancel)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var c=d.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",o).on("$md.drag",s).on("$md.dragend",l),{element:e,cleanup:function(){c(),t.off("$md.dragstart",o).off("$md.drag",s).off("$md.dragend",l)}}}var m;return{themable:!0,targetEvent:null,onShow:p,onRemove:f,escapeToClose:!0,disableParentScroll:!0}}var r=.5,i=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$timeout","$compile","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:n})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n),n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,r,i){function o(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){return o(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function s(a,s,l){var u=s[0];n(s),e.attachButtonBehavior(a,s);var c=u.textContent.trim();c||r.expect(s,"aria-label"),o(l)&&t.isDefined(l.ngDisabled)&&a.$watch(l.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){l.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,i(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,r,i,o,a,s){function l(n,l){return l.type="checkbox",l.tabindex=l.tabindex||"0",n.attr("role",l.type),function(n,l,c,d){function p(e,t,r){c[e]&&n.$watch(c[e],function(e){r[e]&&l.attr(t,r[e])})}function f(e){var t=e.which||e.keyCode;(t===i.KEY_CODE.SPACE||t===i.KEY_CODE.ENTER)&&(e.preventDefault(),l.hasClass("md-focused")||l.addClass("md-focused"),h(e))}function h(e){l[0].hasAttribute("disabled")||n.$apply(function(){var t=c.ngChecked?c.checked:!d.$viewValue;d.$setViewValue(t,e&&e.type),d.$render()})}function m(){d.$viewValue?l.addClass(u):l.removeClass(u)}d=d||a.fakeNgModel(),o(l),c.ngChecked&&n.$watch(n.$eval.bind(n,c.ngChecked),d.$setViewValue.bind(d)),p("ngDisabled","tabindex",{"true":"-1","false":c.tabindex}),r.expectWithText(l,"aria-label"),e.link.pre(n,{on:t.noop,0:{}},c,[d]),n.mouseActive=!1,l.on("click",h).on("keypress",f).on("mousedown",function(){n.mouseActive=!0,s(function(){n.mouseActive=!1},100)}).on("focus",function(){n.mouseActive===!1&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),d.$render=m}}e=e[0];var u="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:l}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,r){r[0];e(r),t.$broadcast("$mdContentLoaded",r),n(r[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){function e(e,t){return{restrict:"E",link:function(n,r){t(r),e(function(){var e=r[0].querySelector("md-dialog-content");e&&e.scrollHeight>e.clientHeight&&r.addClass("md-content-overflow")})}}}function n(e){function n(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">','<md-dialog-content role="document" tabIndex="-1">','<h2 class="md-title">{{ dialog.title }}</h2>',"<p>{{ dialog.content }}</p>","</md-dialog-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()" class="md-primary">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function r(e,n,r,i,o,a,s,l,u,c,d){function p(e){var t=document.querySelector("md-dialog");t&&!t.contains(e.target)&&(e.stopImmediatePropagation(),t.focus())}function f(e,c,d){function f(){var e=c[0].querySelector(".dialog-close");if(!e){var n=c[0].querySelectorAll(".md-actions button");e=n[n.length-1]}return t.element(e)}t.element(n[0].body).addClass("md-dialog-is-showing"),c=r.extractElementByName(c,"md-dialog"),d.parent=t.element(d.parent),d.popInTarget=t.element((d.targetEvent||{}).target);var h=f();if(d.hasBackdrop){var g=d.parent[0]==n[0].body&&n[0].documentElement&&n[0].documentElement.scrollTop?t.element(n[0].documentElement):d.parent,b=g.prop("scrollTop");d.backdrop=t.element('<md-backdrop class="md-dialog-backdrop md-opaque">'),d.backdrop.css("top",b+"px"),o.inherit(d.backdrop,d.parent),u.enter(d.backdrop,d.parent),c.css("top",b+"px")}var $="dialog",w=h;return"alert"===d.$type&&($="alertdialog",w=c.find("md-dialog-content")),m(c.find("md-dialog"),$,d),document.addEventListener("focus",p,!0),d.disableParentScroll&&(d.lastOverflow=d.parent.css("overflow"),d.parent.css("overflow","hidden")),y(c,d.parent,d.popInTarget&&d.popInTarget.length&&d.popInTarget).then(function(){v(c,!0),d.escapeToClose&&(d.rootElementKeyupCallback=function(e){e.keyCode===i.KEY_CODE.ESCAPE&&s(a.cancel)},l.on("keyup",d.rootElementKeyupCallback)),d.clickOutsideToClose&&(d.dialogClickOutsideCallback=function(e){e.target===c[0]&&s(a.cancel)},c.on("click",d.dialogClickOutsideCallback)),d.focusOnOpen&&w.focus()})}function h(e,r,i){return t.element(n[0].body).removeClass("md-dialog-is-showing"),i.backdrop&&u.leave(i.backdrop),i.disableParentScroll&&(i.parent.css("overflow",i.lastOverflow),delete i.lastOverflow),i.escapeToClose&&l.off("keyup",i.rootElementKeyupCallback),i.clickOutsideToClose&&r.off("click",i.dialogClickOutsideCallback),v(r,!1),document.removeEventListener("focus",p,!0),b(r,i.parent,i.popInTarget&&i.popInTarget.length&&i.popInTarget).then(function(){r.remove(),i.popInTarget&&i.popInTarget.focus()})}function m(t,n,i){t.attr({role:n,tabIndex:"-1"});var o=t.find("md-dialog-content");0===o.length&&(o=t);var a=t.attr("id")||"dialog_"+r.nextUid();o.attr("id",a),t.attr("aria-describedby",a),i.ariaLabel?e.expect(t,"aria-label",i.ariaLabel):e.expectAsync(t,"aria-label",function(){var e=o.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")})}function g(e,t){return-1!==t.indexOf(e.nodeName)?!0:void 0}function v(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var i=e.parentNode.children,o=0;o<i.length;o++)e===i[o]||g(i[o],["SCRIPT","STYLE"])||i[o].setAttribute(r,t);n(e=e.parentNode)}}var r="aria-hidden";e=e[0],n(e)}function y(e,t,n){var o=e.find("md-dialog");return t.append(e),$(o,n),c(function(){o.addClass("transition-in").css(i.CSS.TRANSFORM,"")}),r.transitionEndPromise(o)}function b(e,t,n){var i=e.find("md-dialog");return i.addClass("transition-out").removeClass("transition-in"),$(i,n),r.transitionEndPromise(i)}function $(e,t){if(t){var n=t[0].getBoundingClientRect(),r=e[0].getBoundingClientRect(),o=Math.min(.5,n.width/r.width),a=Math.min(.5,n.height/r.height);e.css(i.CSS.TRANSFORM,"translate3d("+(-r.left+n.left+n.width/2-r.width/2)+"px,"+(-r.top+n.top+n.height/2-r.height/2)+"px,0) scale("+o+","+a+")")}}return{hasBackdrop:!0,isolateScope:!0,onShow:f,onRemove:h,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,focusOnOpen:!0,disableParentScroll:!0,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}}}return n.$inject=["$mdDialog","$mdTheming"],r.$inject=["$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$mdDialog","$timeout","$rootElement","$animate","$$rAF","$q"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:r}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:n}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:n})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",n),e.$inject=["$$rAF","$mdTheming"],n.$inject=["$$interimElementProvider"]}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){function e(e,r,i,o){function a(n,a,s,l){function u(){for(var e in r.MEDIA)o(e),o.getQuery(r.MEDIA[e]).addListener(_);return o.watchResponsiveAttributes(["md-cols","md-row-height"],s,d)}function c(){l.layoutDelegate=t.noop,x();for(var e in r.MEDIA)o.getQuery(r.MEDIA[e]).removeListener(_)}function d(e){null==e?l.invalidateLayout():o(e)&&l.invalidateLayout()}function p(e){var r=g(),o={tileSpans:v(r),colCount:y(),rowMode:w(),rowHeight:$(),gutter:b()};if(e||!t.equals(o,C)){var s=i(o.colCount,o.tileSpans,r).map(function(e,n){return{grid:{element:a,style:m(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:e.map(function(e,n){return{element:t.element(r[n]),style:h(e.position,e.spans,o.colCount,o.rowCount,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),C=o}}function f(e){return k+e+T}function h(e,t,n,r,i,o,a){var s=1/n*100,l=(n-1)/n,u=S({share:s,gutterShare:l,gutter:i}),c={left:M({unit:u,offset:e.col,gutter:i}),width:A({unit:u,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":c.top=M({unit:a,offset:e.row,gutter:i}),c.height=A({unit:a,span:t.row,gutter:i});break;case"ratio":var d=s/a,p=S({share:d,gutterShare:l,gutter:i});c.paddingTop=A({unit:p,span:t.row,gutter:i}),c.marginTop=M({unit:p,offset:e.row,gutter:i});break;case"fit":var f=(r-1)/r,d=1/r*100,p=S({share:d,gutterShare:f,gutter:i});c.top=M({unit:p,offset:e.row,gutter:i}),c.height=A({unit:p,span:t.row,gutter:i})}return c}function m(e,t,n,r,i){var o={height:"",paddingBottom:""};switch(r){case"fixed":o.height=A({unit:i,span:t,gutter:n});break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/i),u=S({share:l,gutterShare:a,gutter:n});o.paddingBottom=A({unit:u,span:t,gutter:n});break;case"fit":}return o}function g(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName})}function v(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function y(){var e=parseInt(o.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function b(){return E(o.getResponsiveAttribute(s,"md-gutter")||1)}function $(){var e=o.getResponsiveAttribute(s,"md-row-height");switch(w()){case"fixed":return E(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function w(){var e=o.getResponsiveAttribute(s,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function E(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),l.layoutDelegate=p;var _=t.bind(l,l.invalidateLayout),x=u();n.$on("$destroy",c);var C,k=e.startSymbol(),T=e.endSymbol(),S=e(f("share")+"% - ("+f("gutter")+" * "+f("gutterShare")+")"),M=e("calc(("+f("unit")+" + "+f("gutter")+") * "+f("offset")+")"),A=e("calc(("+f("unit")+") * "+f("span")+" + ("+f("span")+" - 1) * "+f("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e,this.layoutDelegate=t.noop}function r(e){function n(t,n){var r,a,s,l,u,c;return l=e.time(function(){a=i(t,n)}),r={layoutInfo:function(){return a},map:function(t){return u=e.time(function(){var e=r.layoutInfo();s=t(e.positioning,e.rowCount)}),r},reflow:function(t){return c=e.time(function(){var e=t||o;e(s.grid,s.tiles)}),r},performance:function(){return{tileCount:n.length,layoutTime:l,mapTime:u,reflowTime:c,totalTime:l+u+c}}}}function r(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function i(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,c=0;c-a<t.col;)s>=e?r():(a=u.indexOf(0,s),-1!==a&&-1!==(c=o(a+1))?s=c+1:(a=c=0,r()));return i(a,t.col,t.row),s=a+t.col,{col:a,row:l}}function r(){s=0,l++,i(0,e,-1)}function i(e,t,n){for(var r=e;e+t>r;r++)u[r]=Math.max(u[r]+n,0)}function o(e){var t;for(t=e;t<u.length;t++)if(0!==u[t])return t;return t===u.length?t:void 0}function a(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var s=0,l=0,u=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:l+Math.max.apply(Math,u)}}var o=r;return n.animateWith=function(e){o=t.isFunction(e)?e:r},n}function i(e){function n(n,r,i,o){r.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,t.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){a(),o.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",i).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",r),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$timeout"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},r.$inject=["$mdUtil"],i.$inject=["$mdMedia"]}(),function(){function e(e,t,n){function r(e,t){return t.mdFontIcon?'<span class="md-font" ng-class="fontIcon"></span>':""}function i(r,i,o){function a(){var e=i.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}t(i);var s=o.alt||r.fontIcon||r.svgIcon,l=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");""==o.alt||a()?n.expect(i,"aria-hidden","true"):(n.expect(i,"aria-label",s),n.expect(i,"role","img")),l&&o.$observe(l,function(t){i.empty(),t&&e(t).then(function(e){i.append(e)})})}return{scope:{fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",template:r,link:i}}t.module("material.components.icon",["material.core"]).directive("mdIcon",e),e.$inject=["$mdIcon","$mdTheming","$mdAria"]}(),function(){function e(){}function n(e,t){this.url=e,this.iconSize=t||i.defaultIconSize}function r(e,n,r,i,o){function a(t){return function(n){return g[t]=p(n)?n:new f(n,e[t]),g[t].clone()}}function s(t){var n=e[t];return n?u(n.url).then(function(e){return new f(e,n)}):r.reject(t)}function l(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),i=e.querySelector("#"+n);return i?new f(i,o):r.reject(t)}var i=t.substring(0,t.lastIndexOf(":"))||"$default",o=e[i];return o?u(o.url).then(n):r.reject(t)}function u(e){return n.get(e,{cache:o}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})}function c(e){var n;return t.isString(e)&&(n="icon "+e+" not found",i.warn(n)),r.reject(n||e)}function d(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;return i.warn(n),r.reject(n)}function p(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function f(e,n){"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function h(){var n=this.config?this.config.iconSize:e.defaultIconSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this),t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function m(){return this.element.cloneNode(!0)}var g={},v=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;return f.prototype={clone:m,prepare:h},function(e){return e=e||"",g[e]?r.when(g[e].clone()):v.test(e)?u(e).then(a(e)):(-1==e.indexOf(":")&&(e="$default:"+e),s(e)["catch"](l)["catch"](c)["catch"](d).then(a(e)))}}t.module("material.components.icon").provider("$mdIcon",e);var i={defaultIconSize:24};e.prototype={icon:function(e,t,r){return-1==e.indexOf(":")&&(e="$default:"+e),i[e]=new n(t,r),this},iconSet:function(e,t,r){return i[e]=new n(t,r),this},defaultIconSet:function(e,t){var r="$default";return i[r]||(i[r]=new n(e,t)),i[r].iconSize=t||i.defaultIconSize,this},defaultIconSize:function(e){return i.defaultIconSize=e,this},preloadIcons:function(e){var t=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100"><path d="M 50 0 L 100 14 L 92 80 L 50 100 L 8 80 L 0 14 Z" fill="#b2b2b2"></path><path d="M 50 5 L 6 18 L 13.5 77 L 50 94 Z" fill="#E42939"></path><path d="M 50 5 L 94 18 L 86.5 77 L 50 94 Z" fill="#B72833"></path><path d="M 50 7 L 83 75 L 72 75 L 65 59 L 50 59 L 50 50 L 61 50 L 50 26 Z" fill="#b2b2b2"></path><path d="M 50 7 L 17 75 L 28 75 L 35 59 L 50 59 L 50 50 L 39 50 L 50 26 Z" fill="#fff"></path></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url),e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,n,o){return this.preloadIcons(o),new r(i,e,t,n,o)}]}}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,r){var i=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(o,a){function s(){for(var e,t,n=["md-switch","md-checkbox"],r=0;t=n[r];++r)if((e=o.find(t)[0])&&!e.hasAttribute("aria-label")){var i=o.find("p")[0];if(!i)return;e.setAttribute("aria-label","Toggle "+i.textContent)}}function l(n){var r;if("div"==n?(r=t.element('<div class="md-no-style md-list-item-inner">'),r.append(o.contents()),o.addClass("md-proxy-focus")):(r=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>'),r[0].setAttribute("ng-click",o[0].getAttribute("ng-click")),o[0].removeAttribute("ng-click"),o[0].getAttribute("aria-label")&&(r[0].setAttribute("aria-label",o[0].getAttribute("aria-label")),o[0].removeAttribute("aria-label")),r.children().eq(0).append(o.contents())),o[0].setAttribute("tabindex","-1"),o.append(r),f&&f.hasAttribute("ng-click")){e.expect(f,"aria-label");var i=t.element('<md-button class="md-secondary-container md-icon-button">');i.attr("ng-click",f.getAttribute("ng-click")),f.removeAttribute("ng-click"),f.setAttribute("tabindex","-1"),f.classList.remove("md-secondary"),i.append(f),f=i[0]}f&&(f.hasAttribute("ng-click")||a.ngClick&&u(f))&&(o.addClass("md-with-secondary"),o.append(f))}function u(e){return-1!=i.indexOf(e.nodeName.toLowerCase())}function c(e,o,a,s){function l(){var e=o.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(i,function(e){t.forEach(d.querySelectorAll(e),function(e){c.push(e)})})}function u(){(c.length||p)&&(o.addClass("md-clickable"),s.attachRipple(e,t.element(o[0].querySelector(".md-no-style"))))}var c=[],d=o[0].firstElementChild,p=d&&d.hasAttribute("ng-click");l(),u(),o.hasClass("md-proxy-focus")&&c.length&&t.forEach(c,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,r(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&o.addClass("md-focused"),n.on("blur",function t(){o.removeClass("md-focused"),n.off("blur",t)})})}),p||c.length||d.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&(d.click(),e.preventDefault(),e.stopPropagation())}}),o.off("click"),o.off("keypress"),c.length&&d&&o.children().eq(0).on("click",function(e){d.contains(e.target)&&t.forEach(c,function(n){e.target===n||n.contains(e.target)||t.element(n).triggerHandler("click")})})}var d,p,f=o[0].querySelector(".md-secondary");if(o[0].setAttribute("role","listitem"),a.ngClick)l("button");else{for(var h,m=0;h=i[m];++m)if(p=o[0].querySelector(h)){d=!0;break}d?l("div"):o.addClass("md-no-proxy")}return s(),c}}}function r(e,t,n){function r(e,t){var r={};n.attachListControlBehavior(e,t,r)}var i=this;i.attachRipple=r
}t.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",e).directive("mdListItem",n),e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$timeout"],r.$inject=["$scope","$element","$mdInkRipple"]}(),function(){function e(e,t){function n(t,n){e(n)}function r(e,n,r){var i=this;i.isErrorGetter=r.mdIsError&&t(r.mdIsError),i.delegateClick=function(){i.input.focus()},i.element=n,i.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},i.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},i.setInvalid=function(e){n.toggleClass("md-input-invalid",!!e)},e.$watch(function(){return i.label&&i.input},function(e){e&&!i.label.attr("for")&&i.label.attr("for",i.input.attr("id"))})}return r.$inject=["$scope","$element","$attrs"],{restrict:"E",link:n,controller:r}}function n(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){r&&!n.mdNoFloat&&(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}function r(e,n,r){function i(i,o,a,s){function l(e){return d.setHasValue(!p.$isEmpty(e)),e}function u(){d.setHasValue(o.val().length>0||(o[0].validity||{}).badInput)}function c(){function r(e){return c(),e}function a(){u.style.height="auto",u.scrollTop=0;var e=s();e&&(u.style.height=e+"px")}function s(){var e=u.scrollHeight-u.offsetHeight;return u.offsetHeight+(e>0?e:0)}function l(){u.scrollTop=0;var e=u.scrollHeight-u.offsetHeight,t=u.offsetHeight+e;u.style.height=t+"px"}var u=o[0],c=e.debounce(a,1);p?(p.$formatters.push(r),p.$viewChangeListeners.push(r)):c(),o.on("keydown input",c),o.on("scroll",l),t.element(n).on("resize",c),i.$on("$destroy",function(){t.element(n).off("resize",c)})}var d=s[0],p=s[1]||e.fakeNgModel(),f=t.isDefined(a.readonly);if(d){if(d.input)throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!");d.input=o,d.label||r.expect(o,"aria-label",o.attr("placeholder")),o.addClass("md-input"),o.attr("id")||o.attr("id","input_"+e.nextUid()),"textarea"===o[0].tagName.toLowerCase()&&c();var h=d.isErrorGetter||function(){return p.$invalid&&p.$touched};i.$watch(h,d.setInvalid),p.$parsers.push(l),p.$formatters.push(l),o.on("input",u),f||o.on("focus",function(){d.setFocused(!0)}).on("blur",function(){d.setFocused(!1),u()}),i.$on("$destroy",function(){d.setFocused(!1),d.setHasValue(!1),d.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:i}}function i(e){function n(n,r,i,o){function a(e){return c.text((r.val()||e||"").length+"/"+s),e}var s,l=o[0],u=o[1],c=t.element('<div class="md-char-counter">');i.$set("ngTrim","false"),u.element.append(c),l.$formatters.push(a),l.$viewChangeListeners.push(a),r.on("input keydown",function(){a()}),n.$watch(i.mdMaxlength,function(n){s=n,t.isNumber(n)&&n>0?(c.parent().length||e.enter(c,u.element,t.element(u.element[0].lastElementChild)),a()):e.leave(c)}),l.$validators["md-maxlength"]=function(e,n){return!t.isNumber(s)||0>s?!0:(e||r.val()||n||"").length<=s}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:n}}function o(e){function n(n,i,o,a){if(a&&-1==r.indexOf(i[0].nodeName)&&!t.isDefined(a.element.attr("md-no-float"))){var s=o.placeholder;if(i.removeAttr("placeholder"),0==a.element.find("label").length){var l='<label ng-click="delegateClick()">'+s+"</label>";a.element.addClass("md-icon-float"),a.element.prepend(l)}else e.warn("The placeholder='"+s+"' will be ignored since this md-input-container has a child label element.")}}var r=["MD-SELECT"];return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:n}}t.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",n).directive("input",r).directive("textarea",r).directive("mdMaxlength",i).directive("placeholder",o),e.$inject=["$mdTheming","$parse"],r.$inject=["$mdUtil","$window","$mdAria"],i.$inject=["$animate"],o.$inject=["$log"]}(),function(){function e(e,t){function n(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),r}function r(n,r,o){t(r);var a=r[0],s=o.mdDiameter||48,l=s/48;a.style[e.CSS.TRANSFORM]="scale("+l+")",o.$observe("value",function(e){var t=i(e);r.attr("aria-valuenow",t)})}function i(e){return Math.max(0,Math.min(e||0,100))}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:n}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdConstant","$mdTheming"]}(),function(){function e(e,r,i){function o(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(o,a,l){i(a);var u=a[0].querySelector(".md-bar1").style,c=a[0].querySelector(".md-bar2").style,d=t.element(a[0].querySelector(".md-container"));l.$observe("value",function(e){if("query"!=l.mdMode){var t=s(e);a.attr("aria-valuenow",t),c[r.CSS.TRANSFORM]=n[t]}}),l.$observe("mdBufferValue",function(e){u[r.CSS.TRANSFORM]=n[s(e)]}),e(function(){d.addClass("md-ready")})}function s(e){return e>100?100:0>e?0:Math.ceil(e||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:o}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"];var n=function(){function e(e){var t=e/100,n=(e-100)/2;return"translateX("+n.toString()+"%) scale("+t.toString()+", 1)"}for(var t=new Array(101),n=0;101>n;n++)t[n]=e(n);return t}()}(),function(){function e(e,n,r,i){function o(o,a,s,l){function u(){a.hasClass("md-focused")||a.addClass("md-focused")}function c(r){var i=r.which||r.keyCode;switch(i){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault(),d.selectPrevious(),u();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault(),d.selectNext(),u();break;case n.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}r(a);var d=l[0],p=l[1]||e.fakeNgModel();d.init(p),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",c).on("mousedown",function(){o.mouseActive=!0,i(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&d.$element.addClass("md-focused")}).on("blur",function(){d.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return l(this.$element,1)},selectPrevious:function(){return l(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function l(n,r){var i=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(i.count()){var o=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=i[0>r?"previous":"next"](a,o)||i.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:o}}}function n(e,t,n){function r(r,o,a,s){function l(e){o[0].hasAttribute("disabled")||r.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function u(){var e=s.getViewValue()==a.value;e!==d&&(d=e,o.attr("aria-checked",e),e?(o.addClass(i),s.setActiveDescendant(o.attr("id"))):o.removeClass(i))}function c(n,r){function i(){return a.id||"radio_"+t.nextUid()}r.ariaId=i(),n.attr({id:r.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var d;n(o),c(o,r),s.add(u),a.$observe("value",u),o.on("click",l).on("$destroy",function(){s.remove(u)})}var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:r}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,r,i,o,a,s,l){function u(a,u){var c=a.find("md-select-label").remove();if(c.length){if(!c[0].firstElementChild){var d=t.element("<span>");d.append(c.contents()),c.append(d)}}else c=t.element("<md-select-label><span></span></md-select-label>");if(c.append('<span class="md-select-icon" aria-hidden="true"></span>'),c.addClass("md-select-label"),c.attr("id","select_label_"+r.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),u.mdOnOpen&&a.find("md-content").prepend(t.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent()),u.name){var p=t.element('<select class="md-visually-hidden">');p.attr({name:"."+u.name,"ng-model":u.ngModel,"aria-hidden":"true",tabindex:"-1"});var f=a.find("md-option");t.forEach(f,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),p.append(n)}),a.parent().append(p)}var h='<div class="md-select-menu-container"><md-select-menu '+(t.isDefined(u.multiple)?"multiple":"")+">"+a.html()+"</md-select-menu></div>";return a.empty().append(c),u.tabindex=u.tabindex||"0",function(a,u,c,d){function p(){var e=u.attr("placeholder");e||(e=u.find("md-select-label").text()),o.expect(u,"aria-label",e)}function f(){$&&(E=E||$.find("md-select-menu").controller("mdSelectMenu"),_.setLabelText(E.selectedLabels()))}function m(){$=t.element(h);var e=$.find("md-select-menu");e.data("$ngModelController",x),e.data("$mdSelectController",_),w=a.$new(),$=s($)(w),E=$.find("md-select-menu").controller("mdSelectMenu")}function g(e){var n=[32,13,38,40];if(-1!=n.indexOf(e.keyCode))e.preventDefault(),v(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var r=E.optNodeForKeyboardSearch(e);if(!r)return;var i=t.element(r).controller("mdOption");E.isMultiple||E.deselect(Object.keys(E.selected)[0]),E.select(i.hashKey,i.value),E.refreshViewValue(),x.$render()}}function v(){a.$evalAsync(function(){y=!0,e.show({scope:w,preserveScope:!0,skipCompile:!0,element:$,target:u[0],hasBackdrop:!0,loadingAsync:c.mdOnOpen?a.$eval(c.mdOnOpen)||!0:!1}).then(function(){y=!1})})}var y,b,$,w,E,_=d[0],x=d[1],C=d[2],k=u.find("md-select-label"),T=0!==k.text().length;if(m(),i(u),c.name&&C){var S=u.parent()[0].querySelector('select[name=".'+c.name+'"]');C.$removeControl(t.element(S).controller())}var M=x.$render;x.$render=function(){M(),f()},_.setLabelText=function(e){if(!T){_.setIsPlaceholder(!e),e=e||c.placeholder||"";var t=T?k:k.children().eq(0);t.text(e)}},_.setIsPlaceholder=function(e){e?k.addClass("md-placeholder"):k.removeClass("md-placeholder")},a.$$postDigest(function(){p(),f()});var A;c.$observe("ngMultiple",function(e){A&&A();var t=l(e);A=a.$watch(function(){return t(a)},function(e,t){(e!==n||t!==n)&&(e?u.attr("multiple","multiple"):u.removeAttr("multiple"),$&&(E.setMultiple(e),M=x.$render,x.$render=function(){M(),f()},E.refreshViewValue(),x.$render()))})}),c.$observe("disabled",function(e){"string"==typeof e&&(e=!0),(b===n||b!==e)&&(b=e,e?(u.attr({tabindex:-1,"aria-disabled":"true"}),u.off("click",v),u.off("keydown",g)):(u.attr({tabindex:c.tabindex,"aria-disabled":"false"}),u.on("click",v),u.on("keydown",g)))}),c.disabled||c.ngDisabled||(u.attr({tabindex:c.tabindex,"aria-disabled":"false"}),u.on("click",v),u.on("keydown",g)),u.attr({role:"combobox",id:"select_"+r.nextUid(),"aria-expanded":"false"}),a.$on("$destroy",function(){y?e.cancel().then(function(){$.remove()}):$.remove()})}}return{restrict:"E",require:["mdSelect","ngModel","?^form"],compile:u,controller:function(){}}}function r(e,r,i){function o(e,n,o,a){function s(){n.attr({id:"select_menu_"+r.nextUid(),role:"listbox","aria-multiselectable":c.isMultiple?"true":"false"})}function l(e){(13==e.keyCode||32==e.keyCode)&&u(e)}function u(n){var i=r.getClosest(n.target,"md-option"),o=i&&t.element(i).data("$mdOptionController");if(i&&o){var a=c.hashGetter(o.value),s=t.isDefined(c.selected[a]);e.$apply(function(){c.isMultiple?s?c.deselect(a):c.select(a,o.value):s||(c.deselect(Object.keys(c.selected)[0]),c.select(a,o.value)),c.refreshViewValue()})}}var c=a[0],d=a[1];i(n),n.on("click",u),n.on("keypress",l),d&&c.init(d),s()}function a(r,i,o){function a(){var e=c.ngModel.$modelValue||c.ngModel.$viewValue;if(t.isArray(e)){var n=Object.keys(c.selected),r=e.map(c.hashGetter),i=n.filter(function(e){return-1===r.indexOf(e)});i.forEach(c.deselect),r.forEach(function(t,n){c.select(t,e[n])})}}function l(){var e=c.ngModel.$viewValue||c.ngModel.$modelValue;Object.keys(c.selected).forEach(c.deselect),c.select(c.hashGetter(e),e)}var c=this;c.isMultiple=t.isDefined(i.multiple),c.selected={},c.options={},r.$watch(function(){return c.options},function(){c.ngModel.$render()},!0);var d;c.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var o=c.ngModel;c.isMultiple=e,d&&d(),c.isMultiple?(o.$validators["md-multiple"]=n,o.$render=a,r.$watchCollection(i.ngModel,function(e){n(e)&&a(e)})):(delete o.$validators["md-multiple"],o.$render=l)};var p,f,h,m="",g=300;c.optNodeForKeyboardSearch=function(e){p&&clearTimeout(p),p=setTimeout(function(){p=n,m="",h=n,f=n},g),m+=String.fromCharCode(e.keyCode);var r=new RegExp("^"+m,"i");f||(f=o.find("md-option"),h=new Array(f.length),t.forEach(f,function(e,t){h[t]=e.textContent.trim()}));for(var i=0;i<h.length;++i)if(r.test(h[i]))return f[i]},c.init=function(n){if(c.ngModel=n,n.$options&&n.$options.trackBy){var i={},o=e(n.$options.trackBy);c.hashGetter=function(e,t){return i.$value=e,o(t||r,i)}}else c.hashGetter=function(e){return t.isObject(e)?"$$object_"+(e.$$mdSelectId||(e.$$mdSelectId=++u)):e};c.setMultiple(c.isMultiple)},c.selectedLabels=function(){var e=s(o[0].querySelectorAll("md-option[selected]"));return e.length?e.map(function(e){return e.textContent}).join(", "):""},c.select=function(e,t){var n=c.options[e];n&&n.setSelected(!0),c.selected[e]=t},c.deselect=function(e){var t=c.options[e];t&&t.setSelected(!1),delete c.selected[e]},c.addOption=function(e,n){if(t.isDefined(c.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');c.options[e]=n,t.isDefined(c.selected[e])&&(c.select(e,n.value),c.refreshViewValue())},c.removeOption=function(e){delete c.options[e]},c.refreshViewValue=function(){var e,t=[];for(var n in c.selected)t.push((e=c.options[n])?e.value:c.selected[n]);c.ngModel.$setViewValue(c.isMultiple?t:t[0])}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:a,link:{pre:o}}}function i(e,n){function r(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),i}function i(r,i,o,a){function s(e,t){var n=c.hashGetter(t,r),i=c.hashGetter(e,r);u.hashKey=i,u.value=e,c.removeOption(n,u),c.addOption(i,u)}function l(){i.attr({role:"option","aria-selected":"false",id:"select_option_"+n.nextUid()})}var u=a[0],c=a[1];t.isDefined(o.ngValue)?r.$watch(o.ngValue,s):t.isDefined(o.value)?s(o.value):r.$watch(function(){return i.text()},s),r.$$postDigest(function(){o.$observe("selected",function(e){t.isDefined(e)&&(e?(c.isMultiple||c.deselect(Object.keys(c.selected)[0]),c.select(u.hashKey,u.value)):c.deselect(u.hashKey),c.refreshViewValue(),c.ngModel.$render())})}),e.attachButtonBehavior(r,i),l(),r.$on("$destroy",function(){c.removeOption(u.hashKey,u)})}function o(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return o.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:o,compile:r}}function o(){function e(e,n){var r=e.find("label");r.length||(r=t.element("<label>"),e.prepend(r)),n.label&&r.text(n.label)}return{restrict:"E",compile:e}}function a(e){function r(e,r,a,u,c,d,p){function f(n,i,o){function l(){o.target.attr("aria-expanded","true")}function f(){function t(e){var t=s(h),n=t.indexOf(o.focusedNode);-1===n?n=0:"next"===e&&n<t.length-1?n++:"prev"===e&&n>0&&n--;var r=o.focusedNode=t[n];r&&r.focus()}function a(){t("next")}function l(){t("prev")}function c(){d.isMultiple||(o.restoreFocus=!0,n.$evalAsync(function(){e.hide(d.ngModel.$viewValue)}))}if(!o.isRemoved){var d=o.selectEl.controller("mdSelectMenu")||{};i.addClass("md-clickable"),o.backdrop&&o.backdrop.on("click",function(t){t.preventDefault(),t.stopPropagation(),o.restoreFocus=!1,n.$apply(e.cancel)}),o.selectEl.on("keydown",function(t){switch(t.keyCode){case r.KEY_CODE.SPACE:case r.KEY_CODE.ENTER:var i=u.getClosest(t.target,"md-option");i&&(o.selectEl.triggerHandler({type:"click",target:i}),t.preventDefault());break;case r.KEY_CODE.TAB:case r.KEY_CODE.ESCAPE:t.preventDefault(),o.restoreFocus=!0,n.$apply(e.cancel)}}),o.selectEl.on("keydown",function(e){switch(e.keyCode){case r.KEY_CODE.UP_ARROW:return l();case r.KEY_CODE.DOWN_ARROW:return a();default:if(e.keyCode>=31&&e.keyCode<=90){var t=o.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(e);t&&t.focus()}}}),o.selectEl.on("click",c),o.selectEl.on("keydown",function(e){(32==e.keyCode||13==e.keyCode)&&c()})}}if(!o.target)throw new Error('$mdSelect.show() expected a target element in options.target but got "'+o.target+'"!');t.extend(o,{isRemoved:!1,target:t.element(o.target),parent:t.element(o.parent),selectEl:i.find("md-select-menu"),contentEl:i.find("md-content"),backdrop:o.hasBackdrop&&t.element('<md-backdrop class="md-select-backdrop md-click-catcher">')}),o.resizeFn=function(){a(function(){a(function(){m(n,i,o)})})},t.element(p).on("resize",o.resizeFn),t.element(p).on("orientationchange",o.resizeFn),l(),i.removeClass("md-leave");var h=o.selectEl[0].getElementsByTagName("md-option");return o.loadingAsync&&o.loadingAsync.then?o.loadingAsync.then(function(){n.$$loadingAsyncDone=!0,a(function(){a(function(){o.isRemoved||m(n,i,o)})})}):o.loadingAsync&&(n.$$loadingAsyncDone=!0),o.disableParentScroll&&!u.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=u.disableScrollAround(o.target):o.disableParentScroll=!1,d(f,75,!1),o.backdrop&&(c.inherit(o.backdrop,o.parent),o.parent.append(o.backdrop)),o.parent.append(i),a(function(){a(function(){o.isRemoved||m(n,i,o)})}),u.transitionEndPromise(o.selectEl,{timeout:350})}function h(e,r,i){i.isRemoved=!0,r.addClass("md-leave").removeClass("md-clickable"),i.target.attr("aria-expanded","false"),t.element(p).off("resize",i.resizeFn),t.element(p).off("orientationchange",i.resizefn),i.resizeFn=n;var o=i.selectEl.controller("mdSelect");return o&&o.setLabelText(i.selectEl.controller("mdSelectMenu").selectedLabels()),u.transitionEndPromise(r,{timeout:350}).then(function(){r.removeClass("md-active"),i.backdrop&&i.backdrop.remove(),r[0].parentNode===i.parent[0]&&i.parent[0].removeChild(r[0]),i.disableParentScroll&&i.restoreScroll(),i.restoreFocus&&i.target.focus()})}function m(e,t,n){var s,c=t[0],d=n.target[0].firstElementChild.firstElementChild,f=n.parent[0],h=n.selectEl[0],m=n.contentEl[0],g=f.getBoundingClientRect(),v=d.getBoundingClientRect(),y=!1,b={left:g.left+l,top:l,bottom:g.height-l,right:g.width-l-(u.floatingScrollbars()?16:0)},$={top:v.top-b.top,left:v.left-b.left,right:b.right-(v.left+v.width),bottom:b.bottom-(v.top+v.height)},w=g.width-2*l,E=m.scrollHeight>m.offsetHeight,_=h.querySelector("md-option[selected]"),x=h.getElementsByTagName("md-option"),C=h.getElementsByTagName("md-optgroup");s=_?_:C.length?C[0]:x.length?x[0]:m.firstElementChild||m,m.offsetWidth>w&&(m.style["max-width"]=w+"px"),y&&(m.style["min-width"]=v.width+"px"),E&&h.classList.add("md-overflow");var k=h.getBoundingClientRect(),T=o(s);if(s){var S=p.getComputedStyle(s);T.paddingLeft=parseInt(S.paddingLeft,10)||0,T.paddingRight=parseInt(S.paddingRight,10)||0}var M=s;if("MD-OPTGROUP"===(M.tagName||"").toUpperCase()&&(M=x[0]||m.firstElementChild||m),E){var A=m.offsetHeight/2;m.scrollTop=T.top+T.height/2-A,$.top<A?m.scrollTop=Math.min(T.top,m.scrollTop+A-$.top):$.bottom<A&&(m.scrollTop=Math.max(T.top+T.height-k.height,m.scrollTop-A+$.bottom))}var N,O,D;y?(N=v.left,O=v.top+v.height,D="50% 0",O+k.height>b.bottom&&(O=v.top-k.height,D="50% 100%")):(N=v.left+T.left-T.paddingLeft,O=Math.floor(v.top+v.height/2-T.height/2-T.top+m.scrollTop),D=T.left+v.width/2+"px "+(T.top+T.height/2-m.scrollTop)+"px 0px",c.style.minWidth=v.width+T.paddingLeft+T.paddingRight+"px");var I=c.getBoundingClientRect();c.style.left=i(b.left,N,b.right-I.width)+"px",c.style.top=i(b.top,O,b.bottom-I.height)+"px",h.style[r.CSS.TRANSFORM_ORIGIN]=D,h.style[r.CSS.TRANSFORM]="scale("+Math.min(v.width/k.width,1)+","+Math.min(v.height/k.height,1)+")",a(function(){t.addClass("md-active"),h.style[r.CSS.TRANSFORM]="",M&&(n.focusedNode=M,M.focus())})}return{parent:"body",onShow:f,onRemove:h,hasBackdrop:!0,disableParentScroll:!0,themable:!0}}function i(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}return r.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"],e("$mdSelect").setDefaults({methods:["target"],options:r})}function s(e){for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t}var l=8,u=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",r).directive("mdOption",i).directive("mdOptgroup",o).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"],r.$inject=["$parse","$mdUtil","$mdTheming"],i.$inject=["$mdInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,n){return function(r){function i(){return e.when(r).then(function(e){return s=e,e})}var o,a="SideNav '"+r+"' is not available!",s=e.get(r);return s||e.notFoundError(r),o={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():n.reject(a)},open:function(){return s?s.open():n.reject(a)},close:function(){return s?s.close():n.reject(a)},then:function(e){var r=s?n.when(s):i();return r.then(e||t.noop)}}}}function r(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,r){r.focusElement(t)}}}function i(e,r,i,o,a,s,l,u,c,d){function p(p,f,h,m){function g(e,t){p.isLockedOpen=e,e===t?f.toggleClass("md-locked-open",!!e):r[e?"addClass":"removeClass"](f,"md-locked-open"),T.toggleClass("md-locked-open",!!e)}function v(e){var t=f.parent();t[e?"on":"off"]("keydown",$),T[e?"on":"off"]("click",w),e&&(_=d[0].activeElement);var n=m.focusElement();return y(e),x=c.all([e?r.enter(T,t):r.leave(T),r[e?"removeClass":"addClass"](f,"md-closed")]).then(function(){p.isOpen&&n&&n.focus()})}function y(e){var r=f.parent();e?(E=r.css("overflow"),r.css("overflow","hidden")):t.isDefined(E)&&(r.css("overflow",E),E=n)}function b(t){if(p.isOpen==t)return c.when(!0);var n=c.defer();return p.isOpen=t,e(function(){x.then(function(e){p.isOpen||(_&&_.focus(),_=null),n.resolve(e)})},0,!1),n.promise}function $(e){var t=e.keyCode===s.KEY_CODE.ESCAPE;return t?w(e):c.when(!0)}function w(e){return e.preventDefault(),e.stopPropagation(),m.close()}var E,_=null,x=c.when(!0),C=i(h.mdIsLockedOpen),k=function(){return C(p.$parent,{$media:function(e){return o.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),a(e)},$mdMedia:a})},T=l('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(p);f.on("$destroy",m.destroy),u.inherit(T,f),p.$watch(k,g),p.$watch("isOpen",v),m.$toggleOpen=b,m.focusElement(m.focusElement()||f)}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),p}}}function o(e,n,r,i,o){var a,s=this;s.isOpen=function(){return!!e.isOpen},s.isLockedOpen=function(){return!!e.isLockedOpen},s.open=function(){return s.$toggleOpen(!0)},s.close=function(){return s.$toggleOpen(!1)},s.toggle=function(){return s.$toggleOpen(!e.isOpen)},s.focusElement=function(e){return t.isDefined(e)&&(a=e),a},s.$toggleOpen=function(){return o.when(e.isOpen)},s.destroy=i.register(s,r.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",i).directive("mdSidenavFocus",r).controller("$mdSidenavController",o),e.$inject=["$mdComponentRegistry","$q"],i.$inject=["$timeout","$animate","$parse","$log","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"],o.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,n,r,i,o,a,s,l){function u(e){return e.attr({tabIndex:0,role:"slider"}),r.expect(e,"aria-label"),c}function c(r,u,c,d){function p(){y(),E(),v()}function f(e){K=parseFloat(e),u.attr("aria-valuemin",e),p()}function h(e){Y=parseFloat(e),u.attr("aria-valuemax",e),p()}function m(e){X=parseFloat(e),v()}function g(e){u.attr("aria-disabled",!!e)}function v(){if(t.isDefined(c.mdDiscrete)){var e=Math.floor((Y-K)/X);if(!Z){var r=n.getComputedStyle(U[0]);Z=t.element('<canvas style="position:absolute;">'),J=Z[0].getContext("2d"),J.fillStyle=r.backgroundColor||"black",U.append(Z)}var i=b();Z[0].width=i.width,Z[0].height=i.height;for(var o,a=0;e>=a;a++)o=Math.floor(i.width*(a/e)),J.fillRect(o-1,0,2,i.height)}}function y(){Q=W[0].getBoundingClientRect()}function b(){return G(),Q}function $(e){if(!u[0].hasAttribute("disabled")){var t;e.keyCode===o.KEY_CODE.LEFT_ARROW?t=-X:e.keyCode===o.KEY_CODE.RIGHT_ARROW&&(t=X),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),r.$evalAsync(function(){w(d.$viewValue+t)}))}}function w(e){d.$setViewValue(_(x(e)))}function E(){isNaN(d.$viewValue)&&(d.$viewValue=d.$modelValue);var e=(d.$viewValue-K)/(Y-K);r.modelValue=d.$viewValue,u.attr("aria-valuenow",d.$viewValue),C(e),F.text(d.$viewValue)}function _(e){return t.isNumber(e)?Math.max(K,Math.min(Y,e)):void 0}function x(e){return t.isNumber(e)?Math.round(e/X)*X:void 0}function C(e){q.css("width",100*e+"%"),B.css("left",100*e+"%"),u.toggleClass("md-min",0===e)}function k(e){if(!H()){u.addClass("active"),u[0].focus(),y();var t=P(I(e.pointer.x)),n=_(x(t));r.$apply(function(){w(n),C(R(n))})}}function T(e){if(!H()){u.removeClass("dragging active");var t=P(I(e.pointer.x)),n=_(x(t));r.$apply(function(){w(n),E()})}}function S(e){H()||(et=!0,e.stopPropagation(),u.addClass("dragging"),N(e))}function M(e){et&&(e.stopPropagation(),N(e))}function A(e){et&&(e.stopPropagation(),et=!1)}function N(e){tt?D(e.pointer.x):O(e.pointer.x)}function O(e){r.$evalAsync(function(){w(P(I(e)))})}function D(e){var t=P(I(e)),n=_(x(t));C(I(e)),F.text(n)}function I(e){return Math.max(0,Math.min(1,(e-Q.left)/Q.width))}function P(e){return K+e*(Y-K)}function R(e){return(e-K)/(Y-K)}a(u),d=d||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var L=c.ngDisabled&&l(c.ngDisabled),H=L?function(){return L(r.$parent)}:t.noop,j=t.element(u[0].querySelector(".md-thumb")),F=t.element(u[0].querySelector(".md-thumb-text")),B=j.parent(),W=t.element(u[0].querySelector(".md-track-container")),q=t.element(u[0].querySelector(".md-track-fill")),U=t.element(u[0].querySelector(".md-track-ticks")),G=i.throttle(y,5e3);c.min?c.$observe("min",f):f(0),c.max?c.$observe("max",h):h(100),c.step?c.$observe("step",m):m(1);var V=t.noop;c.ngDisabled&&(V=r.$parent.$watch(c.ngDisabled,g)),s.register(u,"drag"),u.on("keydown",$).on("$md.pressdown",k).on("$md.pressup",T).on("$md.dragstart",S).on("$md.drag",M).on("$md.dragend",A),setTimeout(p);var z=e.throttle(p);t.element(n).on("resize",z),r.$on("$destroy",function(){t.element(n).off("resize",z),V()}),d.$render=E,d.$viewChangeListeners.push(E),d.$formatters.push(_),d.$formatters.push(x);var K,Y,X,Z,J,Q={};y();var et=!1,tt=t.isDefined(c.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:u}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]}(),function(){function e(e,r,i,o,a){function s(e){function t(e,t){t.addClass("md-sticky-clone"),t.css("top",m+"px");var n={element:e,clone:t};return h.items.push(n),p.parent().prepend(n.clone),f(),function(){h.items.forEach(function(t,n){t.element[0]===e[0]&&(h.items.splice(n,1),t.clone.remove())}),f()}}function i(){h.items.forEach(a),h.items=h.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=p.prop("scrollTop"),n=h.items.length-1;n>=0;n--)if(t>h.items[n].top){e=h.items[n];break}l(e)}function a(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==p[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px")}function s(){var e=p.prop("scrollTop"),t=e>(s.prevScrollTop||0);s.prevScrollTop=e,0===e?l(null):t&&h.next?h.next.top-e<=0?l(h.next):h.current&&(h.next.top-e<=h.next.height?d(h.current,h.next.top-h.next.height-e):d(h.current,null)):!t&&h.current&&(e<h.current.top&&l(h.prev),h.current&&h.next&&(e>=h.next.top-h.current.height?d(h.current,h.next.top-e-h.current.height):d(h.current,null)))}function l(e){if(h.current!==e){h.current&&(d(h.current,null),c(h.current,null)),e&&c(e,"active"),h.current=e;var t=h.items.indexOf(e);h.next=h.items[t+1],h.prev=h.items[t-1],c(h.next,"next"),c(h.prev,"prev")}}function c(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function d(e,t){e&&(null===t||t===n?e.translateY&&(e.translateY=null,e.clone.css(r.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(r.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var p=e.$element,f=o.throttle(i);u(p),p.on("$scrollstart",f),p.on("$scroll",s);var h,m=p.prop("offsetTop");return h={prev:null,current:null,next:null,items:[],add:t,refreshElements:i}}function l(){var n,r=t.element("<div>");e[0].body.appendChild(r[0]);for(var i=["sticky","-webkit-sticky"],o=0;o<i.length;++o)if(r.css({position:i[o],top:0,"z-index":2}),r.css("position")==i[o]){n=i[o];break}return r.remove(),n}function u(e){function t(){+a.now()-r>i?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),o(t))}var n,r,i=200;e.on("scroll touchmove",function(){n||(n=!0,o(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),r=+a.now()})}var c=l();return function(e,t,n){var r=t.controller("mdContent");if(r)if(c)t.css({position:c,top:0,"z-index":2});
else{var i=r.$element.data("$$sticky");i||(i=s(r),r.$element.data("$$sticky",i));var o=i.add(t,n||t.clone());e.$on("$destroy",o)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){function e(e,n,r){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><div class="md-subheader-inner"><span class="md-subheader-content"></span></div></h2>',compile:function(i,o,a){var s=i[0].outerHTML;return function(i,o){function l(e){return t.element(e[0].querySelector(".md-subheader-content"))}r(o),a(i,function(e){l(o).append(e)}),o.hasClass("md-no-sticky")||a(i,function(a){var u=n(t.element(s))(i);r(u),l(u).append(a),e(i,o,u)})}}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){function e(e){function t(e){function t(t,i,o){var a=e(o[n]);i.on(r,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var n="md"+e,r="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight"))}(),function(){function e(e,n,r,i,o,a,s,l){function u(e,n){var i=c.compile(e,n);return e.addClass("md-dragging"),function(e,n,u,c){function d(t){m(e)||(t.stopPropagation(),n.addClass("md-dragging"),y={width:g.prop("offsetWidth")},n.removeClass("transition"))}function p(e){if(y){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/y.width,n=c.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),g.css(o.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),y.translate=n}}function f(e){if(y){e.stopPropagation(),n.removeClass("md-dragging"),g.css(o.CSS.TRANSFORM,"");var t=c.$viewValue?y.translate<.5:y.translate>.5;t&&h(!c.$viewValue),y=null}}function h(t){e.$apply(function(){c.$setViewValue(t),c.$render()})}c=c||r.fakeNgModel();var m=a(u.ngDisabled),g=t.element(n[0].querySelector(".md-thumb-container")),v=t.element(n[0].querySelector(".md-container"));s(function(){n.removeClass("md-dragging")}),i(e,n,u,c),t.isDefined(u.ngDisabled)&&e.$watch(m,function(e){n.attr("tabindex",e?-1:0)}),l.register(v,"drag"),v.on("$md.dragstart",d).on("$md.drag",p).on("$md.dragend",f);var y}}var c=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:u}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(){return{restrict:"E"}}function n(e){function t(e,t,r,i){function o(o,a,l){return a=i.extractElementByName(a,"md-toast"),n=l.content,a.addClass(l.position.split(" ").map(function(e){return"md-"+e}).join(" ")),l.parent.addClass(s(l.position)),l.onSwipe=function(t){a.addClass("md-"+t.type.replace("$md.","")),e(r.cancel)},a.on("$md.swipeleft $md.swiperight",l.onSwipe),t.enter(a,l.parent)}function a(e,n,r){return n.off("$md.swipeleft $md.swiperight",r.onSwipe),r.parent.removeClass(s(r.position)),t.leave(n)}function s(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}return{onShow:o,onRemove:a,position:"bottom left",themable:!0,hideDelay:3e3}}var n,r=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:t}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var r={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(t){var r=this;t.$watch(function(){return n},function(){r.content=n}),this.resolve=function(){e.hide()}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return r}]}).addMethod("updateContent",function(e){n=e});return t.$inject=["$timeout","$animate","$mdToast","$mdUtil"],r}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n),n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,r,i,o,a){return{restrict:"E",controller:t.noop,link:function(s,l,u){function c(){function t(t,n){l.parent()[0]===n.parent()[0]&&(p&&p.off("scroll",g),n.on("scroll",g),n.attr("scroll-shrink","true"),p=n,e(i))}function i(){d=l.prop("offsetHeight"),p.css("margin-top",-d*m+"px"),c()}function c(e){var t=e?e.target.scrollTop:h;v(),f=Math.min(d/m,Math.max(0,f+t-h)),l.css(n.CSS.TRANSFORM,"translate3d(0,"+-f*m+"px,0)"),p.css(n.CSS.TRANSFORM,"translate3d(0,"+(d-f)*m+"px,0)"),h=t,l.hasClass("md-whiteframe-z1")?f||a(function(){o.removeClass(l,"md-whiteframe-z1")}):f&&a(function(){o.addClass(l,"md-whiteframe-z1")})}var d,p,f=0,h=0,m=u.mdShrinkSpeedFactor||.5,g=e.throttle(c),v=r.debounce(i,5e3);s.$on("$mdContentLoaded",t)}i(l),t.isDefined(u.mdScrollShrink)&&c()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"]}(),function(){function e(e,n,r,i,o,a,s,l,u){function c(c,f,h){function m(){g(),y(),w(),v()}function g(){t.isDefined(h.mdDelay)||(c.delay=d)}function v(){c.$watch("visible",function(e){e?_():x()}),c.$on("$destroy",function(){c.visible=!1,f.remove(),t.element(n).off("resize",O)})}function y(){f.detach(),f.attr("role","tooltip"),f.attr("id",h.id||"tooltip_"+o.nextUid())}function b(){for(var e=f.parent();"none"==n.getComputedStyle(e[0])["pointer-events"];)e=e.parent();return e}function $(){for(var e=f.parent()[0];e&&e!==s[0]&&e!==document.body&&(!e.tagName||"md-content"!=e.tagName.toLowerCase());)e=e.parentNode;return e}function w(){var e=c.hasOwnProperty("autohide")?c.autohide:h.hasOwnProperty("mdAutohide");k.on("focus mouseenter touchstart",function(){E(!0)}),k.on("blur mouseleave touchend touchcancel",function(){(i[0].activeElement!==k[0]||e)&&E(!1)}),t.element(n).on("resize",O)}function E(t){E.value=!!t,E.queued||(t?(E.queued=!0,e(function(){c.visible=E.value,E.queued=!1},c.delay)):e(function(){c.visible=!1}))}function _(){N.append(f);var e=n.getComputedStyle(f[0]);return t.isDefined(e.display)&&"none"==e.display?void f.detach():(k.attr("aria-describedby",f.attr("id")),C(),void t.forEach([f,T,S],function(e){l.addClass(e,"md-show")}))}function x(){k.removeAttr("aria-describedby"),u.all([l.removeClass(S,"md-show"),l.removeClass(T,"md-show"),l.removeClass(f,"md-show")]).then(function(){c.visible||f.detach()})}function C(){function e(){var e="left"===M||"right"===M?2*Math.sqrt(Math.pow(r.width,2)+Math.pow(r.height/2,2)):2*Math.sqrt(Math.pow(r.width/2,2)+Math.pow(r.height,2)),t="left"===M?{left:100,top:50}:"right"===M?{left:0,top:50}:"top"===M?{left:50,top:100}:{left:50,top:0};T.css({width:e+"px",height:e+"px",left:t.left+"%",top:t.top+"%"})}function t(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,N.prop("scrollWidth")-r.width-p),t.left=Math.max(t.left,p),t.top=Math.min(t.top,N.prop("scrollHeight")-r.height-p),t.top=Math.max(t.top,p),t}function n(e){return"left"===e?{left:i.left-r.width-p,top:i.top+i.height/2-r.height/2}:"right"===e?{left:i.left+i.width+p,top:i.top+i.height/2-r.height/2}:"top"===e?{left:i.left+i.width/2-r.width/2,top:i.top-r.height-p}:{left:i.left+i.width/2-r.width/2,top:i.top+i.height+p}}var r=o.offsetRect(f,N),i=o.offsetRect(k,N),a=n(M);M?a=t(a):a.top>f.prop("offsetParent").scrollHeight-r.height-p&&(a=t(n("top"))),f.css({top:a.top+"px",left:a.left+"px"}),e()}a(f);var k=b(),T=t.element(f[0].getElementsByClassName("md-background")[0]),S=t.element(f[0].getElementsByClassName("md-content")[0]),M=h.mdDirection,A=$(),N=t.element(A||document.body),O=r.throttle(function(){c.visible&&C()});return m()}var d=300,p=8;return{restrict:"E",transclude:!0,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:c}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){t.module("material.components.whiteframe",[])}(),function(){function e(e,n,o,a,s,l,u,c,d){function p(){g(),s(function(){v(),m(),h()})}function f(){function e(){var e=G.ul.getBoundingClientRect(),n={};e.right>o.right-i&&(n.left=t.right-e.width+"px"),G.$.ul.css(n)}if(!G)return s(f,0,!1);var t=G.wrap.getBoundingClientRect(),n=G.snap.getBoundingClientRect(),o=G.root.getBoundingClientRect(),a=n.bottom-o.top,l=o.bottom-n.top,u=t.left-o.left,c=t.width,d={left:u+"px",minWidth:c+"px",maxWidth:Math.max(t.right-o.left,o.right-t.left)-i+"px"};a>l&&o.height-t.bottom-i<r?(d.top="auto",d.bottom=l+"px",d.maxHeight=Math.min(r,t.top-o.top-i)+"px"):(d.top=a+"px",d.bottom="auto",d.maxHeight=Math.min(r,o.bottom-t.bottom-i)+"px"),G.$.ul.css(d),s(e,0,!1)}function h(){G.$.root.length&&(l(G.$.ul),G.$.ul.detach(),G.$.root.append(G.$.ul),c.pin&&c.pin(G.$.ul,d))}function m(){e.autofocus&&G.input.focus()}function g(){var n=parseInt(e.delay,10)||0;e.$watch("searchText",n?o.debounce(x,n):x),E($),e.$watch("selectedItem",w),e.$watch("$mdAutocompleteCtrl.hidden",function(e,t){!e&&t&&f()}),t.element(u).on("resize",f)}function v(){G={main:n[0],ul:n.find("ul")[0],input:n.find("input")[0],wrap:n.find("md-autocomplete-wrap")[0],root:document.body},G.li=G.ul.getElementsByTagName("li"),G.snap=y(),G.$=b(G)}function y(){for(var e=n;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return G.wrap}function b(e){var n={};for(var r in e)n[r]=t.element(e[r]);return n}function $(t,n){t&&(e.searchText=M(t)),e.itemChange&&t!==n&&e.itemChange(A(t))}function w(e,t){for(var n=0;n<Y.length;++n)Y[n](e,t)}function E(e){-1==Y.indexOf(e)&&Y.push(e)}function _(e){var t=Y.indexOf(e);-1!=t&&Y.splice(t,1)}function x(t,n){W.index=N(),t!==n&&t!==M(e.selectedItem)&&(e.selectedItem=null,e.textChange&&t!==n&&e.textChange(A(e.selectedItem)),I()?B():(W.loading=!1,W.matches=[],W.hidden=O(),H()))}function C(){X=!1,K||(W.hidden=!0)}function k(){X=!0,t.isString(e.searchText)||(e.searchText=""),e.minLength>0||(W.hidden=O(),W.hidden||B())}function T(e){switch(e.keyCode){case a.KEY_CODE.DOWN_ARROW:if(W.loading)return;e.preventDefault(),W.index=Math.min(W.index+1,W.matches.length-1),F(),j();break;case a.KEY_CODE.UP_ARROW:if(W.loading)return;e.preventDefault(),W.index=W.index<0?W.matches.length-1:Math.max(0,W.index-1),F(),j();break;case a.KEY_CODE.TAB:case a.KEY_CODE.ENTER:if(W.hidden||W.loading||W.index<0||W.matches.length<1)return;e.preventDefault(),P(W.index);break;case a.KEY_CODE.ESCAPE:W.matches=[],W.hidden=!0,W.index=N()}}function S(){return t.isNumber(e.minLength)?e.minLength:1}function M(t){return t&&e.itemText?e.itemText(A(t)):t}function A(e){if(e){var t={};return W.itemName&&(t[W.itemName]=e),t}}function N(){return e.autoselect?0:-1}function O(){return I()?void 0:!0}function D(){return M(W.matches[W.index])}function I(){return e.searchText.length>=S()}function P(t){e.selectedItem=W.matches[t],e.searchText=M(e.selectedItem)||e.searchText,W.hidden=!0,W.index=0,W.matches=[]}function R(){e.searchText="",P(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),G.input.dispatchEvent(t),G.input.focus()}function L(n){function r(t){z[o]=t,W.loading=!1,n===e.searchText&&(V=null,W.matches=t,W.hidden=O(),H(),f())}var i=e.$parent.$eval(U),o=n.toLowerCase();t.isArray(i)?r(i):(W.loading=!0,i.success&&i.success(r),i.then&&i.then(r),i.error&&i.error(function(){W.loading=!1}))}function H(){if(!W.hidden)switch(W.matches.length){case 0:return W.messages.splice(0);case 1:return W.messages.push({display:"There is 1 match available."});default:return W.messages.push({display:"There are "+W.matches.length+" matches available."})}}function j(){W.messages.push({display:D()})}function F(){var e=G.li[W.index],t=e.offsetTop,n=t+e.offsetHeight,r=G.ul.clientHeight;t<G.ul.scrollTop?G.ul.scrollTop=t:n>G.ul.scrollTop+r&&(G.ul.scrollTop=n-r)}function B(){var t=e.searchText,n=t.toLowerCase();V&&V.cancel&&(V.cancel(),V=null),!e.noCache&&z[n]?(W.matches=z[n],H()):L(t),W.hidden=O()}var W=this,q=e.itemsExpr.split(/ in /i),U=q[1],G=null,V=null,z={},K=!1,Y=[],X=!1;return W.scope=e,W.parent=e.$parent,W.itemName=q[0],W.matches=[],W.loading=!1,W.hidden=!0,W.index=null,W.messages=[],W.id=o.nextUid(),W.keydown=T,W.blur=C,W.focus=k,W.clear=R,W.select=P,W.getCurrentDisplayValue=D,W.registerSelectedItemWatcher=E,W.unregisterSelectedItemWatcher=_,W.listEnter=function(){K=!0},W.listLeave=function(){K=!1,X||(W.hidden=!0)},W.mouseUp=function(){G.input.focus()},p()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var n=41,r=5.5*n,i=8;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$timeout","$mdTheming","$window","$animate","$rootElement"]}(),function(){function e(e,t){function n(n,r,i){i.$observe("disabled",function(e){n.isDisabled=e}),t.initOptionalProperties(n,i,{searchText:null,selectedItem:null}),e(r)}return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",link:n,scope:{name:"@",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass"},template:function(e,t){function n(){var t=e.find("md-item-template").remove();return t.length?t.html():e.html()}function r(){var t=e.find("md-not-found").remove(),n=t.length?t.html():"";return n?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                         && !$mdAutocompleteCtrl.hidden"                         ng-hide="$mdAutocompleteCtrl.hidden"                         md-autocomplete-parent-scope>'+n+"</li>":""}function i(){return t.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="fl-input-{{$mdAutocompleteCtrl.id}}"                  name="{{name}}"                  autocomplete="off"                  ng-disabled="isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            </md-input-container>':'            <input type="search"                id="input-{{$mdAutocompleteCtrl.id}}"                name="{{name}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-disabled="isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}return'        <md-autocomplete-wrap role="listbox">          '+i()+'          <button              type="button"              tabindex="-1"              ng-if="$mdAutocompleteCtrl.scope.searchText && !isDisabled"              ng-click="$mdAutocompleteCtrl.clear()">            <md-icon md-svg-icon="md-cancel"></md-icon>            <span class="md-visually-hidden">Clear</span>          </button>          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-hide="$mdAutocompleteCtrl.hidden"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+n()+"            </li>            "+r()+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages">{{message.display}}</p>        </aria-status>'}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e),e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e,t,n){function r(e){return e?e.replace(/[\\\^\$\*\+\?\.\(\)\|\{\}\[\]]/g,"\\$&"):e}function i(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(r(n),t.replace(/[\$\^]/g,""))}var o=t.attr("md-highlight-text"),a=n(t.text())(e),s=t.attr("md-highlight-flags")||"",l=e.$watch(o,function(e){var n=i(e,s),r=a.replace(n,'<span class="highlight">$&</span>');t.html(r)});t.on("$destroy",function(){l()})}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$interpolate"]}(),function(){function e(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl"}}t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function e(e,t){function n(n,r,i){var o=n.$parent.$mdAutocompleteCtrl,a=o.parent.$new(!1,o.parent),s=o.scope.$eval(i.mdAutocompleteListItem);a[s]=n.item,e(r.contents())(a),r.attr({role:"option",id:"item_"+t.nextUid()})}return{terminal:!0,link:n,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteListItem",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e){function t(t,n){var r=t.$parent.$mdAutocompleteCtrl;e(n.contents())(r.parent)}return{restrict:"A",terminal:!0,link:t,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e){function r(r){return r.append(n),function(n,r,i,o){r.addClass("md-chip"),e(r),o&&t.element(r[0].querySelector(".md-chip-content")).on("blur",function(){o.selectedChip=-1})}}return{restrict:"E",require:"^?mdChips",compile:r}}t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';e.$inject=["$mdTheming"]}(),function(){function e(e){function t(t,n,r,i){n.on("click",function(){t.$apply(function(){i.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,ariaHidden:!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e){function t(t,n,r){var i=t.$parent.$mdChipsCtrl,o=i.parent.$new(!1,i.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$mdChipsCtrl=i,n.html(i.$scope.$eval(r.mdChipTransclude)),e(n.contents())(o)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,t,n,r,i){this.$timeout=i,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=n,this.$element=r,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useMdOnAppend=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();switch(e.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!t)break;e.preventDefault(),this.appendChip(t),this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(t)break;e.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1)}},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder},e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){this.items.indexOf(e)+1||(this.useMdOnAppend&&this.mdOnAppend&&(e=this.mdOnAppend({$chip:e})),this.items.push(e))},e.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){this.items.splice(e,1)},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?this.selectedChip=e:this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var r=this.$scope,i=this;e.attr({tabindex:0}).on("keydown",function(e){r.$apply(t.bind(i,function(){i.inputKeydown(e)}))}).on("focus",t.bind(i,i.onInputFocus)).on("blur",t.bind(i,i.onInputBlur))},e.prototype.configureAutocomplete=function(e){e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,s,l){function u(n,u){function c(e){if(u.ngModel){var t=d[0].querySelector(e);return t&&t.outerHTML}}var d=u.$mdUserTemplate;u.$mdUserTemplate=null;var p=c("md-chips>*[md-chip-remove]")||o,f=c("md-chips>md-chip-template")||i,h=c("md-chips>md-autocomplete")||c("md-chips>input")||r,m=d.find("md-chip");return d[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,i,o,s){t.initOptionalProperties(n,u),e(i);var c=s[0];if(c.chipContentsTemplate=f,c.chipRemoveTemplate=p,c.chipInputTemplate=h,i.attr({ariaHidden:!0,tabindex:-1}).on("focus",function(){c.onFocus()}),u.ngModel&&(c.configureNgModel(i.controller("ngModel")),o.mdOnAppend&&c.useMdOnAppendExpression(),h!=r&&l(function(){0===h.indexOf("<md-autocomplete")&&c.configureAutocomplete(i.find("md-autocomplete").controller("mdAutocomplete")),c.configureUserInput(i.find("input"))})),m.length>0){var d=a(m)(n.$parent);l(function(){i.find("md-chips-wrap").prepend(d)})}}}return{template:function(e,t){return t.$mdUserTemplate=e.clone(),n},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:u,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',r='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',i="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function r(n,r){return function(n,i){t.initOptionalProperties(n,r),e(i),i.attr("tabindex","-1")}}return{template:function(){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:r,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(){function e(e,n,r,i){function o(){function e(){return r.label}function t(){var e=n.find("md-tab-label");return e.length?e.remove().html():void 0}function i(){var e=n.html();return n.empty(),e}r.label||(n.find("md-tab-label")[0]||n[0]).innerHTML;return e()||t()||i()}function a(){var e=n.find("md-tab-body"),t=e.length?e.html():r.label?n.html():null;return e.length?e.remove():r.label&&n.empty(),t}if(i){var s=n.parent()[0].getElementsByTagName("md-tab"),l=Array.prototype.indexOf.call(s,n[0]),u=i.insertTab({scope:e,parent:e.$parent,index:l,template:a(),label:o()},l);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&i.select(u.getIndex())}),e.$watch("disabled",function(){i.refreshIndex()}),e.$watch(function(){return Array.prototype.indexOf.call(s,n[0])
},function(e){u.index=e,i.updateTabOrder()}),e.$on("$destroy",function(){i.removeTab(u)})}}return{require:"^?mdTabs",terminal:!0,scope:{label:"@",active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"},link:e}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){function e(e,t,n,r){r&&r.attachRipple(e,t)}return{require:"^?mdTabs",link:e}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var r=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){r(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,n,r,i,o,a,s,l){function u(){e.$watch("selectedIndex",C),e.$watch("$mdTabsCtrl.focusIndex",g),e.$watch("$mdTabsCtrl.offsetLeft",m),e.$watch("$mdTabsCtrl.hasContent",c),t.element(r).on("resize",function(){e.$apply(b)}),i(S,0,!1),i(T,0,!1)}function c(e){n[e?"removeClass":"addClass"]("md-no-tab-content")}function d(){var e={};return e.wrapper=n[0].getElementsByTagName("md-tabs-wrapper")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=n[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function p(t){switch(t.keyCode){case o.KEY_CODE.LEFT_ARROW:t.preventDefault(),h(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:t.preventDefault(),h(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:t.preventDefault(),q||(e.selectedIndex=W.focusIndex)}W.lastClick=!1}function f(){var t=W.tabs[e.selectedIndex],n=W.tabs[W.focusIndex];W.tabs=W.tabs.sort(function(e,t){return e.index-t.index}),e.selectedIndex=W.tabs.indexOf(t),W.focusIndex=W.tabs.indexOf(n),i(S,0,!1)}function h(t,n){var r,i=n?W.focusIndex:e.selectedIndex;for(r=i+t;W.tabs[r]&&W.tabs[r].scope.disabled;r+=t);W.tabs[r]&&(n?W.focusIndex=r:e.selectedIndex=r)}function m(n){var r=O()?"":"-"+n+"px";t.element(U.paging).css("left",r),e.$broadcast("$mdTabsPaginationChanged")}function g(e,t){e!==t&&U.tabs[e]&&(y(),v())}function v(){U.dummies[W.focusIndex].focus()}function y(){if(!O()){var e=U.tabs[W.focusIndex],t=e.offsetLeft,n=e.offsetWidth+t;W.offsetLeft=Math.max(W.offsetLeft,R(n-U.canvas.clientWidth)),W.offsetLeft=Math.min(W.offsetLeft,R(t))}}function b(){W.lastSelectedIndex=e.selectedIndex,W.offsetLeft=R(W.offsetLeft),i(S,0,!1)}function $(){G.forEach(function(e){i(e)}),G=[]}function w(n,r){var i={getIndex:function(){return W.tabs.indexOf(o)},isActive:function(){return this.getIndex()===e.selectedIndex},isLeft:function(){return this.getIndex()<e.selectedIndex},isRight:function(){return this.getIndex()>e.selectedIndex},hasFocus:function(){return!W.lastClick&&W.hasFocus&&this.getIndex()===W.focusIndex},id:s.nextUid()},o=t.extend(i,n);return t.isDefined(r)?W.tabs.splice(r,0,o):W.tabs.push(o),$(),E(),o}function E(){var e=!1;t.forEach(W.tabs,function(t){t.template&&(e=!0)}),W.hasContent=e}function _(e){W.tabs.splice(e.getIndex(),1),x(),i(function(){S(),W.offsetLeft=R(W.offsetLeft)})}function x(){e.selectedIndex=A(e.selectedIndex),W.focusIndex=A(W.focusIndex)}function C(t,n){t!==n&&(e.selectedIndex=A(t),W.lastSelectedIndex=n,S(),T(),e.$broadcast("$mdTabsChanged"),W.tabs[n]&&W.tabs[n].scope.deselect(),W.tabs[t]&&W.tabs[t].scope.select())}function k(){k.watcher||(k.watcher=e.$watch(function(){i(function(){k.watcher&&n.prop("offsetParent")&&(k.watcher(),k.watcher=null,e.$apply(b))},0,!1)}))}function T(){if(!e.dynamicHeight)return n.css("height","");if(!W.tabs.length)return G.push(T);var t=U.contents[e.selectedIndex],r=t?t.offsetHeight:0,i=U.wrapper.offsetHeight,o=r+i,a=n.prop("clientHeight");a!==o&&(q=!0,l.animate(n,{height:a+"px"},{height:o+"px"}).then(function(){n.css("height",""),q=!1}))}function S(){if(!W.tabs.length)return G.push(S);if(!n.prop("offsetParent"))return k();var r=e.selectedIndex,i=U.paging.offsetWidth,o=U.tabs[r],a=o.offsetLeft,s=i-a-o.offsetWidth;M(),t.element(U.inkBar).css({left:a+"px",right:s+"px"})}function M(){var n=e.selectedIndex,r=W.lastSelectedIndex,i=t.element(U.inkBar);i.removeClass("md-left md-right"),t.isNumber(r)&&(r>n?i.addClass("md-left"):n>r&&i.addClass("md-right"))}function A(e){var t,n,r=Math.max(W.tabs.length-e,e);for(t=0;r>=t;t++){if(n=W.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=W.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function N(){switch(e.stretchTabs){case"always":return!0;case"never":return!1;default:return!D()&&r.matchMedia("(max-width: 600px)").matches}}function O(){return e.centerTabs&&!D()}function D(){if(e.noPagination)return!1;var r=n.prop("clientWidth");return t.forEach(U.tabs,function(e){r-=e.offsetWidth}),0>r}function I(t){q||(W.focusIndex=e.selectedIndex=t),W.lastClick=!0}function P(e){D()&&(e.preventDefault(),W.offsetLeft=R(W.offsetLeft-e.wheelDelta))}function R(e){if(!U.tabs.length||!D())return 0;var t=U.tabs[U.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-U.canvas.clientWidth,e)}function L(){var e,t,n=U.canvas.clientWidth,r=n+W.offsetLeft;for(e=0;e<U.tabs.length&&(t=U.tabs[e],!(t.offsetLeft+t.offsetWidth>r));e++);W.offsetLeft=R(t.offsetLeft)}function H(){var e,t;for(e=0;e<U.tabs.length&&(t=U.tabs[e],!(t.offsetLeft+t.offsetWidth>=W.offsetLeft));e++);W.offsetLeft=R(t.offsetLeft+t.offsetWidth-U.canvas.clientWidth)}function j(){return W.offsetLeft>0}function F(){var e=U.tabs[U.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>U.canvas.clientWidth+W.offsetLeft}function B(e,n){var r={colorElement:t.element(U.inkBar)};a.attachTabBehavior(e,n,r)}var W=this,q=!1,U=d(),G=[];W.scope=e,W.parent=e.$parent,W.tabs=[],W.lastSelectedIndex=null,W.focusIndex=0,W.offsetLeft=0,W.hasContent=!1,W.hasFocus=!1,W.lastClick=!0,W.redirectFocus=v,W.attachRipple=B,W.shouldStretchTabs=N,W.shouldPaginate=D,W.shouldCenterTabs=O,W.insertTab=w,W.removeTab=_,W.select=I,W.scroll=P,W.nextPage=L,W.previousPage=H,W.keydown=p,W.canPageForward=F,W.canPageBack=j,W.refreshIndex=x,W.incrementSelectedIndex=h,W.updateInkBarStyles=S,W.updateTabOrder=s.debounce(f,100),u()}t.module("material.components.tabs").controller("MdTabsController",e),e.$inject=["$scope","$element","$window","$timeout","$mdConstant","$mdInkRipple","$mdUtil","$animate"]}(),function(){function e(e,n,r){return{scope:{noPagination:"=?mdNoPagination",dynamicHeight:"=?mdDynamicHeight",centerTabs:"=?mdCenterTabs",selectedIndex:"=?mdSelected",stretchTabs:"@?mdStretchTabs"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'        <md-tabs-wrapper ng-class="{ \'md-stretch-tabs\': $mdTabsCtrl.shouldStretchTabs() }">          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate(),                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs()              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs() }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ tabWidth ? tabWidth + \'px\' : \'none\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="tab.label"                  md-scope="tab.parent"></md-tab-item>              <md-ink-bar ng-hide="noInkBar"></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  tabindex="-1"                  id="tab-item-{{tab.id}}"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="tab.label"                  md-scope="tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent">          <md-tab-content              id="tab-content-{{tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{tab.id}}"              md-swipe-left="$mdTabsCtrl.incrementSelectedIndex(1)"              md-swipe-right="$mdTabsCtrl.incrementSelectedIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"               md-template="tab.template"              md-scope="tab.parent"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     dynamicHeight              }"></md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",link:function(i,o,a){function s(e){var t=o.find("md-tab-data");t.html(e),r(t.contents())(i.$parent)}s(a.$mdTabsTemplate),delete a.$mdTabsTemplate,n.initOptionalProperties(i,a),a.$observe("mdNoBar",function(e){i.noInkBar=t.isDefined(e)}),i.selectedIndex=t.isNumber(i.selectedIndex)?i.selectedIndex:0,e(o)}}}t.module("material.components.tabs").directive("mdTabs",e),e.$inject=["$mdTheming","$mdUtil","$compile"]}(),function(){function e(e){function t(t,n,r,i){i&&(n.html(t.template),e(n.contents())(t.compileScope))}return{restrict:"A",link:t,scope:{template:"=mdTemplate",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTemplate",e),e.$inject=["$compile"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-4}}' 0%, '{{foreground-4}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-4}}' 100%); }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label.md-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-label {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-label {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-label {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-label.md-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme .md-select-label {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-label.md-placeholder {    color: '{{foreground-2}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }")
}()}(window,window.angular),/**
 * angular-strap
 * @version v2.2.1 - 2015-03-10
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var e=this.defaults={offsetTop:"auto",inlineStyles:!0};this.$get=["$window","debounce","dimensions",function(t,n,r){function i(i,s){function l(e,t,n){var r=u(),i=c();return y>=r?"top":null!==e&&r+e<=t.top?"middle":null!==b&&t.top+n+g>=i-b?"bottom":"middle"}function u(){return f[0]===t?t.pageYOffset:f[0].scrollTop}function c(){return f[0]===t?t.document.body.scrollHeight:f[0].scrollHeight}var d={},p=angular.extend({},e,s),f=p.target,h="affix affix-top affix-bottom",m=!1,g=0,v=0,y=0,b=0,$=null,w=null,E=i.parent();if(p.offsetParent)if(p.offsetParent.match(/^\d+$/))for(var _=0;_<1*p.offsetParent-1;_++)E=E.parent();else E=angular.element(p.offsetParent);return d.init=function(){this.$parseOffsets(),v=r.offset(i[0]).top+g,m=!i[0].style.width,f.on("scroll",this.checkPosition),f.on("click",this.checkPositionWithEventLoop),a.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},d.destroy=function(){f.off("scroll",this.checkPosition),f.off("click",this.checkPositionWithEventLoop),a.off("resize",this.$debouncedOnResize)},d.checkPositionWithEventLoop=function(){setTimeout(d.checkPosition,1)},d.checkPosition=function(){var e=u(),t=r.offset(i[0]),n=r.height(i[0]),a=l(w,t,n);$!==a&&($=a,i.removeClass(h).addClass("affix"+("middle"!==a?"-"+a:"")),"top"===a?(w=null,m&&i.css("width",""),p.inlineStyles&&(i.css("position",p.offsetParent?"":"relative"),i.css("top",""))):"bottom"===a?(w=p.offsetUnpin?-(1*p.offsetUnpin):t.top-e,m&&i.css("width",""),p.inlineStyles&&(i.css("position",p.offsetParent?"":"relative"),i.css("top",p.offsetParent?"":o[0].offsetHeight-b-n-v+"px"))):(w=null,m&&i.css("width",i[0].offsetWidth+"px"),p.inlineStyles&&(i.css("position","fixed"),i.css("top",g+"px"))))},d.$onResize=function(){d.$parseOffsets(),d.checkPosition()},d.$debouncedOnResize=n(d.$onResize,50),d.$parseOffsets=function(){var e=i.css("position");p.inlineStyles&&i.css("position",p.offsetParent?"":"relative"),p.offsetTop&&("auto"===p.offsetTop&&(p.offsetTop="+0"),p.offsetTop.match(/^[-+]\d+$/)?(g=1*-p.offsetTop,y=p.offsetParent?r.offset(E[0]).top+1*p.offsetTop:r.offset(i[0]).top-r.css(i[0],"marginTop",!0)+1*p.offsetTop):y=1*p.offsetTop),p.offsetBottom&&(b=p.offsetParent&&p.offsetBottom.match(/^[-+]\d+$/)?c()-(r.offset(E[0]).top+r.height(E[0]))+1*p.offsetBottom+1:1*p.offsetBottom),p.inlineStyles&&i.css("position",e)},d.init(),d}var o=angular.element(t.document.body),a=angular.element(t);return i}]}).directive("bsAffix",["$affix","$window",function(e,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(n,r,i,o){var a={scope:n,target:o?o.$element:angular.element(t)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles"],function(e){if(angular.isDefined(i[e])){var t=i[e];/true/i.test(t)&&(t=!0),/false/i.test(t)&&(t=!1),a[e]=t}});var s=e(r,a);n.$on("$destroy",function(){s&&s.destroy(),a=null,s=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(e){this.$element=e}]}}),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var e=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function n(n){var r={},i=angular.extend({},e,n);return r=t(i)}return n}]}).directive("bsAside",["$window","$sce","$aside",function(e,t,n){e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,r,i){var o={scope:e,element:r,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(i[e])&&(o[e]=i[e])}),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(r){e[n]=t.trustAsHtml(r)})}),i.bsAside&&e.$watch(i.bsAside,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var a=n(o);r.on(i.trigger||"click",a.toggle),e.$on("$destroy",function(){a&&a.destroy(),o=null,a=null})}}}]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var e=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,n){function r(r){var i={},o=angular.extend({},e,r);i=t(o),i.$scope.dismissable=!!o.dismissable,o.type&&(i.$scope.type=o.type);var a=i.show;return o.duration&&(i.show=function(){a(),n(function(){i.hide()},1e3*o.duration)}),i}return r}]}).directive("bsAlert",["$window","$sce","$alert",function(e,t,n){e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,r,i){var o={scope:e,element:r,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(e){angular.isDefined(i[e])&&(o[e]=i[e])}),e.hasOwnProperty("title")||(e.title=""),angular.forEach(["title","content","type"],function(n){i[n]&&i.$observe(n,function(r){e[n]=t.trustAsHtml(r)})}),i.bsAlert&&e.$watch(i.bsAlert,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var a=n(o);r.on(i.trigger||"click",a.toggle),e.$on("$destroy",function(){a&&a.destroy(),o=null,a=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var e=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:e}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(e){var n=angular.element(e);n.attr("bs-checkbox",""),n.attr("ng-model",t.ngModel+"."+n.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(e,t){var n=e.defaults,r=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,i,o,a){var s=n,l="INPUT"===i[0].nodeName,u=l?i.parent():i,c=angular.isDefined(o.trueValue)?o.trueValue:!0;r.test(o.trueValue)&&(c=e.$eval(o.trueValue));var d=angular.isDefined(o.falseValue)?o.falseValue:!1;r.test(o.falseValue)&&(d=e.$eval(o.falseValue));var p="boolean"!=typeof c||"boolean"!=typeof d;p&&(a.$parsers.push(function(e){return e?c:d}),a.$formatters.push(function(e){return angular.equals(e,c)}),e.$watch(o.ngModel,function(){a.$render()})),a.$render=function(){var e=angular.equals(a.$modelValue,c);t(function(){l&&(i[0].checked=e),u.toggleClass(s.activeClass,e)})},i.bind(s.toggleEvent,function(){e.$apply(function(){l||a.$setViewValue(!u.hasClass("active")),p||a.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(e){angular.element(e).attr("bs-radio",""),angular.element(e).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(e,t){var n=e.defaults,r=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,i,o,a){var s,l=n,u="INPUT"===i[0].nodeName,c=u?i.parent():i;o.$observe("value",function(t){s=r.test(t)?e.$eval(t):t,a.$render()}),a.$render=function(){var e=angular.equals(a.$modelValue,s);t(function(){u&&(i[0].checked=e),c.toggleClass(l.activeClass,e)})},i.bind(l.toggleEvent,function(){e.$apply(function(){a.$setViewValue(s),a.$render()})})}}}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var e=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},t=this.controller=function(t,n,r){function i(e){for(var t=l.$targets.$active,n=0;n<t.length;n++)e<t[n]&&(t[n]=t[n]-1),t[n]===l.$targets.length&&(t[n]=l.$targets.length-1)}function o(e){var t=l.$targets.$active;return-1===t.indexOf(e)?!1:!0}function a(e){var t=l.$targets.$active.indexOf(e);-1!==t&&l.$targets.$active.splice(t,1)}function s(e){l.$options.allowMultiple||l.$targets.$active.splice(0,1),-1===l.$targets.$active.indexOf(e)&&l.$targets.$active.push(e)}var l=this;l.$options=angular.copy(e),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(e){angular.isDefined(r[e])&&(l.$options[e]=r[e])}),l.$toggles=[],l.$targets=[],l.$viewChangeListeners=[],l.$registerToggle=function(e){l.$toggles.push(e)},l.$registerTarget=function(e){l.$targets.push(e)},l.$unregisterToggle=function(e){var t=l.$toggles.indexOf(e);l.$toggles.splice(t,1)},l.$unregisterTarget=function(e){var t=l.$targets.indexOf(e);l.$targets.splice(t,1),l.$options.allowMultiple&&a(e),i(t),l.$viewChangeListeners.forEach(function(e){e()})},l.$targets.$active=l.$options.startCollapsed?[]:[0],l.$setActive=t.$setActive=function(e){angular.isArray(e)?l.$targets.$active=angular.copy(e):l.$options.disallowToggle?s(e):o(e)?a(e):s(e),l.$viewChangeListeners.forEach(function(e){e()})},l.$activeIndexes=function(){return l.$options.allowMultiple?l.$targets.$active:1===l.$targets.$active.length?l.$targets.$active[0]:-1}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsCollapse",["$window","$animate","$collapse",function(e,t,n){n.defaults;return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(e,t,n,r){var i=r[0],o=r[1];i&&(o.$viewChangeListeners.push(function(){i.$setViewValue(o.$activeIndexes())}),i.$formatters.push(function(e){if(angular.isArray(e))o.$setActive(e);else{var t=o.$activeIndexes();angular.isArray(t)?-1===t.indexOf(1*e)&&o.$setActive(1*e):t!==1*e&&o.$setActive(1*e)}return e}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,t,n,r){var i=(r[0],r[1]);t.attr("data-toggle","collapse"),i.$registerToggle(t),e.$on("$destroy",function(){i.$unregisterToggle(t)}),t.on("click",function(){var r=n.bsCollapseToggle||i.$toggles.indexOf(t);i.$setActive(1*r),e.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(e){return{require:["^?ngModel","^bsCollapse"],link:function(t,n,r,i){function o(){var t=a.$targets.indexOf(n),r=a.$activeIndexes(),i="removeClass";angular.isArray(r)?-1!==r.indexOf(t)&&(i="addClass"):t===r&&(i="addClass"),e[i](n,a.$options.activeClass)}var a=(i[0],i[1]);n.addClass("collapse"),a.$options.animation&&n.addClass(a.$options.animation),a.$registerTarget(n),t.$on("$destroy",function(){a.$unregisterTarget(n)}),a.$viewChangeListeners.push(function(){o()}),o()}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:+1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,n,r,i,o,a,s,l){function u(t,n,r){function i(e){e.selected=u.$isSelected(e.date)}function o(){t[0].focus()}var u=s(t,angular.extend({},e,r)),p=r.scope,f=u.$options,h=u.$scope;f.startView&&(f.startView-=f.minView);var m=a(u);u.$views=m.views;var g=m.viewDate;h.$mode=f.startView,h.$iconLeft=f.iconLeft,h.$iconRight=f.iconRight;var v=u.$views[h.$mode];h.$select=function(e){u.select(e)},h.$selectPane=function(e){u.$selectPane(e)},h.$toggleMode=function(){u.setMode((h.$mode+1)%u.$views.length)},u.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(u.$date=e,v.update.call(v,e)),u.$build(!0)},u.updateDisabledDates=function(e){f.disabledDateRanges=e;for(var t=0,n=h.rows.length;n>t;t++)angular.forEach(h.rows[t],u.$setDisabledEl)},u.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e)),!h.$mode||t?(n.$setViewValue(angular.copy(e)),n.$render(),f.autoclose&&!t&&l(function(){u.hide(!0)})):(angular.extend(g,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),u.setMode(h.$mode-1),u.$build())},u.setMode=function(e){h.$mode=e,v=u.$views[h.$mode],u.$build()},u.$build=function(e){e===!0&&v.built||(e!==!1||v.built)&&v.build.call(v)},u.$updateSelected=function(){for(var e=0,t=h.rows.length;t>e;e++)angular.forEach(h.rows[e],i)},u.$isSelected=function(e){return v.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=v.isDisabled(e.date)},u.$selectPane=function(e){var t=v.steps,n=new Date(Date.UTC(g.year+(t.year||0)*e,g.month+(t.month||0)*e,1));angular.extend(g,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),u.$build()},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},u.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return h.$mode?h.$apply(function(){u.setMode(h.$mode-1)}):u.hide(!0);v.onKeyDown(e),p.$digest()}};var y=u.init;u.init=function(){return c&&f.useNative?(t.prop("type","date"),void t.css("-webkit-appearance","textfield")):(d&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",o)),void y())};var b=u.destroy;u.destroy=function(){c&&f.useNative&&t.off("click",o),b()};var $=u.show;u.show=function(){$(),l(function(){u.$isShown&&(u.$element.on(d?"touchstart":"mousedown",u.$onMouseDown),f.keyboard&&t.on("keydown",u.$onKeyDown))},0,!1)};var w=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(d?"touchstart":"mousedown",u.$onMouseDown),f.keyboard&&t.off("keydown",u.$onKeyDown),w(e))},u}var c=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),d="createTouch"in t.document&&c;return e.lang||(e.lang=o.getDefaultLocale()),u.defaults=e,u}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(e,t,n,r,i,o){var a=(o.defaults,/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent));return{restrict:"EAC",require:"ngModel",link:function(e,t,n,s){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(p.$options.minDate)||e.getTime()>=p.$options.minDate,n=isNaN(p.$options.maxDate)||e.getTime()<=p.$options.maxDate,r=t&&n;s.$setValidity("date",r),s.$setValidity("min",t),s.$setValidity("max",n),r&&(s.$dateValue=e)}}function c(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?"":h(s.$dateValue,d.dateFormat)}var d={scope:e,controller:s};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id"],function(e){angular.isDefined(n[e])&&(d[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),e===!0?p.show():p.hide())});var p=o(t,s,d);d=p.$options,a&&d.useNative&&(d.dateFormat="yyyy-MM-dd");var f=d.lang,h=function(e,t){return r.formatDate(e,t,f)},m=i({format:d.dateFormat,lang:f,strict:d.strictFormat});angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){p.$options[e]=m.getDateForAttribute(e,t),!isNaN(p.$options[e])&&p.$build(!1),u(s.$dateValue)})}),e.$watch(n.ngModel,function(){p.update(s.$dateValue)},!0),angular.isDefined(n.disabledDates)&&e.$watch(n.disabledDates,function(e,t){e=l(e),t=l(t),e&&p.updateDisabledDates(e)}),s.$parsers.unshift(function(e){var t;if(!e)return s.$setValidity("date",!0),null;var n=m.parse(e,s.$dateValue);return!n||isNaN(n.getTime())?void s.$setValidity("date",!1):(u(n),"string"===d.dateType?(t=m.timezoneOffsetAdjust(n,d.timezone,!0),h(t,d.modelDateFormat||d.dateFormat)):(t=m.timezoneOffsetAdjust(s.$dateValue,d.timezone,!0),"number"===d.dateType?t.getTime():"unix"===d.dateType?t.getTime()/1e3:"iso"===d.dateType?t.toISOString():new Date(t)))}),s.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===d.dateType?m.parse(e,null,d.modelDateFormat):new Date("unix"===d.dateType?1e3*e:e),s.$dateValue=m.timezoneOffsetAdjust(t,d.timezone),c()}),s.$render=function(){t.val(c())},e.$on("$destroy",function(){p&&p.destroy(),d=null,p=null})}}}]).provider("datepickerViews",function(){function e(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function t(e,t){return(e%t+t)%t}this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$dateFormatter","$dateParser","$sce",function(n,r,i){return function(o){var a=o.$scope,s=o.$options,l=s.lang,u=function(e,t){return n.formatDate(e,t,l)},c=r({format:s.dateFormat,lang:l,strict:s.strictFormat}),d=n.weekdaysShort(l),p=d.slice(s.startWeek).concat(d.slice(0,s.startWeek)),f=i.trustAsHtml('<th class="dow text-center">'+p.join('</th><th class="dow text-center">')+"</th>"),h=o.$date||(s.startDate?c.getDateForAttribute("startDate",s.startDate):new Date),m={year:h.getFullYear(),month:h.getMonth(),date:h.getDate()},g=[{format:s.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==m.year||e.getMonth()!==m.month?(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):e.getDate()!==m.date&&(m.date=o.$date.getDate(),o.$updateSelected())},build:function(){var n=new Date(m.year,m.month,1),r=n.getTimezoneOffset(),i=new Date(+n-864e5*t(n.getDay()-s.startWeek,7)),l=i.getTimezoneOffset(),d=c.timezoneOffsetAdjust(new Date,s.timezone).toDateString();l!==r&&(i=new Date(+i+6e4*(l-r)));for(var p,h=[],g=0;42>g;g++)p=c.daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate()+g)),h.push({date:p,isToday:p.toDateString()===d,label:u(p,this.format),selected:o.$date&&this.isSelected(p),muted:p.getMonth()!==m.month,disabled:this.isDisabled(p)});a.title=u(n,s.monthTitleFormat),a.showLabels=!0,a.labels=f,a.rows=e(h,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()&&e.getMonth()===o.$date.getMonth()&&e.getDate()===o.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<s.minDate||t>s.maxDate)return!0;if(-1!==s.daysOfWeekDisabled.indexOf(e.getDay()))return!0;if(s.disabledDateRanges)for(var n=0;n<s.disabledDateRanges.length;n++)if(t>=s.disabledDateRanges[n].start&&t<=s.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(e){if(o.$date){var t,n=o.$date.getTime();37===e.keyCode?t=new Date(n-864e5):38===e.keyCode?t=new Date(n-6048e5):39===e.keyCode?t=new Date(n+864e5):40===e.keyCode&&(t=new Date(n+6048e5)),this.isDisabled(t)||o.select(t,!0)}}},{name:"month",format:s.monthFormat,split:4,steps:{year:1},update:function(e){this.built&&e.getFullYear()===m.year?e.getMonth()!==m.month&&(angular.extend(m,{month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected()):(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build())},build:function(){for(var t,n=(new Date(m.year,0,1),[]),r=0;12>r;r++)t=new Date(m.year,r,1),n.push({date:t,label:u(t,this.format),selected:o.$isSelected(t),disabled:this.isDisabled(t)});a.title=u(t,s.yearTitleFormat),a.showLabels=!1,a.rows=e(n,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()&&e.getMonth()===o.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(o.$date){var t=o.$date.getMonth(),n=new Date(o.$date);37===e.keyCode?n.setMonth(t-1):38===e.keyCode?n.setMonth(t-4):39===e.keyCode?n.setMonth(t+1):40===e.keyCode&&n.setMonth(t+4),this.isDisabled(n)||o.select(n,!0)}}},{name:"year",format:s.yearFormat,split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(m.year/20,10)?(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):e.getFullYear()!==m.year&&(angular.extend(m,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected())},build:function(){for(var t,n=m.year-m.year%(3*this.split),r=[],i=0;12>i;i++)t=new Date(n+i,0,1),r.push({date:t,label:u(t,this.format),selected:o.$isSelected(t),disabled:this.isDisabled(t)});a.title=r[0].label+"-"+r[r.length-1].label,a.showLabels=!1,a.rows=e(r,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(o.$date){var t=o.$date.getFullYear(),n=new Date(o.$date);37===e.keyCode?n.setYear(t-1):38===e.keyCode?n.setYear(t-4):39===e.keyCode?n.setYear(t+1):40===e.keyCode&&n.setYear(t+4),this.isDisabled(n)||o.select(n,!0)}}}];return{views:s.minView?Array.prototype.slice.call(g,s.minView):g,viewDate:m}}}]}),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var e=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,r,i){function o(t,o){function l(e){return e.target!==t[0]?e.target!==t[0]&&u.hide():void 0}{var u={},c=angular.extend({},e,o);u.$scope=c.scope&&c.scope.$new()||n.$new()}u=r(t,c);var d=t.parent();u.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var t=angular.element(u.$element[0].querySelectorAll("li:not(.divider) a"));if(t.length){var n;angular.forEach(t,function(e,t){s&&s.call(e,":focus")&&(n=t)}),38===e.keyCode&&n>0?n--:40===e.keyCode&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0),t.eq(n)[0].focus()}}};var p=u.show;u.show=function(){p(),i(function(){c.keyboard&&u.$element.on("keydown",u.$onKeyDown),a.on("click",l)},0,!1),d.hasClass("dropdown")&&d.addClass("open")};var f=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element.off("keydown",u.$onKeyDown),a.off("click",l),d.hasClass("dropdown")&&d.removeClass("open"),f())};var h=u.destroy;return u.destroy=function(){a.off("click",l),h()},u}var a=angular.element(t.document.body),s=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,t,r){var i={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","id"],function(e){angular.isDefined(r[e])&&(i[e]=r[e])}),r.bsDropdown&&e.$watch(r.bsDropdown,function(t){e.content=t},!0),r.bsShow&&e.$watch(r.bsShow,function(e){o&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),e===!0?o.show():o.hide())});var o=n(t,i);e.$on("$destroy",function(){o&&o.destroy(),i=null,o=null})}}}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(e,t){function n(e){return/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(e).slice(1)}this.getDefaultLocale=function(){return e.id},this.getDatetimeFormat=function(t){return e.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(){return e.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(e){return n(e)[0]},this.minutesFormat=function(e){return n(e)[2]},this.timeSeparator=function(e){return n(e)[1]},this.showAM=function(e){return!!n(e)[3]},this.formatDate=function(e,n,r,i){return t(e,n,i)}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function e(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function t(){}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e,t){for(var n=e.length,r=t.toString().toLowerCase(),i=0;n>i;i++)if(e[i].toLowerCase()===r)return i;return-1}e.prototype.setMilliseconds=function(e){this.milliseconds=e},e.prototype.setSeconds=function(e){this.seconds=e},e.prototype.setMinutes=function(e){this.minutes=e},e.prototype.setHours=function(e){this.hours=e},e.prototype.getHours=function(){return this.hours},e.prototype.setDate=function(e){this.day=e},e.prototype.setMonth=function(e){this.month=e},e.prototype.setFullYear=function(e){this.year=e},e.prototype.fromDate=function(e){return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this},e.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var i=e.prototype,o=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(a,s){var l=function(l){function u(e){var t,n=Object.keys(v),r=[],i=[],o=e;for(t=0;t<n.length;t++)if(e.split(n[t]).length>1){var a=o.search(n[t]);e=e.split(n[t]).join(""),v[n[t]]&&(r[a]=v[n[t]])}return angular.forEach(r,function(e){e&&i.push(e)}),i}function c(e){return e.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function d(e){var t,n=Object.keys(g),r=e;for(t=0;t<n.length;t++)r=r.split(n[t]).join("${"+t+"}");for(t=0;t<n.length;t++)r=r.split("${"+t+"}").join("("+g[n[t]]+")");return e=c(e),new RegExp("^"+r+"$",["i"])}var p,f,h=angular.extend({},o,l),m={},g={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:h.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:h.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:h.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:h.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:a.DATETIME_FORMATS.DAY.join("|"),EEE:a.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:h.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:a.DATETIME_FORMATS.MONTH.join("|"),MMM:a.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:h.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:h.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},v={sss:i.setMilliseconds,ss:i.setSeconds,s:i.setSeconds,mm:i.setMinutes,m:i.setMinutes,HH:i.setHours,H:i.setHours,hh:i.setHours,h:i.setHours,EEEE:t,EEE:t,dd:i.setDate,d:i.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(e){return this.setMonth(r(a.DATETIME_FORMATS.MONTH,e))},MMM:function(e){return this.setMonth(r(a.DATETIME_FORMATS.SHORTMONTH,e))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:i.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:i.setFullYear};return m.init=function(){m.$format=a.DATETIME_FORMATS[h.format]||h.format,p=d(m.$format),f=u(m.$format)},m.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):p.test(e)},m.parse=function(t,n,r,i){r&&(r=a.DATETIME_FORMATS[r]||r),angular.isDate(t)&&(t=s(t,r||m.$format,i));var o=r?d(r):p,l=r?u(r):f,c=o.exec(t);if(!c)return!1;for(var h=(new e).fromDate(n&&!isNaN(n.getTime())?n:new Date(1970,0,1,0)),g=0;g<c.length-1;g++)l[g]&&l[g].call(h,c[g+1]);var v=h.toDate();return parseInt(h.day,10)!==v.getDate()?!1:v},m.getDateForAttribute=function(e,t){var r;if("today"===t){var i=new Date;r=new Date(i.getFullYear(),i.getMonth(),i.getDate()+("maxDate"===e?1:0),0,0,0,"minDate"===e?0:-1)}else r=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):n(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?"minDate"===e?-1/0:+1/0:new Date(t);return r},m.getTimeForAttribute=function(e,t){var r;return r="now"===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):n(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?"minTime"===e?-1/0:+1/0:m.parse(t,new Date(1970,0,1,0))},m.daylightSavingAdjust=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},m.timezoneOffsetAdjust=function(e,t,n){return e?(t&&"UTC"===t&&(e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+(n?-1:1)*e.getTimezoneOffset())),e):null},m.init(),m};return l}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(e){return function(t,n,r){var i=null;return function(){var o=this,a=arguments,s=r&&!i;return i&&e.cancel(i),i=e(function(){i=null,r||t.apply(o,a)},n,!1),s&&t.apply(o,a),i}}}]).factory("throttle",["$timeout",function(e){return function(t,n,r){var i=null;return r||(r={}),function(){var o=this,a=arguments;i||(r.leading!==!1&&t.apply(o,a),i=e(function(){i=null,r.trailing!==!1&&t.apply(o,a)},n,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var t=(angular.element,{}),n=t.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};t.css=function(t,n,r){var i;return i=t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n],r===!0?parseFloat(i)||0:i},t.offset=function(t){var n=t.getBoundingClientRect(),r=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||r.documentElement.scrollTop)-(r.documentElement.clientTop||0),left:n.left+(e.pageXOffset||r.documentElement.scrollLeft)-(r.documentElement.clientLeft||0)}},t.setOffset=function(e,n,r){var i,o,a,s,l,u,c,d=t.css(e,"position"),p=angular.element(e),f={};"static"===d&&(e.style.position="relative"),l=t.offset(e),a=t.css(e,"top"),u=t.css(e,"left"),c=("absolute"===d||"fixed"===d)&&(a+u).indexOf("auto")>-1,c?(i=t.position(e),s=i.top,o=i.left):(s=parseFloat(a)||0,o=parseFloat(u)||0),angular.isFunction(n)&&(n=n.call(e,r,l)),null!==n.top&&(f.top=n.top-l.top+s),null!==n.left&&(f.left=n.left-l.left+o),"using"in n?n.using.call(p,f):p.css({top:f.top+"px",left:f.left+"px"})},t.position=function(e){var i,o,a={top:0,left:0};return"fixed"===t.css(e,"position")?o=e.getBoundingClientRect():(i=r(e),o=t.offset(e),n(i,"html")||(a=t.offset(i)),a.top+=t.css(i,"borderTopWidth",!0),a.left+=t.css(i,"borderLeftWidth",!0)),{width:e.offsetWidth,height:e.offsetHeight,top:o.top-a.top-t.css(e,"marginTop",!0),left:o.left-a.left-t.css(e,"marginLeft",!0)}};var r=function(e){var r=e.ownerDocument,i=e.offsetParent||r;if(n(i,"#document"))return r.documentElement;for(;i&&!n(i,"html")&&"static"===t.css(i,"position");)i=i.offsetParent;return i||r.documentElement};return t.height=function(e,n){var r=e.offsetHeight;return n?r+=t.css(e,"marginTop",!0)+t.css(e,"marginBottom",!0):r-=t.css(e,"paddingTop",!0)+t.css(e,"paddingBottom",!0)+t.css(e,"borderTopWidth",!0)+t.css(e,"borderBottomWidth",!0),r
},t.width=function(e,n){var r=e.offsetWidth;return n?r+=t.css(e,"marginLeft",!0)+t.css(e,"marginRight",!0):r-=t.css(e,"paddingLeft",!0)+t.css(e,"paddingRight",!0)+t.css(e,"borderLeftWidth",!0)+t.css(e,"borderRightWidth",!0),r},t}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function r(r,i){function o(e,t){return e.map(function(e,n){var r,i,o={};return o[c]=e,r=u(t,o),i=f(t,o),{label:r,value:i,index:n}})}var a={},s=angular.extend({},e,i);a.$values=[];var l,u,c,d,p,f,h;return a.init=function(){a.$match=l=r.match(s.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],d=l[5],p=t(l[3]||""),f=t(l[2]?l[1]:c),h=t(l[7])},a.valuesFn=function(e,t){return n.when(h(e,t)).then(function(t){return a.$values=t?o(t,e):{},a.$values})},a.displayValue=function(e){var t={};return t[c]=e,u(t)},a.init(),a}return r}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var e=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(n,r,i,o,a,s,l,u,c){function d(t){function n(){$.$emit(d.prefixEvent+".show",u)}function o(){$.$emit(d.prefixEvent+".hide",u),y.removeClass(d.prefixClass+"-open"),d.animation&&y.removeClass(d.prefixClass+"-with-"+d.animation)}function a(e){e.target===e.currentTarget&&("static"===d.backdrop?u.focus():u.hide())}function s(e){e.preventDefault()}var u={},d=u.$options=angular.extend({},e,t);u.$promise=h(d.template);var $=u.$scope=d.scope&&d.scope.$new()||r.$new();d.element||d.container||(d.container="body"),u.$id=d.id||d.element&&d.element.attr("id")||"",m(["title","content"],function(e){d[e]&&($[e]=c.trustAsHtml(d[e]))}),$.$hide=function(){$.$$postDigest(function(){u.hide()})},$.$show=function(){$.$$postDigest(function(){u.show()})},$.$toggle=function(){$.$$postDigest(function(){u.toggle()})},u.$isShown=$.$isShown=!1,d.contentTemplate&&(u.$promise=u.$promise.then(function(e){var n=angular.element(e);return h(d.contentTemplate).then(function(e){var r=f('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(e);return t.template||r.next().remove(),n[0].outerHTML})}));var w,E,_=angular.element('<div class="'+d.prefixClass+'-backdrop"/>');return _.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px","z-index":1038}),u.$promise.then(function(e){angular.isObject(e)&&(e=e.data),d.html&&(e=e.replace(b,'ng-bind-html="')),e=g.apply(e),w=i(e),u.init()}),u.init=function(){d.show&&$.$$postDigest(function(){u.show()})},u.destroy=function(){E&&(E.remove(),E=null),_&&(_.remove(),_=null),$.$destroy()},u.show=function(){if(!u.$isShown){var e,t;if(angular.isElement(d.container)?(e=d.container,t=d.container[0].lastChild?angular.element(d.container[0].lastChild):null):d.container?(e=f(d.container),t=e[0].lastChild?angular.element(e[0].lastChild):null):(e=null,t=d.element),E=u.$element=w($,function(){}),!$.$emit(d.prefixEvent+".show.before",u).defaultPrevented){E.css({display:"block"}).addClass(d.placement),d.animation&&(d.backdrop&&_.addClass(d.backdropAnimation),E.addClass(d.animation)),d.backdrop&&l.enter(_,y,null);var r=l.enter(E,e,t,n);r&&r.then&&r.then(n),u.$isShown=$.$isShown=!0,p($);var i=E[0];v(function(){i.focus()}),y.addClass(d.prefixClass+"-open"),d.animation&&y.addClass(d.prefixClass+"-with-"+d.animation),d.backdrop&&(E.on("click",a),_.on("click",a),_.on("wheel",s)),d.keyboard&&E.on("keyup",u.$onKeyUp)}}},u.hide=function(){if(u.$isShown&&!$.$emit(d.prefixEvent+".hide.before",u).defaultPrevented){var e=l.leave(E,o);e&&e.then&&e.then(o),d.backdrop&&l.leave(_),u.$isShown=$.$isShown=!1,p($),d.backdrop&&(E.off("click",a),_.off("click",a),_.off("wheel",s)),d.keyboard&&E.off("keyup",u.$onKeyUp)}},u.toggle=function(){u.$isShown?u.hide():u.show()},u.focus=function(){E[0].focus()},u.$onKeyUp=function(e){27===e.which&&u.$isShown&&(u.hide(),e.stopPropagation())},u}function p(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function f(e,n){return angular.element((n||t).querySelectorAll(e))}function h(e){return $[e]?$[e]:$[e]=s.get(e,{cache:a}).then(function(e){return e.data})}var m=angular.forEach,g=String.prototype.trim,v=n.requestAnimationFrame||n.setTimeout,y=angular.element(n.document.body),b=/ng-bind="/gi,$={};return d}]}).directive("bsModal",["$window","$sce","$modal",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,r,i){var o={scope:e,element:r,show:!1};angular.forEach(["template","contentTemplate","placement","container","animation","id"],function(e){angular.isDefined(i[e])&&(o[e]=i[e])});var a=/^(false|0|)$/;angular.forEach(["keyboard","html"],function(e){angular.isDefined(i[e])&&(o[e]=!a.test(i[e]))}),angular.isDefined(i.backdrop)&&(o.backdrop=a.test(i.backdrop)?!1:i.backdrop),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(r){e[n]=t.trustAsHtml(r)})}),i.bsModal&&e.$watch(i.bsModal,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var s=n(o);r.on(i.trigger||"click",s.toggle),e.$on("$destroy",function(){s&&s.destroy(),o=null,s=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var e=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:e}}}).directive("bsNavbar",["$window","$location","$navbar",function(e,t,n){var r=n.defaults;return{restrict:"A",link:function(e,n,i){var o=angular.copy(r);angular.forEach(Object.keys(r),function(e){angular.isDefined(i[e])&&(o[e]=i[e])}),e.$watch(function(){return t.path()},function(e){var t=n[0].querySelectorAll("li["+o.routeAttr+"]");angular.forEach(t,function(t){var n=angular.element(t),r=n.attr(o.routeAttr).replace("/","\\/");o.strict&&(r="^"+r+"$");var i=new RegExp(r,"i");i.test(e)?n.addClass(o.activeClass):n.removeClass(o.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){function n(n,r){var i=angular.extend({},e,r),o=t(n,i);return i.content&&(o.$scope.content=i.content),o}return n}]}).directive("bsPopover",["$window","$sce","$popover",function(e,t,n){var r=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,i,o){var a={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose","id"],function(e){angular.isDefined(o[e])&&(a[e]=o[e])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(i,o){e[n]=t.trustAsHtml(i),angular.isDefined(o)&&r(function(){s&&s.$applyPlacement()})})}),o.bsPopover&&e.$watch(o.bsPopover,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(n)&&r(function(){s&&s.$applyPlacement()})},!0),o.bsShow&&e.$watch(o.bsShow,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?s.show():s.hide())}),o.viewport&&e.$watch(o.viewport,function(e){s&&angular.isDefined(e)&&s.setViewport(e)});var s=n(i,a);e.$on("$destroy",function(){s&&s.destroy(),a=null,s=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(r,i,o,a,s,l){function u(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}function c(i){var c=angular.extend({},n,i);c.element||(c.element=f);var h=u(c.element,"body"),m=h?d:c.element,g=h?"window":c.id;if(e[g])return e[g].$$count++,e[g];var v,y,b,$,w,E,_,x,C={},k=C.$trackedElements=[],T=[];return C.init=function(){this.$$count=1,$=s(this.checkPosition,c.debounce),w=l(this.checkPosition,c.throttle),m.on("click",this.checkPositionWithEventLoop),d.on("resize",$),m.on("scroll",w),E=s(this.checkOffsets,c.debounce),v=o.$on("$viewContentLoaded",E),y=o.$on("$includeContentLoaded",E),E(),g&&(e[g]=C)},C.destroy=function(){this.$$count--,this.$$count>0||(m.off("click",this.checkPositionWithEventLoop),d.off("resize",$),m.off("scroll",w),v(),y(),g&&delete e[g])},C.checkPosition=function(){if(T.length){if(x=(h?r.pageYOffset:m.prop("scrollTop"))||0,_=Math.max(r.innerHeight,p.prop("clientHeight")),x<T[0].offsetTop&&b!==T[0].target)return C.$activateElement(T[0]);for(var e=T.length;e--;)if(!angular.isUndefined(T[e].offsetTop)&&null!==T[e].offsetTop&&b!==T[e].target&&!(x<T[e].offsetTop||T[e+1]&&x>T[e+1].offsetTop))return C.$activateElement(T[e])}},C.checkPositionWithEventLoop=function(){setTimeout(C.checkPosition,1)},C.$activateElement=function(e){if(b){var t=C.$getTrackedElement(b);t&&(t.source.removeClass("active"),u(t.source,"li")&&u(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}b=e.target,e.source.addClass("active"),u(e.source,"li")&&u(e.source.parent().parent(),"li")&&e.source.parent().parent().addClass("active")},C.$getTrackedElement=function(e){return k.filter(function(t){return t.target===e})[0]},C.checkOffsets=function(){angular.forEach(k,function(e){var n=t.querySelector(e.target);e.offsetTop=n?a.offset(n).top:null,c.offset&&null!==e.offsetTop&&(e.offsetTop-=1*c.offset)}),T=k.filter(function(e){return null!==e.offsetTop}).sort(function(e,t){return e.offsetTop-t.offsetTop}),$()},C.trackElement=function(e,t){k.push({target:e,source:t})},C.untrackElement=function(e,t){for(var n,r=k.length;r--;)if(k[r].target===e&&k[r].source===t){n=r;break}k=k.splice(n,1)},C.activate=function(e){k[e].addClass("active")},C.init(),C}var d=angular.element(r),p=angular.element(i.prop("documentElement")),f=angular.element(r.document.body);return c}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,r){return{restrict:"EAC",link:function(e,t,n){var i={scope:e};angular.forEach(["offset","target"],function(e){angular.isDefined(n[e])&&(i[e]=n[e])});var o=r(i);o.trackElement(i.target,t),e.$on("$destroy",function(){o&&(o.untrackElement(i.target,t),o.destroy()),i=null,o=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(e){var t=e[0].querySelectorAll("li > a[href]");angular.forEach(t,function(e){var t=angular.element(e);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var e=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(t,n,r,i,o){function a(t,n,r){var a={},s=angular.extend({},e,r);s.sort=s.sort.toString().match(/true|1/i),a=i(t,s);var u=a.$scope;u.$matches=[],u.$activeIndex=-1,u.$isMultiple=s.multiple,u.$showAllNoneButtons=s.allNoneButtons&&s.multiple,u.$iconCheckmark=s.iconCheckmark,u.$allText=s.allText,u.$noneText=s.noneText,u.$activate=function(e){u.$$postDigest(function(){a.activate(e)})},u.$select=function(e){u.$$postDigest(function(){a.select(e)})},u.$isVisible=function(){return a.$isVisible()},u.$isActive=function(e){return a.$isActive(e)},u.$selectAll=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)||u.$select(e)},u.$selectNone=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)&&u.$select(e)},a.update=function(e){u.$matches=e,a.$updateActiveIndex()},a.activate=function(e){return s.multiple?(a.$isActive(e)?u.$activeIndex.splice(u.$activeIndex.indexOf(e),1):u.$activeIndex.push(e),s.sort&&u.$activeIndex.sort()):u.$activeIndex=e,u.$activeIndex},a.select=function(e){var t=u.$matches[e].value;u.$apply(function(){a.activate(e),s.multiple?n.$setViewValue(u.$activeIndex.map(function(e){return u.$matches[e].value})):(n.$setViewValue(t),a.hide())}),u.$emit(s.prefixEvent+".select",t,e,a)},a.$updateActiveIndex=function(){n.$modelValue&&u.$matches.length?u.$activeIndex=s.multiple&&angular.isArray(n.$modelValue)?n.$modelValue.map(function(e){return a.$getIndex(e)}):a.$getIndex(n.$modelValue):u.$activeIndex>=u.$matches.length&&(u.$activeIndex=s.multiple?[]:0)},a.$isVisible=function(){return s.minLength&&n?u.$matches.length&&n.$viewValue.length>=s.minLength:u.$matches.length},a.$isActive=function(e){return s.multiple?-1!==u.$activeIndex.indexOf(e):u.$activeIndex===e},a.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},a.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),l){var t=angular.element(e.target);t.triggerHandler("click")}},a.$onKeyDown=function(e){return/(9|13|38|40)/.test(e.keyCode)?(e.preventDefault(),e.stopPropagation(),s.multiple&&9===e.keyCode?a.hide():s.multiple||13!==e.keyCode&&9!==e.keyCode?void(s.multiple||(38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:38===e.keyCode&&u.$activeIndex<0?u.$activeIndex=u.$matches.length-1:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest())):a.select(u.$activeIndex)):void 0};var c=a.show;a.show=function(){c(),s.multiple&&a.$element.addClass("select-multiple"),o(function(){a.$element.on(l?"touchstart":"mousedown",a.$onMouseDown),s.keyboard&&t.on("keydown",a.$onKeyDown)},0,!1)};var d=a.hide;return a.hide=function(){s.multiple||n.$modelValue||(u.$activeIndex=-1),a.$element.off(l?"touchstart":"mousedown",a.$onMouseDown),s.keyboard&&t.off("keydown",a.$onKeyDown),d(!0)},a}var s=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),l="createTouch"in t.document&&s;return a.defaults=e,a}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(e,t,n,r,i){var o=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){var s={scope:e,placeholder:o.placeholder};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml"],function(e){angular.isDefined(n[e])&&(s[e]=n[e])}),"select"===t[0].nodeName.toLowerCase()){var l=t;l.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"></button>'),l.after(t)}var u=i(n.bsOptions),c=r(t,a,s),d=u.$match[7].replace(/\|.+/,"").trim();e.$watch(d,function(){u.valuesFn(e,a).then(function(e){c.update(e),a.$render()})},!0),e.$watch(n.ngModel,function(){c.$updateActiveIndex(),a.$render()},!0),a.$render=function(){var e,n;s.multiple&&angular.isArray(a.$modelValue)?(e=a.$modelValue.map(function(e){return n=c.$getIndex(e),angular.isDefined(n)?c.$scope.$matches[n].label:!1}).filter(angular.isDefined),e=e.length>(s.maxLength||o.maxLength)?e.length+" "+(s.maxLengthHtml||o.maxLengthHtml):e.join(", ")):(n=c.$getIndex(a.$modelValue),e=angular.isDefined(n)?c.$scope.$matches[n].label:!1),t.html((e?e:s.placeholder)+(s.caretHtml?s.caretHtml:o.caretHtml))},s.multiple&&(a.$isEmpty=function(e){return!e||0===e.length}),e.$on("$destroy",function(){c&&c.destroy(),s=null,c=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var e=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,n,r){var i=this;i.$options=angular.copy(e),angular.forEach(["animation","navClass","activeClass"],function(e){angular.isDefined(r[e])&&(i.$options[e]=r[e])}),t.$navClass=i.$options.navClass,t.$activeClass=i.$options.activeClass,i.$panes=t.$panes=[],i.$activePaneChangeListeners=i.$viewChangeListeners=[],i.$push=function(e){i.$panes.push(e)},i.$remove=function(e){var t=i.$panes.indexOf(e),n=i.$panes.$active;i.$panes.splice(t,1),n>t?n--:t===n&&n===i.$panes.length&&n--,i.$setActive(n)},i.$panes.$active=0,i.$setActive=t.$setActive=function(e){i.$panes.$active=e,i.$activePaneChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(e,t,n,r){var i=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(e,t){return t.template||i.template},link:function(e,t,n,i){var o=i[0],a=i[1];if(o&&(console.warn("Usage of ngModel is deprecated, please use bsActivePane instead!"),a.$activePaneChangeListeners.push(function(){o.$setViewValue(a.$panes.$active)}),o.$formatters.push(function(e){return a.$setActive(1*e),e})),n.bsActivePane){var s=r(n.bsActivePane);a.$activePaneChangeListeners.push(function(){s.assign(e,a.$panes.$active)}),e.$watch(n.bsActivePane,function(e){a.$setActive(1*e)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(e,t,n){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(e,r,i,o){function a(){var n=s.$panes.indexOf(e),i=s.$panes.$active;t[n===i?"addClass":"removeClass"](r,s.$options.activeClass)}var s=(o[0],o[1]);r.addClass("tab-pane"),i.$observe("title",function(t){e.title=n.trustAsHtml(t)}),s.$options.animation&&r.addClass(s.$options.animation),i.$observe("disabled",function(t){e.disabled=e.$eval(t)}),s.$push(e),e.$on("$destroy",function(){s.$remove(e)}),s.$activePaneChangeListeners.push(function(){a()}),a()}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:+1/0,length:5,hourStep:1,minuteStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,n,r,i,o,a,s){function l(t,n,r){function i(e){var t=6e4*h.minuteStep;return new Date(Math.floor(e.getTime()/t)*t)}function l(e,n){if(t[0].createTextRange){var r=t[0].createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",n),r.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,n):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=n)}function d(){t[0].focus()}var p=a(t,angular.extend({},e,r)),f=r.scope,h=p.$options,m=p.$scope,g=h.lang,v=function(e,t,n){return o.formatDate(e,t,g,n)},y=0,b=h.roundDisplay?i(new Date):new Date,$=n.$dateValue||b,w={hour:$.getHours(),meridian:$.getHours()<12,minute:$.getMinutes(),second:$.getSeconds(),millisecond:$.getMilliseconds()},E=o.getDatetimeFormat(h.timeFormat,g),_=o.hoursFormat(E),x=o.timeSeparator(E),C=o.minutesFormat(E),k=o.showAM(E);m.$iconUp=h.iconUp,m.$iconDown=h.iconDown,m.$select=function(e,t){p.select(e,t)},m.$moveIndex=function(e,t){p.$moveIndex(e,t)},m.$switchMeridian=function(e){p.switchMeridian(e)},p.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(p.$date=e,angular.extend(w,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),p.$build()):p.$isBuilt||p.$build()},p.select=function(e,t,r){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?n.$dateValue.setHours(e.getHours()):1===t&&n.$dateValue.setMinutes(e.getMinutes()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),h.autoclose&&!r&&s(function(){p.hide(!0)})},p.switchMeridian=function(e){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var t=(e||n.$dateValue).getHours();n.$dateValue.setHours(12>t?t+12:t-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},p.$build=function(){var e,t,n=m.midIndex=parseInt(h.length/2,10),r=[];for(e=0;e<h.length;e++)t=new Date(1970,0,1,w.hour-(n-e)*h.hourStep),r.push({date:t,label:v(t,_),selected:p.$date&&p.$isSelected(t,0),disabled:p.$isDisabled(t,0)});var i,o=[];for(e=0;e<h.length;e++)i=new Date(1970,0,1,0,w.minute-(n-e)*h.minuteStep),o.push({date:i,label:v(i,C),selected:p.$date&&p.$isSelected(i,1),disabled:p.$isDisabled(i,1)});var a=[];for(e=0;e<h.length;e++)a.push([r[e],o[e]]);m.rows=a,m.showAM=k,m.isAM=(p.$date||r[n].date).getHours()<12,m.timeSeparator=x,p.$isBuilt=!0},p.$isSelected=function(e,t){return p.$date?0===t?e.getHours()===p.$date.getHours():1===t?e.getMinutes()===p.$date.getMinutes():void 0:!1},p.$isDisabled=function(e,t){var n;return 0===t?n=e.getTime()+6e4*w.minute:1===t&&(n=e.getTime()+36e5*w.hour),n<1*h.minTime||n>1*h.maxTime},m.$arrowAction=function(e,t){"picker"===h.arrowBehavior?p.$setTimeByStep(e,t):p.$moveIndex(e,t)},p.$setTimeByStep=function(e,t){{var n=new Date(p.$date),r=n.getHours(),i=(v(n,_).length,n.getMinutes());v(n,C).length}0===t?n.setHours(r-parseInt(h.hourStep,10)*e):n.setMinutes(i-parseInt(h.minuteStep,10)*e),p.select(n,t,!0)},p.$moveIndex=function(e,t){var n;0===t?(n=new Date(1970,0,1,w.hour+e*h.length,w.minute),angular.extend(w,{hour:n.getHours()})):1===t&&(n=new Date(1970,0,1,w.hour,w.minute+e*h.length*h.minuteStep),angular.extend(w,{minute:n.getMinutes()})),p.$build()},p.$onMouseDown=function(e){if("input"!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),c){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},p.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return p.hide(!0);var t=new Date(p.$date),n=t.getHours(),r=v(t,_).length,i=t.getMinutes(),o=v(t,C).length,a=/(37|39)/.test(e.keyCode),s=2+1*k;a&&(37===e.keyCode?y=1>y?s-1:y-1:39===e.keyCode&&(y=s-1>y?y+1:0));var u=[0,r];0===y?(38===e.keyCode?t.setHours(n-parseInt(h.hourStep,10)):40===e.keyCode&&t.setHours(n+parseInt(h.hourStep,10)),r=v(t,_).length,u=[0,r]):1===y?(38===e.keyCode?t.setMinutes(i-parseInt(h.minuteStep,10)):40===e.keyCode&&t.setMinutes(i+parseInt(h.minuteStep,10)),o=v(t,C).length,u=[r+1,r+1+o]):2===y&&(a||p.switchMeridian(),u=[r+1+o+1,r+1+o+3]),p.select(t,y,!0),l(u[0],u[1]),f.$digest()}};var T=p.init;p.init=function(){return u&&h.useNative?(t.prop("type","time"),void t.css("-webkit-appearance","textfield")):(c&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",d)),void T())};var S=p.destroy;p.destroy=function(){u&&h.useNative&&t.off("click",d),S()};var M=p.show;p.show=function(){M(),s(function(){p.$element.on(c?"touchstart":"mousedown",p.$onMouseDown),h.keyboard&&t.on("keydown",p.$onKeyDown)},0,!1)};var A=p.hide;return p.hide=function(e){p.$isShown&&(p.$element.off(c?"touchstart":"mousedown",p.$onMouseDown),h.keyboard&&t.off("keydown",p.$onKeyDown),A(e))},p}var u=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),c="createTouch"in t.document&&u;return e.lang||(e.lang=o.getDefaultLocale()),l.defaults=e,l}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(e,t,n,r,i,o){{var a=o.defaults,s=/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent);e.requestAnimationFrame||e.setTimeout}return{restrict:"EAC",require:"ngModel",link:function(e,t,n,l){function u(e){if(angular.isDate(e)){var t=isNaN(d.minTime)||new Date(e.getTime()).setFullYear(1970,0,1)>=d.minTime,n=isNaN(d.maxTime)||new Date(e.getTime()).setFullYear(1970,0,1)<=d.maxTime,r=t&&n;l.$setValidity("date",r),l.$setValidity("min",t),l.$setValidity("max",n),r&&(l.$dateValue=e)}}function c(){return!l.$dateValue||isNaN(l.$dateValue.getTime())?"":m(l.$dateValue,d.timeFormat)}var d={scope:e,controller:l};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown","id"],function(e){angular.isDefined(n[e])&&(d[e]=n[e])});var p=/^(false|0|)$/;angular.forEach(["roundDisplay"],function(e){angular.isDefined(n[e])&&(d[e]=!p.test(n[e]))}),n.bsShow&&e.$watch(n.bsShow,function(e){f&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i)),e===!0?f.show():f.hide())}),s&&(d.useNative||a.useNative)&&(d.timeFormat="HH:mm");var f=o(t,l,d);d=f.$options;var h=d.lang,m=function(e,t,n){return r.formatDate(e,t,h,n)},g=i({format:d.timeFormat,lang:h});angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){f.$options[e]=g.getTimeForAttribute(e,t),!isNaN(f.$options[e])&&f.$build(),u(l.$dateValue)})}),e.$watch(n.ngModel,function(){f.update(l.$dateValue)},!0),l.$parsers.unshift(function(e){var t;if(!e)return l.$setValidity("date",!0),null;var n=angular.isDate(e)?e:g.parse(e,l.$dateValue);return!n||isNaN(n.getTime())?void l.$setValidity("date",!1):(u(n),"string"===d.timeType?(t=g.timezoneOffsetAdjust(n,d.timezone,!0),m(t,d.modelTimeFormat||d.timeFormat)):(t=g.timezoneOffsetAdjust(l.$dateValue,d.timezone,!0),"number"===d.timeType?t.getTime():"unix"===d.timeType?t.getTime()/1e3:"iso"===d.timeType?t.toISOString():new Date(t)))}),l.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===d.timeType?g.parse(e,null,d.modelTimeFormat):new Date("unix"===d.timeType?1e3*e:e),l.$dateValue=g.timezoneOffsetAdjust(t,d.timezone),c()}),l.$render=function(){t.val(c())},e.$on("$destroy",function(){f&&f.destroy(),d=null,f=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,autoSelect:!1,comparator:""};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,r,i){function o(t,n,o){var a={},s=angular.extend({},e,o);a=r(t,s);var l=o.scope,u=a.$scope;u.$resetMatches=function(){u.$matches=[],u.$activeIndex=s.autoSelect?0:-1},u.$resetMatches(),u.$activate=function(e){u.$$postDigest(function(){a.activate(e)})},u.$select=function(e){u.$$postDigest(function(){a.select(e)})},u.$isVisible=function(){return a.$isVisible()},a.update=function(e){u.$matches=e,u.$activeIndex>=e.length&&(u.$activeIndex=s.autoSelect?0:-1),/^(bottom|bottom-left|bottom-right)$/.test(s.placement)||i(a.$applyPlacement)},a.activate=function(e){u.$activeIndex=e},a.select=function(e){var t=u.$matches[e].value;n.$setViewValue(t),n.$render(),u.$resetMatches(),l&&l.$digest(),u.$emit(s.prefixEvent+".select",t,e,a)},a.$isVisible=function(){return s.minLength&&n?u.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=s.minLength:!!u.$matches.length},a.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},a.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},a.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(a.$isVisible()&&(e.preventDefault(),e.stopPropagation()),13===e.keyCode&&u.$matches.length?a.select(u.$activeIndex):38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest())};var c=a.show;a.show=function(){c(),i(function(){a.$element.on("mousedown",a.$onMouseDown),s.keyboard&&t.on("keydown",a.$onKeyDown)},0,!1)};var d=a.hide;return a.hide=function(){a.$element.off("mousedown",a.$onMouseDown),s.keyboard&&t.off("keydown",a.$onKeyDown),s.autoSelect||a.activate(-1),d()},a}angular.element(t.document.body);return o.defaults=e,o}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(e,t,r,i,o){var a=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,r,s){var l={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id"],function(e){angular.isDefined(r[e])&&(l[e]=r[e])}),t.attr("autocomplete","off");var u=l.filter||a.filter,c=l.limit||a.limit,d=l.comparator||a.comparator,p=r.bsOptions;u&&(p+=" | "+u+":$viewValue"),d&&(p+=":"+d),c&&(p+=" | limitTo:"+c);var f=o(p),h=i(t,s,l);if(l.watchOptions){var m=f.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();e.$watch(m,function(){f.valuesFn(e,s).then(function(e){h.update(e),s.$render()})},!0)}e.$watch(r.ngModel,function(t){e.$modelValue=t,f.valuesFn(e,s).then(function(e){if(l.selectMode&&!e.length&&t.length>0)return void s.$setViewValue(s.$viewValue.substring(0,s.$viewValue.length-1));e.length>c&&(e=e.slice(0,c));var n=h.$isVisible();n&&h.update(e),(1!==e.length||e[0].value!==t)&&(!n&&h.update(e),s.$render())})}),s.$formatters.push(function(e){var t=f.displayValue(e);return t===n?"":t}),s.$render=function(){if(s.$isEmpty(s.$viewValue))return t.val("");var e=h.$getIndex(s.$modelValue),n=angular.isDefined(e)?h.$scope.$matches[e].label:s.$viewValue;n=angular.isObject(n)?f.displayValue(n):n,t.val(n?n.toString().replace(/<(?:.|\n)*?>/gm,"").trim():"")},e.$on("$destroy",function(){h&&h.destroy(),l=null,h=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(n,r,i,o,a,s,l,u,c,d,p){function f(o,a){function s(){L.$emit(R.prefixEvent+".show",I)}function f(){if(L.$emit(R.prefixEvent+".hide",I),W===z){if(V&&"focus"===R.trigger)return o[0].blur();D()}}function w(){var e=R.trigger.split(" ");angular.forEach(e,function(e){"click"===e?o.on("click",I.toggle):"manual"!==e&&(o.on("hover"===e?"mouseenter":"focus",I.enter),o.on("hover"===e?"mouseleave":"blur",I.leave),"button"===P&&"hover"!==e&&o.on(y?"touchstart":"mousedown",I.$onFocusElementMouseDown))
})}function E(){for(var e=R.trigger.split(" "),t=e.length;t--;){var n=e[t];"click"===n?o.off("click",I.toggle):"manual"!==n&&(o.off("hover"===n?"mouseenter":"focus",I.enter),o.off("hover"===n?"mouseleave":"blur",I.leave),"button"===P&&"hover"!==n&&o.off(y?"touchstart":"mousedown",I.$onFocusElementMouseDown))}}function _(){"focus"!==R.trigger?W.on("keyup",I.$onKeyUp):o.on("keyup",I.$onFocusKeyUp)}function x(){"focus"!==R.trigger?W.off("keyup",I.$onKeyUp):o.off("keyup",I.$onFocusKeyUp)}function C(){p(function(){W.on("click",T),$.on("click",I.hide),K=!0},0,!1)}function k(){K&&(W.off("click",T),$.off("click",I.hide),K=!1)}function T(e){e.stopPropagation()}function S(e){e=e||R.target||o;var r=e[0],i="BODY"===r.tagName,a=r.getBoundingClientRect(),s={};for(var l in a)s[l]=a[l];null===s.width&&(s=angular.extend({},s,{width:a.right-a.left,height:a.bottom-a.top}));var u=i?{top:0,left:0}:c.offset(r),d={scroll:i?t.documentElement.scrollTop||t.body.scrollTop:e.prop("scrollTop")||0},p=i?{width:t.documentElement.clientWidth,height:n.innerHeight}:null;return angular.extend({},s,d,p,u)}function M(e,t,n,r){var i,o=e.split("-");switch(o[0]){case"right":i={top:t.top+t.height/2-r/2,left:t.left+t.width};break;case"bottom":i={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":i={top:t.top+t.height/2-r/2,left:t.left-n};break;default:i={top:t.top-r,left:t.left+t.width/2-n/2}}if(!o[1])return i;if("top"===o[0]||"bottom"===o[0])switch(o[1]){case"left":i.left=t.left;break;case"right":i.left=t.left+t.width-n}else if("left"===o[0]||"right"===o[0])switch(o[1]){case"top":i.top=t.top-r;break;case"bottom":i.top=t.top+t.height}return i}function A(e,t){var n=W[0],r=n.offsetWidth,i=n.offsetHeight,o=parseInt(c.css(n,"margin-top"),10),a=parseInt(c.css(n,"margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top=e.top+o,e.left=e.left+a,c.setOffset(n,angular.extend({using:function(e){W.css({top:Math.round(e.top)+"px",left:Math.round(e.left)+"px"})}},e),0);var s=n.offsetWidth,l=n.offsetHeight;if("top"===t&&l!==i&&(e.top=e.top+i-l),!/top-left|top-right|bottom-left|bottom-right/.test(t)){var u=N(t,e,s,l);if(u.left?e.left+=u.left:e.top+=u.top,c.setOffset(n,e),/top|right|bottom|left/.test(t)){var d=/top|bottom/.test(t),p=d?2*u.left-r+s:2*u.top-i+l,f=d?"offsetWidth":"offsetHeight";O(p,n[f],d)}}}function N(e,t,n,r){var i={top:0,left:0},o=R.viewport&&m(R.viewport.selector||R.viewport);if(!o)return i;var a=R.viewport&&R.viewport.padding||0,s=S(o);if(/right|left/.test(e)){var l=t.top-a-s.scroll,u=t.top+a-s.scroll+r;l<s.top?i.top=s.top-l:u>s.top+s.height&&(i.top=s.top+s.height-u)}else{var c=t.left-a,d=t.left+a+n;c<s.left?i.left=s.left-c:d>s.width&&(i.left=s.left+s.width-d)}return i}function O(e,t,n){var r=m(".tooltip-arrow, .arrow",W[0]);r.css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")}function D(){clearTimeout(j),I.$isShown&&null!==W&&(R.autoClose&&k(),R.keyboard&&x()),G&&(G.$destroy(),G=null),W&&(W.remove(),W=I.$element=null)}var I={},P=o[0].nodeName.toLowerCase(),R=I.$options=angular.extend({},e,a);I.$promise=g(R.template);var L=I.$scope=R.scope&&R.scope.$new()||r.$new();if(R.delay&&angular.isString(R.delay)){var H=R.delay.split(",").map(parseFloat);R.delay=H.length>1?{show:H[0],hide:H[1]}:H[0]}I.$id=R.id||o.attr("id")||"",R.title&&(L.title=u.trustAsHtml(R.title)),L.$setEnabled=function(e){L.$$postDigest(function(){I.setEnabled(e)})},L.$hide=function(){L.$$postDigest(function(){I.hide()})},L.$show=function(){L.$$postDigest(function(){I.show()})},L.$toggle=function(){L.$$postDigest(function(){I.toggle()})},I.$isShown=L.$isShown=!1;var j,F;R.contentTemplate&&(I.$promise=I.$promise.then(function(e){var t=angular.element(e);return g(R.contentTemplate).then(function(e){var n=m('[ng-bind="content"]',t[0]);return n.length||(n=m('[ng-bind="title"]',t[0])),n.removeAttr("ng-bind").html(e),t[0].outerHTML})}));var B,W,q,U,G;I.$promise.then(function(e){angular.isObject(e)&&(e=e.data),R.html&&(e=e.replace(b,'ng-bind-html="')),e=v.apply(e),q=e,B=i(e),I.init()}),I.init=function(){R.delay&&angular.isNumber(R.delay)&&(R.delay={show:R.delay,hide:R.delay}),"self"===R.container?U=o:angular.isElement(R.container)?U=R.container:R.container&&(U=m(R.container)),w(),R.target&&(R.target=angular.isElement(R.target)?R.target:m(R.target)),R.show&&L.$$postDigest(function(){"focus"===R.trigger?o[0].focus():I.show()})},I.destroy=function(){E(),D(),L.$destroy()},I.enter=function(){return clearTimeout(j),F="in",R.delay&&R.delay.show?void(j=setTimeout(function(){"in"===F&&I.show()},R.delay.show)):I.show()},I.show=function(){if(R.bsEnabled&&!I.$isShown){L.$emit(R.prefixEvent+".show.before",I);var e,t;R.container?(e=U,t=U[0].lastChild?angular.element(U[0].lastChild):null):(e=null,t=o),W&&D(),G=I.$scope.$new(),W=I.$element=B(G,function(){}),W.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}),R.animation&&W.addClass(R.animation),R.type&&W.addClass(R.prefixClass+"-"+R.type),R.customClass&&W.addClass(R.customClass),t?t.after(W):e.prepend(W),I.$isShown=L.$isShown=!0,h(L),I.$applyPlacement();var n=l.enter(W,e,t,s);n&&n.then&&n.then(s),h(L),d(function(){W&&W.css({visibility:"visible"})}),R.keyboard&&("focus"!==R.trigger&&I.focus(),_()),R.autoClose&&C()}},I.leave=function(){return clearTimeout(j),F="out",R.delay&&R.delay.hide?void(j=setTimeout(function(){"out"===F&&I.hide()},R.delay.hide)):I.hide()};var V,z;I.hide=function(e){if(I.$isShown){L.$emit(R.prefixEvent+".hide.before",I),V=e,z=W;var t=l.leave(W,f);t&&t.then&&t.then(f),I.$isShown=L.$isShown=!1,h(L),R.keyboard&&null!==W&&x(),R.autoClose&&null!==W&&k()}},I.toggle=function(){I.$isShown?I.leave():I.enter()},I.focus=function(){W[0].focus()},I.setEnabled=function(e){R.bsEnabled=e},I.setViewport=function(e){R.viewport=e},I.$applyPlacement=function(){if(W){var t=R.placement,n=/\s?auto?\s?/i,r=n.test(t);r&&(t=t.replace(n,"")||e.placement),W.addClass(R.placement);var i=S(),a=W.prop("offsetWidth"),s=W.prop("offsetHeight");if(r){var l=t,u=R.container?m(R.container):o.parent(),c=S(u);l.indexOf("bottom")>=0&&i.bottom+s>c.bottom?t=l.replace("bottom","top"):l.indexOf("top")>=0&&i.top-s<c.top&&(t=l.replace("top","bottom")),("right"===l||"bottom-left"===l||"top-left"===l)&&i.right+a>c.width?t="right"===l?"left":t.replace("left","right"):("left"===l||"bottom-right"===l||"top-right"===l)&&i.left-a<c.left&&(t="left"===l?"right":t.replace("right","left")),W.removeClass(l).addClass(t)}var d=M(t,i,a,s);A(d,t)}},I.$onKeyUp=function(e){27===e.which&&I.$isShown&&(I.hide(),e.stopPropagation())},I.$onFocusKeyUp=function(e){27===e.which&&(o[0].blur(),e.stopPropagation())},I.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),I.$isShown?o[0].blur():o[0].focus()};var K=!1;return I}function h(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function m(e,n){return angular.element((n||t).querySelectorAll(e))}function g(e){return w[e]?w[e]:w[e]=s.get(e,{cache:a}).then(function(e){return e.data})}var v=String.prototype.trim,y="createTouch"in n.document,b=/ng-bind="/gi,$=angular.element(n.document),w={};return f}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,r,i){return{restrict:"EAC",scope:!0,link:function(e,t,o){var a={scope:e};angular.forEach(["template","contentTemplate","placement","container","delay","trigger","keyboard","html","animation","backdropAnimation","type","customClass","id"],function(e){angular.isDefined(o[e])&&(a[e]=o[e])}),t.attr("data-target")&&(a.target=t.attr("data-target")),e.hasOwnProperty("title")||(e.title=""),o.$observe("title",function(t){if(angular.isDefined(t)||!e.hasOwnProperty("title")){var r=e.title;e.title=n.trustAsHtml(t),angular.isDefined(r)&&i(function(){s&&s.$applyPlacement()})}}),o.bsTooltip&&e.$watch(o.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&i(function(){s&&s.$applyPlacement()})},!0),o.bsShow&&e.$watch(o.bsShow,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i)),e===!0?s.show():s.hide())}),o.bsEnabled&&e.$watch(o.bsEnabled,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i)),s.setEnabled(e===!1?!1:!0))}),o.viewport&&e.$watch(o.viewport,function(e){s&&angular.isDefined(e)&&s.setViewport(e)});var s=r(t,a);e.$on("$destroy",function(){s&&s.destroy(),a=null,s=null})}}}])}(window,document),/**
 * angular-strap
 * @version v2.2.1 - 2015-03-10
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(){"use strict";angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(e){e.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(e){e.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(e){e.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(e){e.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(e){e.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(e){e.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(e){e.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(e){e.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $index == $panes.$active ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(e){e.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(e){e.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(e){e.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}])}(window,document),function(){function e(e,t){if(e!==t){var n=e===e,r=t===t;if(e>t||!n||e===E&&r)return 1;if(t>e||!r||t===E&&n)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return f(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function r(e){return"function"==typeof e||!1}function i(e){return"string"==typeof e?e:null==e?"":e+""}function o(e){return e.charCodeAt(0)}function a(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function s(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function l(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function u(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,l=r.length;++i<s;){var u=e(o[i],a[i]);if(u)return i>=l?u:u*(r[i]?1:-1)}return t.index-n.index}function c(e){return Wt[e]}function d(e){return qt[e]}function p(e){return"\\"+Vt[e]}function f(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function h(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function g(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=B,o[++i]=n);return o}function v(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,a[++o]=s)}return a}function y(e){for(var t=-1,n=e.length;++t<n&&m(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function $(e){return Ut[e]}function w(m){function K(e){if(h(e)&&!kl(e)&&!(e instanceof Wt)){if(e instanceof et)return e;if(qa.call(e,"__chain__")&&qa.call(e,"__wrapped__"))return ai(e)}return new et(e)}function J(){}function et(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Wt(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Es,this.__views__=null}function qt(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new Wt(this.__wrapped__);return r.__actions__=e?nn(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?nn(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?nn(n):null,r}function Ut(){if(this.__filtered__){var e=new Wt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Gt(){var e=this.__wrapped__.value();if(!kl(e))return tr(e,this.__actions__);var t=this.__dir__,n=0>t,r=jr(0,e.length,this.__views__),i=r.start,o=r.end,a=o-i,s=n?o:i-1,l=gs(a,this.__takeCount__),u=this.__iteratees__,c=u?u.length:0,d=0,p=[];e:for(;a--&&l>d;){s+=t;for(var f=-1,h=e[s];++f<c;){var m=u[f],g=m.iteratee,v=m.type;if(v==L){if(m.done&&(n?s>m.index:s<m.index)&&(m.count=0,m.done=!1),m.index=s,!m.done){var y=m.limit;if(!(m.done=y>-1?m.count++>=y:!g(h)))continue e}}else{var b=g(h);if(v==j)h=b;else if(!b){if(v==H)continue e;break e}}}p[d++]=h}return p}function Vt(){this.__data__={}}function zt(e){return this.has(e)&&delete this.__data__[e]}function Kt(e){return"__proto__"==e?E:this.__data__[e]}function Yt(e){return"__proto__"!=e&&qa.call(this.__data__,e)}function Xt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Zt(e){var t=e?e.length:0;for(this.data={hash:ps(null),set:new is};t--;)this.push(e[t])}function Jt(e,t){var n=e.data,r="string"==typeof t||Co(t)?n.set.has(t):n.hash[t];return r?0:-1}function tn(e){var t=this.data;"string"==typeof e||Co(e)?t.set.add(e):t.hash[e]=!0}function nn(e,t){var n=-1,r=e.length;for(t||(t=Sa(r));++n<r;)t[n]=e[n];return t}function rn(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function on(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function an(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function sn(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ln(e,t){for(var n=-1,r=e.length,i=Sa(r);++n<r;)i[n]=t(e[n],n,e);return i}function un(e){for(var t=-1,n=e.length,r=ws;++t<n;){var i=e[t];i>r&&(r=i)}return r}function cn(e){for(var t=-1,n=e.length,r=Es;++t<n;){var i=e[t];r>i&&(r=i)}return r}function dn(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function pn(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function fn(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function hn(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function mn(e,t){return e===E?t:e}function gn(e,t,n,r){return e!==E&&qa.call(r,n)?e:t}function vn(e,t,n){var r=Hl(t);ts.apply(r,Ws(t));for(var i=-1,o=r.length;++i<o;){var a=r[i],s=e[a],l=n(s,t[a],a,e,t);(l===l?l===s:s!==s)&&(s!==E||a in e)||(e[a]=l)}return e}function yn(e,t){for(var n=-1,r=null==e,i=!r&&Ur(e),o=i&&e.length,a=t.length,s=Sa(a);++n<a;){var l=t[n];s[n]=i?Gr(l,o)?e[l]:E:r?E:e[l]}return s}function bn(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function $n(e,t,n){var r=typeof e;return"function"==r?t===E?e:ir(e,t,n):null==e?ma:"object"==r?Hn(e):t===E?wa(e):jn(e,t)}function wn(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==E)return s;if(!Co(e))return e;var l=kl(e);if(l){if(s=Fr(e),!t)return nn(e,s)}else{var u=Ga.call(e),c=u==z;if(u!=X&&u!=W&&(!c||i))return Ft[u]?Wr(e,u,t):i?e:{};if(s=Br(c?{}:e),!t)return Ns(s,e)}o||(o=[]),a||(a=[]);for(var d=o.length;d--;)if(o[d]==e)return a[d];return o.push(e),a.push(s),(l?rn:An)(e,function(r,i){s[i]=wn(r,t,n,i,e,o,a)}),s}function En(e,t,n){if("function"!=typeof e)throw new La(F);return os(function(){e.apply(E,n)},t)}function _n(e,t){var r=e?e.length:0,i=[];if(!r)return i;var o=-1,a=Hr(),s=a==n,l=s&&t.length>=200?Hs(t):null,u=t.length;l&&(a=Jt,s=!1,t=l);e:for(;++o<r;){var c=e[o];if(s&&c===c){for(var d=u;d--;)if(t[d]===c)continue e;i.push(c)}else a(t,c,0)<0&&i.push(c)}return i}function xn(e,t){var n=!0;return Ds(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Cn(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===E||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function kn(e,t){var n=[];return Ds(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Tn(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function Sn(e,t,n){for(var r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r];if(h(s)&&Ur(s)&&(n||kl(s)||yo(s))){t&&(s=Sn(s,t,n));for(var l=-1,u=s.length;++l<u;)a[++o]=s[l]}else n||(a[++o]=s)}return a}function Mn(e,t){return Ps(e,t,Wo)}function An(e,t){return Ps(e,t,Hl)}function Nn(e,t){return Rs(e,t,Hl)}function On(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Sl(e[a])&&(o[++i]=a)}return o}function Dn(e,t,n){if(null!=e){n!==E&&n in ii(e)&&(t=[n]);for(var r=-1,i=t.length;null!=e&&++r<i;)e=e[t[r]];return r&&r==i?e:E}}function In(e,t,n,r,i,o){if(e===t)return!0;var a=typeof e,s=typeof t;return"function"!=a&&"object"!=a&&"function"!=s&&"object"!=s||null==e||null==t?e!==e&&t!==t:Pn(e,t,In,n,r,i,o)}function Pn(e,t,n,r,i,o,a){var s=kl(e),l=kl(t),u=q,c=q;s||(u=Ga.call(e),u==W?u=X:u!=X&&(s=Do(e))),l||(c=Ga.call(t),c==W?c=X:c!=X&&(l=Do(t)));var d=u==X,p=c==X,f=u==c;if(f&&!s&&!d)return Ir(e,t,u);if(!i){var h=d&&qa.call(e,"__wrapped__"),m=p&&qa.call(t,"__wrapped__");if(h||m)return n(h?e.value():e,m?t.value():t,r,i,o,a)}if(!f)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==e)return a[g]==t;o.push(e),a.push(t);var v=(s?Dr:Pr)(e,t,n,r,i,o,a);return o.pop(),a.pop(),v}function Rn(e,t,n,r,i){for(var o=-1,a=t.length,s=!i;++o<a;)if(s&&r[o]?n[o]!==e[t[o]]:!(t[o]in e))return!1;for(o=-1;++o<a;){var l=t[o],u=e[l],c=n[o];if(s&&r[o])var d=u!==E||l in e;else d=i?i(u,c,l):E,d===E&&(d=In(c,u,i,!0));if(!d)return!1}return!0}function Ln(e,t){var n=-1,r=Ur(e)?Sa(e.length):[];return Ds(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Hn(e){var t=Hl(e),n=t.length;if(!n)return ha(!0);if(1==n){var r=t[0],i=e[r];if(Xr(i))return function(e){return null==e?!1:e[r]===i&&(i!==E||r in ii(e))}}for(var o=Sa(n),a=Sa(n);n--;)i=e[t[n]],o[n]=i,a[n]=Xr(i);return function(e){return null!=e&&Rn(ii(e),t,o,a)}}function jn(e,t){var n=kl(e),r=zr(e)&&Xr(t),i=e+"";return e=oi(e),function(o){if(null==o)return!1;var a=i;if(o=ii(o),!(!n&&r||a in o)){if(o=1==e.length?o:Dn(o,zn(e,0,-1)),null==o)return!1;a=$i(e),o=ii(o)}return o[a]===t?t!==E||a in o:In(t,o[a],null,!0)}}function Fn(e,t,n,r,i){if(!Co(e))return e;var o=Ur(t)&&(kl(t)||Do(t));if(!o){var a=Hl(t);ts.apply(a,Ws(t))}return rn(a||t,function(s,l){if(a&&(l=s,s=t[l]),h(s))r||(r=[]),i||(i=[]),Bn(e,t,l,Fn,n,r,i);else{var u=e[l],c=n?n(u,s,l,e,t):E,d=c===E;d&&(c=s),!o&&c===E||!d&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function Bn(e,t,n,r,i,o,a){for(var s=o.length,l=t[n];s--;)if(o[s]==l)return void(e[n]=a[s]);var u=e[n],c=i?i(u,l,n,e,t):E,d=c===E;d&&(c=l,Ur(l)&&(kl(l)||Do(l))?c=kl(u)?u:Ur(u)?nn(u):[]:Ml(l)||yo(l)?c=yo(u)?Ro(u):Ml(u)?u:{}:d=!1),o.push(l),a.push(c),d?e[n]=r(c,l,i,o,a):(c===c?c!==u:u===u)&&(e[n]=c)}function Wn(e){return function(t){return null==t?E:t[e]}}function qn(e){var t=e+"";return e=oi(e),function(n){return Dn(n,e,t)}}function Un(e,t){for(var n=e?t.length:0;n--;){var r=parseFloat(t[n]);if(r!=i&&Gr(r)){var i=r;as.call(e,r,1)}}return e}function Gn(e,t){return e+Ja($s()*(t-e+1))}function Vn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function zn(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===E||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Sa(i);++r<i;)o[r]=e[r+t];return o}function Kn(e,t){var n;return Ds(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Yn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Xn(e,t,n){var r=Lr(),i=-1;t=ln(t,function(e){return r(e)});var o=Ln(e,function(e){var n=ln(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Yn(o,function(e,t){return u(e,t,n)})}function Zn(e,t){var n=0;return Ds(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Jn(e,t){var r=-1,i=Hr(),o=e.length,a=i==n,s=a&&o>=200,l=s?Hs():null,u=[];l?(i=Jt,a=!1):(s=!1,l=t?[]:u);e:for(;++r<o;){var c=e[r],d=t?t(c,r,e):c;if(a&&c===c){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),u.push(c)}else i(l,d,0)<0&&((t||s)&&l.push(d),u.push(c))}return u}function Qn(e,t){for(var n=-1,r=t.length,i=Sa(r);++n<r;)i[n]=e[t[n]];return i}function er(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?zn(e,r?0:o,r?o+1:i):zn(e,r?o+1:0,r?i:o)}function tr(e,t){var n=e;n instanceof Wt&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=[n],a=t[r];ts.apply(o,a.args),n=a.func.apply(a.thisArg,o)}return n}function nr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Cs>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)?r=o+1:i=o}return i}return rr(e,t,ma,n)}function rr(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=t===E;o>i;){var l=Ja((i+o)/2),u=n(e[l]),c=u===u;if(a)var d=c||r;else d=s?c&&(r||u!==E):r?t>=u:t>u;d?i=l+1:o=l}return gs(o,xs)}function ir(e,t,n){if("function"!=typeof e)return ma;if(t===E)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function or(e){return Ya.call(e,0)}function ar(e,t,n){for(var r=n.length,i=-1,o=ms(e.length-r,0),a=-1,s=t.length,l=Sa(o+s);++a<s;)l[a]=t[a];for(;++i<r;)l[n[i]]=e[i];for(;o--;)l[a++]=e[i++];return l}function sr(e,t,n){for(var r=-1,i=n.length,o=-1,a=ms(e.length-i,0),s=-1,l=t.length,u=Sa(a+l);++o<a;)u[o]=e[o];for(var c=o;++s<l;)u[c+s]=t[s];for(;++r<i;)u[c+n[r]]=e[o++];return u}function lr(e,t){return function(n,r,i){var o=t?t():{};if(r=Lr(r,i,3),kl(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];e(o,l,r(l,a,n),n)}else Ds(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function ur(e){return po(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2&&n[i-2],a=i>2&&n[2],s=i>1&&n[i-1];for("function"==typeof o?(o=ir(o,s,5),i-=2):(o="function"==typeof s?s:null,i-=o?1:0),a&&Vr(n[0],n[1],a)&&(o=3>i?null:o,i=1);++r<i;){var l=n[r];l&&e(t,l,o)}return t})}function cr(e,t){return function(n,r){var i=n?Bs(n):0;if(!Yr(i))return e(n,r);for(var o=t?i:-1,a=ii(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function dr(e){return function(t,n,r){for(var i=ii(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var l=o[s];if(n(i[l],l,i)===!1)break}return t}}function pr(e,t){function n(){var i=this&&this!==Qt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=hr(e);return n}function fr(e){return function(t){for(var n=-1,r=pa(Jo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function hr(e){return function(){var t=Os(e.prototype),n=e.apply(t,arguments);return Co(n)?n:t}}function mr(e){function t(n,r,i){i&&Vr(n,r,i)&&(r=null);var o=Or(n,e,null,null,null,null,null,r);return o.placeholder=t.placeholder,o}return t}function gr(e,t){return function(n,r,i){i&&Vr(n,r,i)&&(r=null);var a=Lr(),s=null==r;if(a===$n&&s||(s=!1,r=a(r,i,3)),s){var l=kl(n);if(l||!Oo(n))return e(l?n:ri(n));r=o}return Rr(n,r,t)}}function vr(e,n){return function(r,i,o){if(i=Lr(i,o,3),kl(r)){var a=t(r,i,n);return a>-1?r[a]:E}return Tn(r,i,e)}}function yr(e){return function(n,r,i){return n&&n.length?(r=Lr(r,i,3),t(n,r,e)):-1}}function br(e){return function(t,n,r){return n=Lr(n,r,3),Tn(t,n,e,!0)}}function $r(e){return function(){var t=arguments.length;if(!t)return function(){return arguments[0]};for(var n,r=e?t:-1,i=0,o=Sa(t);e?r--:++r<t;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new La(F);var s=n?"":Fs(a);n="wrapper"==s?new et([]):n}for(r=n?-1:t;++r<t;){a=o[r],s=Fs(a);var l="wrapper"==s?js(a):null;n=l&&Kr(l[0])&&l[1]==(N|T|M|O)&&!l[4].length&&1==l[9]?n[Fs(l[0])].apply(n,l[3]):1==a.length&&Kr(a)?n[s]():n.thru(a)}return function(){var e=arguments;if(n&&1==e.length&&kl(e[0]))return n.plant(e[0]).value();for(var r=0,i=o[r].apply(this,e);++r<t;)i=o[r].call(this,i);return i}}}function wr(e,t){return function(n,r,i){return"function"==typeof r&&i===E&&kl(n)?e(n,r):t(n,ir(r,i,3))}}function Er(e){return function(t,n,r){return("function"!=typeof n||r!==E)&&(n=ir(n,r,3)),e(t,n,Wo)}}function _r(e){return function(t,n,r){return("function"!=typeof n||r!==E)&&(n=ir(n,r,3)),e(t,n)}}function xr(e){return function(t,n,r){var i={};return n=Lr(n,r,3),An(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Cr(e){return function(t,n,r){return t=i(t),(e?t:"")+Mr(t,n,r)+(e?"":t)}}function kr(e){var t=po(function(n,r){var i=g(r,t.placeholder);return Or(n,e,null,r,i)});return t}function Tr(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===E&&kl(n)?e(n,r,i,a):Vn(n,Lr(r,o,4),i,a,t)}}function Sr(e,t,n,r,i,o,a,s,l,u){function c(){for(var $=arguments.length,w=$,_=Sa($);w--;)_[w]=arguments[w];if(r&&(_=ar(_,r,i)),o&&(_=sr(_,o,a)),h||v){var k=c.placeholder,T=g(_,k);if($-=T.length,u>$){var S=s?nn(s):null,N=ms(u-$,0),O=h?T:null,D=h?null:T,I=h?_:null,P=h?null:_;t|=h?M:A,t&=~(h?A:M),m||(t&=~(x|C));var R=[e,t,n,I,O,P,D,S,l,N],L=Sr.apply(E,R);return Kr(e)&&qs(L,R),L.placeholder=k,L}}var H=p?n:this;f&&(e=H[b]),s&&(_=ei(_,s)),d&&l<_.length&&(_.length=l);var j=this&&this!==Qt&&this instanceof c?y||hr(e):e;return j.apply(H,_)}var d=t&N,p=t&x,f=t&C,h=t&T,m=t&k,v=t&S,y=!f&&hr(e),b=e;return c}function Mr(e,t,n){var r=e.length;if(t=+t,r>=t||!fs(t))return"";var i=t-r;return n=null==n?" ":n+"",ia(n,Xa(i/n.length)).slice(0,i)}function Ar(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,u=r.length,c=Sa(s+u);++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++t];var d=this&&this!==Qt&&this instanceof i?a:e;return d.apply(o?n:this,c)}var o=t&x,a=hr(e);return i}function Nr(e){return function(t,n,r,i){var o=Lr(r);return o===$n&&null==r?nr(t,n,e):rr(t,n,o(r,i,1),e)}}function Or(e,t,n,r,i,o,a,s){var l=t&C;if(!l&&"function"!=typeof e)throw new La(F);var u=r?r.length:0;if(u||(t&=~(M|A),r=i=null),u-=i?i.length:0,t&A){var c=r,d=i;r=i=null}var p=l?null:js(e),f=[e,t,n,r,i,c,d,o,a,s];if(p&&(Zr(f,p),t=f[1],s=f[9]),f[9]=null==s?l?0:e.length:ms(s-u,0)||0,t==x)var h=pr(f[0],f[2]);else h=t!=M&&t!=(x|M)||f[4].length?Sr.apply(E,f):Ar.apply(E,f);var m=p?Ls:qs;return m(h,f)}function Dr(e,t,n,r,i,o,a){var s=-1,l=e.length,u=t.length,c=!0;if(l!=u&&!(i&&u>l))return!1;for(;c&&++s<l;){var d=e[s],p=t[s];if(c=E,r&&(c=i?r(p,d,s):r(d,p,s)),c===E)if(i)for(var f=u;f--&&(p=t[f],!(c=d&&d===p||n(d,p,r,i,o,a))););else c=d&&d===p||n(d,p,r,i,o,a)}return!!c}function Ir(e,t,n){switch(n){case U:case G:return+e==+t;case V:return e.name==t.name&&e.message==t.message;case Y:return e!=+e?t!=+t:e==+t;case Z:case Q:return e==t+""}return!1}function Pr(e,t,n,r,i,o,a){var s=Hl(e),l=s.length,u=Hl(t),c=u.length;if(l!=c&&!i)return!1;for(var d=i,p=-1;++p<l;){var f=s[p],h=i?f in t:qa.call(t,f);if(h){var m=e[f],g=t[f];h=E,r&&(h=i?r(g,m,f):r(m,g,f)),h===E&&(h=m&&m===g||n(m,g,r,i,o,a))}if(!h)return!1;d||(d="constructor"==f)}if(!d){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Rr(e,t,n){var r=n?Es:ws,i=r,o=i;return Ds(e,function(e,a,s){var l=t(e,a,s);((n?i>l:l>i)||l===r&&l===o)&&(i=l,o=e)}),o}function Lr(e,t,n){var r=K.callback||fa;return r=r===fa?$n:r,n?r(e,t,n):r}function Hr(e,t,r){var i=K.indexOf||vi;return i=i===vi?n:i,e?i(e,t,r):i}function jr(e,t,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=gs(t,e+a);break;case"takeRight":e=ms(e,t-a)}}return{start:e,end:t}}function Fr(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qa.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Br(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Ia),new t}function Wr(e,t,n){var r=e.constructor;switch(t){case tt:return or(e);case U:case G:return new r(+e);case nt:case rt:case it:case ot:case at:case st:case lt:case ut:case ct:var i=e.buffer;return new r(n?or(i):i,e.byteOffset,e.length);case Y:case Q:return new r(e);case Z:var o=new r(e.source,Mt.exec(e));o.lastIndex=e.lastIndex}return o}function qr(e,t,n){null==e||zr(t,e)||(t=oi(t),e=1==t.length?e:Dn(e,zn(t,0,-1)),t=$i(t));var r=null==e?e:e[t];return null==r?E:r.apply(e,n)}function Ur(e){return null!=e&&Yr(Bs(e))}function Gr(e,t){return e=+e,t=null==t?Ts:t,e>-1&&e%1==0&&t>e}function Vr(e,t,n){if(!Co(n))return!1;var r=typeof t;if("number"==r?Ur(n)&&Gr(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function zr(e,t){var n=typeof e;if("string"==n&&Et.test(e)||"number"==n)return!0;if(kl(e))return!1;var r=!wt.test(e);return r||null!=t&&e in ii(t)}function Kr(e){var t=Fs(e);return!!t&&e===K[t]&&t in Wt.prototype}function Yr(e){return"number"==typeof e&&e>-1&&e%1==0&&Ts>=e}function Xr(e){return e===e&&!Co(e)}function Zr(e,t){var n=e[1],r=t[1],i=n|r,o=N>i,a=r==N&&n==T||r==N&&n==O&&e[7].length<=t[8]||r==(N|O)&&n==T;if(!o&&!a)return e;r&x&&(e[2]=t[2],i|=n&x?0:k);var s=t[3];if(s){var l=e[3];e[3]=l?ar(l,s,t[4]):nn(s),e[4]=l?g(e[3],B):nn(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?sr(l,s,t[6]):nn(s),e[6]=l?g(e[5],B):nn(t[6])),s=t[7],s&&(e[7]=nn(s)),r&N&&(e[8]=null==e[8]?t[8]:gs(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Jr(e,t){e=ii(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function Qr(e,t){var n={};return Mn(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ei(e,t){for(var n=e.length,r=gs(t.length,n),i=nn(e);r--;){var o=t[r];e[r]=Gr(o,n)?i[o]:E}return e}function ti(e){{var t;K.support}if(!h(e)||Ga.call(e)!=X||!qa.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Mn(e,function(e,t){n=t}),n===E||qa.call(e,n)}function ni(e){for(var t=Wo(e),n=t.length,r=n&&e.length,i=K.support,o=r&&Yr(r)&&(kl(e)||i.nonEnumArgs&&yo(e)),a=-1,s=[];++a<n;){var l=t[a];(o&&Gr(l,r)||qa.call(e,l))&&s.push(l)}return s}function ri(e){return null==e?[]:Ur(e)?Co(e)?e:Ia(e):zo(e)}function ii(e){return Co(e)?e:Ia(e)}function oi(e){if(kl(e))return e;var t=[];return i(e).replace(_t,function(e,n,r,i){t.push(r?i.replace(Tt,"$1"):n||e)}),t}function ai(e){return e instanceof Wt?e.clone():new et(e.__wrapped__,e.__chain__,nn(e.__actions__))}function si(e,t,n){t=(n?Vr(e,t,n):null==t)?1:ms(+t||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Sa(Xa(i/t));i>r;)a[++o]=zn(e,r,r+=t);return a}function li(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function ui(e,t,n){var r=e?e.length:0;return r?((n?Vr(e,t,n):null==t)&&(t=1),zn(e,0>t?0:t)):[]}function ci(e,t,n){var r=e?e.length:0;return r?((n?Vr(e,t,n):null==t)&&(t=1),t=r-(+t||0),zn(e,0,0>t?0:t)):[]}function di(e,t,n){return e&&e.length?er(e,Lr(t,n,3),!0,!0):[]}function pi(e,t,n){return e&&e.length?er(e,Lr(t,n,3),!0):[]}function fi(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Vr(e,t,n)&&(n=0,r=i),Cn(e,t,n,r)):[]}function hi(e){return e?e[0]:E}function mi(e,t,n){var r=e?e.length:0;return n&&Vr(e,t,n)&&(t=!1),r?Sn(e,t):[]}function gi(e){var t=e?e.length:0;return t?Sn(e,!0):[]}function vi(e,t,r){var i=e?e.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?ms(i+r,0):r;else if(r){var o=nr(e,t),a=e[o];return(t===t?t===a:a!==a)?o:-1}return n(e,t,r||0)}function yi(e){return ci(e,1)}function bi(){for(var e=[],t=-1,r=arguments.length,i=[],o=Hr(),a=o==n,s=[];++t<r;){var l=arguments[t];Ur(l)&&(e.push(l),i.push(a&&l.length>=120?Hs(t&&l):null))}if(r=e.length,2>r)return s;var u=e[0],c=-1,d=u?u.length:0,p=i[0];e:for(;++c<d;)if(l=u[c],(p?Jt(p,l):o(s,l,0))<0){for(t=r;--t;){var f=i[t];if((f?Jt(f,l):o(e[t],l,0))<0)continue e}p&&p.push(l),s.push(l)}return s}function $i(e){var t=e?e.length:0;return t?e[t-1]:E}function wi(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ms(r+n,0):gs(n||0,r-1))+1;else if(n){i=nr(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return f(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ei(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Hr(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)as.call(t,o,1);return t}function _i(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Lr(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Un(e,o),r}function xi(e){return ui(e,1)}function Ci(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Vr(e,t,n)&&(t=0,n=r),zn(e,t,n)):[]}function ki(e,t,n){var r=e?e.length:0;return r?((n?Vr(e,t,n):null==t)&&(t=1),zn(e,0,0>t?0:t)):[]}function Ti(e,t,n){var r=e?e.length:0;return r?((n?Vr(e,t,n):null==t)&&(t=1),t=r-(+t||0),zn(e,0>t?0:t)):[]}function Si(e,t,n){return e&&e.length?er(e,Lr(t,n,3),!1,!0):[]}function Mi(e,t,n){return e&&e.length?er(e,Lr(t,n,3)):[]}function Ai(e,t,r,i){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(i=r,r=Vr(e,t,i)?null:t,t=!1);var a=Lr();return(a!==$n||null!=r)&&(r=a(r,i,3)),t&&Hr()==n?v(e,r):Jn(e,r)}function Ni(e){if(!e||!e.length)return[];var t=-1,n=0;e=sn(e,function(e){return Ur(e)?(n=ms(e.length,n),!0):void 0});for(var r=Sa(n);++t<n;)r[t]=ln(e,Wn(t));return r}function Oi(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Ni(e);return null==t?i:(t=ir(t,n,4),ln(i,function(e){return dn(e,t,E,!0)}))}function Di(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Ur(n))var r=r?_n(r,n).concat(_n(n,r)):n}return r?Jn(r):[]}function Ii(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||kl(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Pi(e){var t=K(e);return t.__chain__=!0,t}function Ri(e,t,n){return t.call(n,e),e}function Li(e,t,n){return t.call(n,e)}function Hi(){return Pi(this)}function ji(){return new et(this.value(),this.__chain__)}function Fi(e){for(var t,n=this;n instanceof J;){var r=ai(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Bi(){var e=this.__wrapped__;return e instanceof Wt?(this.__actions__.length&&(e=new Wt(this)),new et(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()
})}function Wi(){return this.value()+""}function qi(){return tr(this.__wrapped__,this.__actions__)}function Ui(e,t,n){var r=kl(e)?an:xn;return n&&Vr(e,t,n)&&(t=null),("function"!=typeof t||n!==E)&&(t=Lr(t,n,3)),r(e,t)}function Gi(e,t,n){var r=kl(e)?sn:kn;return t=Lr(t,n,3),r(e,t)}function Vi(e,t){return nl(e,Hn(t))}function zi(e,t,n,r){var i=e?Bs(e):0;return Yr(i)||(e=zo(e),i=e.length),i?(n="number"!=typeof n||r&&Vr(t,n,r)?0:0>n?ms(i+n,0):n||0,"string"==typeof e||!kl(e)&&Oo(e)?i>n&&e.indexOf(t,n)>-1:Hr(e,t,n)>-1):!1}function Ki(e,t,n){var r=kl(e)?ln:Ln;return t=Lr(t,n,3),r(e,t)}function Yi(e,t){return Ki(e,wa(t))}function Xi(e,t,n){var r=kl(e)?sn:kn;return t=Lr(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Zi(e,t,n){if(n?Vr(e,t,n):null==t){e=ri(e);var r=e.length;return r>0?e[Gn(0,r-1)]:E}var i=Ji(e);return i.length=gs(0>t?0:+t||0,i.length),i}function Ji(e){e=ri(e);for(var t=-1,n=e.length,r=Sa(n);++t<n;){var i=Gn(0,t);t!=i&&(r[t]=r[i]),r[i]=e[t]}return r}function Qi(e){var t=e?Bs(e):0;return Yr(t)?t:Hl(e).length}function eo(e,t,n){var r=kl(e)?fn:Kn;return n&&Vr(e,t,n)&&(t=null),("function"!=typeof t||n!==E)&&(t=Lr(t,n,3)),r(e,t)}function to(e,t,n){if(null==e)return[];n&&Vr(e,t,n)&&(t=null);var r=-1;t=Lr(t,n,3);var i=Ln(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Yn(i,l)}function no(e,t,n,r){return null==e?[]:(r&&Vr(t,n,r)&&(n=null),kl(t)||(t=null==t?[]:[t]),kl(n)||(n=null==n?[]:[n]),Xn(e,t,n))}function ro(e,t){return Gi(e,Hn(t))}function io(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new La(F);var n=e;e=t,t=n}return e=fs(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function oo(e,t,n){return n&&Vr(e,t,n)&&(t=null),t=e&&null==t?e.length:ms(+t||0,0),Or(e,N,null,null,null,null,t)}function ao(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new La(F);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}}function so(e,t,n){function r(){p&&Za(p),l&&Za(l),l=p=f=E}function i(){var n=t-(fl()-c);if(0>=n||n>t){l&&Za(l);var r=f;l=p=f=E,r&&(h=fl(),u=e.apply(d,s),p||l||(s=d=null))}else p=os(i,n)}function o(){p&&Za(p),l=p=f=E,(g||m!==t)&&(h=fl(),u=e.apply(d,s),p||l||(s=d=null))}function a(){if(s=arguments,c=fl(),d=this,f=g&&(p||!v),m===!1)var n=v&&!p;else{l||v||(h=c);var r=m-(c-h),a=0>=r||r>m;a?(l&&(l=Za(l)),h=c,u=e.apply(d,s)):l||(l=os(o,r))}return a&&p?p=Za(p):p||t===m||(p=os(i,t)),n&&(a=!0,u=e.apply(d,s)),!a||p||l||(s=d=null),u}var s,l,u,c,d,p,f,h=0,m=!1,g=!0;if("function"!=typeof e)throw new La(F);if(t=0>t?0:+t||0,n===!0){var v=!0;g=!1}else Co(n)&&(v=n.leading,m="maxWait"in n&&ms(+n.maxWait||0,t),g="trailing"in n?n.trailing:g);return a.cancel=r,a}function lo(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new La(F);var n=function(){var r=arguments,i=n.cache,o=t?t.apply(this,r):r[0];if(i.has(o))return i.get(o);var a=e.apply(this,r);return i.set(o,a),a};return n.cache=new lo.Cache,n}function uo(e){if("function"!=typeof e)throw new La(F);return function(){return!e.apply(this,arguments)}}function co(e){return ao(2,e)}function po(e,t){if("function"!=typeof e)throw new La(F);return t=ms(t===E?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=ms(n.length-t,0),o=Sa(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Sa(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function fo(e){if("function"!=typeof e)throw new La(F);return function(t){return e.apply(this,t)}}function ho(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new La(F);return n===!1?r=!1:Co(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bt.leading=r,Bt.maxWait=+t,Bt.trailing=i,so(e,t,Bt)}function mo(e,t){return t=null==t?ma:t,Or(t,M,null,[e],[])}function go(e,t,n,r){return t&&"boolean"!=typeof t&&Vr(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),n="function"==typeof n&&ir(n,r,1),wn(e,t,n)}function vo(e,t,n){return t="function"==typeof t&&ir(t,n,1),wn(e,!0,t)}function yo(e){return h(e)&&Ur(e)&&Ga.call(e)==W}function bo(e){return e===!0||e===!1||h(e)&&Ga.call(e)==U}function $o(e){return h(e)&&Ga.call(e)==G}function wo(e){return!!e&&1===e.nodeType&&h(e)&&Ga.call(e).indexOf("Element")>-1}function Eo(e){return null==e?!0:Ur(e)&&(kl(e)||Oo(e)||yo(e)||h(e)&&Sl(e.splice))?!e.length:!Hl(e).length}function _o(e,t,n,r){if(n="function"==typeof n&&ir(n,r,3),!n&&Xr(e)&&Xr(t))return e===t;var i=n?n(e,t):E;return i===E?In(e,t,n):!!i}function xo(e){return h(e)&&"string"==typeof e.message&&Ga.call(e)==V}function Co(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function ko(e,t,n,r){var i=Hl(t),o=i.length;if(!o)return!0;if(null==e)return!1;if(n="function"==typeof n&&ir(n,r,3),e=ii(e),!n&&1==o){var a=i[0],s=t[a];if(Xr(s))return s===e[a]&&(s!==E||a in e)}for(var l=Sa(o),u=Sa(o);o--;)s=l[o]=t[i[o]],u[o]=Xr(s);return Rn(e,i,l,u,n)}function To(e){return Ao(e)&&e!=+e}function So(e){return null==e?!1:Ga.call(e)==z?za.test(Wa.call(e)):h(e)&&Nt.test(e)}function Mo(e){return null===e}function Ao(e){return"number"==typeof e||h(e)&&Ga.call(e)==Y}function No(e){return h(e)&&Ga.call(e)==Z}function Oo(e){return"string"==typeof e||h(e)&&Ga.call(e)==Q}function Do(e){return h(e)&&Yr(e.length)&&!!jt[Ga.call(e)]}function Io(e){return e===E}function Po(e){var t=e?Bs(e):0;return Yr(t)?t?nn(e):[]:zo(e)}function Ro(e){return bn(e,Wo(e))}function Lo(e,t,n){var r=Os(e);return n&&Vr(e,t,n)&&(t=null),t?Ns(r,t):r}function Ho(e){return On(e,Wo(e))}function jo(e,t,n){var r=null==e?E:Dn(e,oi(t),t+"");return r===E?n:r}function Fo(e,t){if(null==e)return!1;var n=qa.call(e,t);return n||zr(t)||(t=oi(t),e=1==t.length?e:Dn(e,zn(t,0,-1)),t=$i(t),n=null!=e&&qa.call(e,t)),n}function Bo(e,t,n){n&&Vr(e,t,n)&&(t=null);for(var r=-1,i=Hl(e),o=i.length,a={};++r<o;){var s=i[r],l=e[s];t?qa.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a}function Wo(e){if(null==e)return[];Co(e)||(e=Ia(e));var t=e.length;t=t&&Yr(t)&&(kl(e)||As.nonEnumArgs&&yo(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Sa(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Gr(s,t)||"constructor"==s&&(i||!qa.call(e,s))||o.push(s);return o}function qo(e){for(var t=-1,n=Hl(e),r=n.length,i=Sa(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Uo(e,t,n){var r=null==e?E:e[t];return r===E&&(null==e||zr(t,e)||(t=oi(t),e=1==t.length?e:Dn(e,zn(t,0,-1)),r=null==e?E:e[$i(t)]),r=r===E?n:r),Sl(r)?r.call(e):r}function Go(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||zr(t,e)?[r]:oi(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=t[i];Co(s)&&(i==a?s[l]=n:null==s[l]&&(s[l]=Gr(t[i+1])?[]:{})),s=s[l]}return e}function Vo(e,t,n,r){var i=kl(e)||Do(e);if(t=Lr(t,r,4),null==n)if(i||Co(e)){var o=e.constructor;n=i?kl(e)?new o:[]:Os(Sl(o)&&o.prototype)}else n={};return(i?rn:An)(e,function(e,r,i){return t(n,e,r,i)}),n}function zo(e){return Qn(e,Hl(e))}function Ko(e){return Qn(e,Wo(e))}function Yo(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=gs(t,n)&&e<ms(t,n)}function Xo(e,t,n){n&&Vr(e,t,n)&&(t=n=null);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=$s();return gs(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Gn(e,t)}function Zo(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function Jo(e){return e=i(e),e&&e.replace(Ot,c).replace(kt,"")}function Qo(e,t,n){e=i(e),t+="";var r=e.length;return n=n===E?r:gs(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ea(e){return e=i(e),e&&vt.test(e)?e.replace(mt,d):e}function ta(e){return e=i(e),e&&Ct.test(e)?e.replace(xt,"\\$&"):e}function na(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!fs(t))return e;var o=(t-r)/2,a=Ja(o),s=Xa(o);return n=Mr("",s,n),n.slice(0,a)+e+n}function ra(e,t,n){return n&&Vr(e,t,n)&&(t=0),bs(e,t)}function ia(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!fs(t))return n;do t%2&&(n+=e),t=Ja(t/2),e+=e;while(t);return n}function oa(e,t,n){return e=i(e),n=null==n?0:gs(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function aa(e,t,n){var r=K.templateSettings;n&&Vr(e,t,n)&&(t=n=null),e=i(e),t=vn(Ns({},n||t),r,gn);var o,a,s=vn(Ns({},t.imports),r.imports,gn),l=Hl(s),u=Qn(s,l),c=0,d=t.interpolate||Dt,f="__p += '",h=Pa((t.escape||Dt).source+"|"+d.source+"|"+(d===$t?St:Dt).source+"|"+(t.evaluate||Dt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ht+"]")+"\n";e.replace(h,function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(c,l).replace(It,p),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),f+="';\n";var g=t.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(dt,""):f).replace(pt,"$1").replace(ft,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Xl(function(){return Na(l,m+"return "+f).apply(E,u)});if(v.source=f,xo(v))throw v;return v}function sa(e,t,n){var r=e;return(e=i(e))?(n?Vr(r,t,n):null==t)?e.slice(y(e),b(e)+1):(t+="",e.slice(a(e,t),s(e,t)+1)):e}function la(e,t,n){var r=e;return e=i(e),e?e.slice((n?Vr(r,t,n):null==t)?y(e):a(e,t+"")):e}function ua(e,t,n){var r=e;return e=i(e),e?(n?Vr(r,t,n):null==t)?e.slice(0,b(e)+1):e.slice(0,s(e,t+"")+1):e}function ca(e,t,n){n&&Vr(e,t,n)&&(t=null);var r=D,o=I;if(null!=t)if(Co(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,o="omission"in t?i(t.omission):o}else r=+t||0;if(e=i(e),r>=e.length)return e;var s=r-o.length;if(1>s)return o;var l=e.slice(0,s);if(null==a)return l+o;if(No(a)){if(e.slice(s).search(a)){var u,c,d=e.slice(0,s);for(a.global||(a=Pa(a.source,(Mt.exec(a)||"")+"g")),a.lastIndex=0;u=a.exec(d);)c=u.index;l=l.slice(0,null==c?s:c)}}else if(e.indexOf(a,s)!=s){var p=l.lastIndexOf(a);p>-1&&(l=l.slice(0,p))}return l+o}function da(e){return e=i(e),e&&gt.test(e)?e.replace(ht,$):e}function pa(e,t,n){return n&&Vr(e,t,n)&&(t=null),e=i(e),e.match(t||Pt)||[]}function fa(e,t,n){return n&&Vr(e,t,n)&&(t=null),h(e)?ga(e):$n(e,t)}function ha(e){return function(){return e}}function ma(e){return e}function ga(e){return Hn(wn(e,!0))}function va(e,t){return jn(e,wn(t,!0))}function ya(e,t,n){if(null==n){var r=Co(t),i=r&&Hl(t),o=i&&i.length&&On(t,i);(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=On(t,Hl(t)));var a=!0,s=-1,l=Sl(e),u=o.length;n===!1?a=!1:Co(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var c=o[s],d=t[c];e[c]=d,l&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=nn(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var o=[this.value()];return ts.apply(o,arguments),t.apply(e,o)}}(d))}return e}function ba(){return m._=Va,this}function $a(){}function wa(e){return zr(e)?Wn(e):qn(e)}function Ea(e){return function(t){return Dn(e,oi(t),t+"")}}function _a(e,t,n){n&&Vr(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=ms(Xa((t-e)/(n||1)),0),o=Sa(i);++r<i;)o[r]=e,e+=n;return o}function xa(e,t,n){if(e=Ja(e),1>e||!fs(e))return[];var r=-1,i=Sa(gs(e,_s));for(t=ir(t,n,1);++r<e;)_s>r?i[r]=t(r):t(r);return i}function Ca(e){var t=++Ua;return i(e)+t}function ka(e,t){return(+e||0)+(+t||0)}function Ta(e,t,n){n&&Vr(e,t,n)&&(t=null);var r=Lr(),i=null==t;return r===$n&&i||(i=!1,t=r(t,n,3)),i?hn(kl(e)?e:ri(e)):Zn(e,t)}m=m?en.defaults(Qt.Object(),m,en.pick(Qt,Lt)):Qt;var Sa=m.Array,Ma=m.Date,Aa=m.Error,Na=m.Function,Oa=m.Math,Da=m.Number,Ia=m.Object,Pa=m.RegExp,Ra=m.String,La=m.TypeError,Ha=Sa.prototype,ja=Ia.prototype,Fa=Ra.prototype,Ba=(Ba=m.window)&&Ba.document,Wa=Na.prototype.toString,qa=ja.hasOwnProperty,Ua=0,Ga=ja.toString,Va=m._,za=Pa("^"+ta(Ga).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ka=So(Ka=m.ArrayBuffer)&&Ka,Ya=So(Ya=Ka&&new Ka(0).slice)&&Ya,Xa=Oa.ceil,Za=m.clearTimeout,Ja=Oa.floor,Qa=So(Qa=Ia.getOwnPropertySymbols)&&Qa,es=So(es=Ia.getPrototypeOf)&&es,ts=Ha.push,ns=So(ns=Ia.preventExtensions)&&ns,rs=ja.propertyIsEnumerable,is=So(is=m.Set)&&is,os=m.setTimeout,as=Ha.splice,ss=So(ss=m.Uint8Array)&&ss,ls=So(ls=m.WeakMap)&&ls,us=function(){try{var e=So(e=m.Float64Array)&&e,t=new e(new Ka(10),0,1)&&e}catch(n){}return t}(),cs=function(){var e=ns&&So(e=Ia.assign)&&e;try{if(e){var t=ns({1:0});t[0]=1}}catch(n){try{e(t,"xo")}catch(n){}return!t[1]&&e}return!1}(),ds=So(ds=Sa.isArray)&&ds,ps=So(ps=Ia.create)&&ps,fs=m.isFinite,hs=So(hs=Ia.keys)&&hs,ms=Oa.max,gs=Oa.min,vs=So(vs=Ma.now)&&vs,ys=So(ys=Da.isFinite)&&ys,bs=m.parseInt,$s=Oa.random,ws=Da.NEGATIVE_INFINITY,Es=Da.POSITIVE_INFINITY,_s=Oa.pow(2,32)-1,xs=_s-1,Cs=_s>>>1,ks=us?us.BYTES_PER_ELEMENT:0,Ts=Oa.pow(2,53)-1,Ss=ls&&new ls,Ms={},As=K.support={};!function(e){var t=function(){this.x=e},n=arguments,r=[];t.prototype={valueOf:e,y:e};for(var i in new t)r.push(i);As.funcDecomp=/\bthis\b/.test(function(){return this}),As.funcNames="string"==typeof Na.name;try{As.dom=11===Ba.createDocumentFragment().nodeType}catch(o){As.dom=!1}try{As.nonEnumArgs=!rs.call(n,1)}catch(o){As.nonEnumArgs=!0}}(1,0),K.templateSettings={escape:yt,evaluate:bt,interpolate:$t,variable:"",imports:{_:K}};var Ns=cs||function(e,t){return null==t?e:bn(t,Ws(t),bn(t,Hl(t),e))},Os=function(){function e(){}return function(t){if(Co(t)){e.prototype=t;var n=new e;e.prototype=null}return n||m.Object()}}(),Ds=cr(An),Is=cr(Nn,!0),Ps=dr(),Rs=dr(!0),Ls=Ss?function(e,t){return Ss.set(e,t),e}:ma;Ya||(or=Ka&&ss?function(e){var t=e.byteLength,n=us?Ja(t/ks):0,r=n*ks,i=new Ka(t);if(n){var o=new us(i,0,n);o.set(new us(e,0,n))}return t!=r&&(o=new ss(i,r),o.set(new ss(e,r))),i}:ha(null));var Hs=ps&&is?function(e){return new Zt(e)}:ha(null),js=Ss?function(e){return Ss.get(e)}:$a,Fs=function(){return As.funcNames?"constant"==ha.name?Wn("name"):function(e){for(var t=e.name,n=Ms[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}:ha("")}(),Bs=Wn("length"),Ws=Qa?function(e){return Qa(ii(e))}:ha([]),qs=function(){var e=0,t=0;return function(n,r){var i=fl(),o=R-(i-t);if(t=i,o>0){if(++e>=P)return n}else e=0;return Ls(n,r)}}(),Us=po(function(e,t){return Ur(e)?_n(e,Sn(t,!1,!0)):[]}),Gs=yr(),Vs=yr(!0),zs=po(function(t,n){n=Sn(n);var r=yn(t,n);return Un(t,n.sort(e)),r}),Ks=Nr(),Ys=Nr(!0),Xs=po(function(e){return Jn(Sn(e,!1,!0))}),Zs=po(function(e,t){return Ur(e)?_n(e,t):[]}),Js=po(Ni),Qs=po(function(e){var t=e.length,n=e[t-2],r=e[t-1];return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):E,r=E),e.length=t,Oi(e,n,r)}),el=po(function(e,t){return yn(e,Sn(t))}),tl=lr(function(e,t,n){qa.call(e,n)?++e[n]:e[n]=1}),nl=vr(Ds),rl=vr(Is,!0),il=wr(rn,Ds),ol=wr(on,Is),al=lr(function(e,t,n){qa.call(e,n)?e[n].push(t):e[n]=[t]}),sl=lr(function(e,t,n){e[n]=t}),ll=po(function(e,t,n){var r=-1,i="function"==typeof t,o=zr(t),a=Ur(e)?Sa(e.length):[];return Ds(e,function(e){var s=i?t:o&&null!=e&&e[t];a[++r]=s?s.apply(e,n):qr(e,t,n)}),a}),ul=lr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),cl=Tr(dn,Ds),dl=Tr(pn,Is),pl=po(function(e,t){if(null==e)return[];var n=t[2];return n&&Vr(t[0],t[1],n)&&(t.length=1),Xn(e,Sn(t),[])}),fl=vs||function(){return(new Ma).getTime()},hl=po(function(e,t,n){var r=x;if(n.length){var i=g(n,hl.placeholder);r|=M}return Or(e,r,t,n,i)}),ml=po(function(e,t){t=t.length?Sn(t):Ho(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Or(e[i],x,e)}return e}),gl=po(function(e,t,n){var r=x|C;if(n.length){var i=g(n,gl.placeholder);r|=M}return Or(t,r,e,n,i)}),vl=mr(T),yl=mr(S),bl=po(function(e,t){return En(e,1,t)}),$l=po(function(e,t,n){return En(e,t,n)}),wl=$r(),El=$r(!0),_l=kr(M),xl=kr(A),Cl=po(function(e,t){return Or(e,O,null,null,null,Sn(t))}),kl=ds||function(e){return h(e)&&Yr(e.length)&&Ga.call(e)==q};As.dom||(wo=function(e){return!!e&&1===e.nodeType&&h(e)&&!Ml(e)});var Tl=ys||function(e){return"number"==typeof e&&fs(e)},Sl=r(/x/)||ss&&!r(ss)?function(e){return Ga.call(e)==z}:r,Ml=es?function(e){if(!e||Ga.call(e)!=X)return!1;var t=e.valueOf,n=So(t)&&(n=es(t))&&es(n);return n?e==n||es(e)==n:ti(e)}:ti,Al=ur(function(e,t,n){return n?vn(e,t,n):Ns(e,t)}),Nl=po(function(e){var t=e[0];return null==t?t:(e.push(mn),Al.apply(E,e))}),Ol=br(An),Dl=br(Nn),Il=Er(Ps),Pl=Er(Rs),Rl=_r(An),Ll=_r(Nn),Hl=hs?function(e){var t=null!=e&&e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Ur(e)?ni(e):Co(e)?hs(e):[]}:ni,jl=xr(!0),Fl=xr(),Bl=ur(Fn),Wl=po(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ln(Sn(t),Ra);return Jr(e,_n(Wo(e),t))}var n=ir(t[0],t[1],3);return Qr(e,function(e,t,r){return!n(e,t,r)})}),ql=po(function(e,t){return null==e?{}:"function"==typeof t[0]?Qr(e,ir(t[0],t[1],3)):Jr(e,Sn(t))}),Ul=fr(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Gl=fr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Vl=Cr(),zl=Cr(!0);8!=bs(Rt+"08")&&(ra=function(e,t,n){return(n?Vr(e,t,n):null==t)?t=0:t&&(t=+t),e=sa(e),bs(e,t||(At.test(e)?16:10))});var Kl=fr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Yl=fr(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Xl=po(function(e,t){try{return e.apply(E,t)}catch(n){return xo(n)?n:new Aa(n)}}),Zl=po(function(e,t){return function(n){return qr(n,e,t)}}),Jl=po(function(e,t){return function(n){return qr(e,n,t)}}),Ql=gr(un),eu=gr(cn,!0);return K.prototype=J.prototype,et.prototype=Os(J.prototype),et.prototype.constructor=et,Wt.prototype=Os(J.prototype),Wt.prototype.constructor=Wt,Vt.prototype["delete"]=zt,Vt.prototype.get=Kt,Vt.prototype.has=Yt,Vt.prototype.set=Xt,Zt.prototype.push=tn,lo.Cache=Vt,K.after=io,K.ary=oo,K.assign=Al,K.at=el,K.before=ao,K.bind=hl,K.bindAll=ml,K.bindKey=gl,K.callback=fa,K.chain=Pi,K.chunk=si,K.compact=li,K.constant=ha,K.countBy=tl,K.create=Lo,K.curry=vl,K.curryRight=yl,K.debounce=so,K.defaults=Nl,K.defer=bl,K.delay=$l,K.difference=Us,K.drop=ui,K.dropRight=ci,K.dropRightWhile=di,K.dropWhile=pi,K.fill=fi,K.filter=Gi,K.flatten=mi,K.flattenDeep=gi,K.flow=wl,K.flowRight=El,K.forEach=il,K.forEachRight=ol,K.forIn=Il,K.forInRight=Pl,K.forOwn=Rl,K.forOwnRight=Ll,K.functions=Ho,K.groupBy=al,K.indexBy=sl,K.initial=yi,K.intersection=bi,K.invert=Bo,K.invoke=ll,K.keys=Hl,K.keysIn=Wo,K.map=Ki,K.mapKeys=jl,K.mapValues=Fl,K.matches=ga,K.matchesProperty=va,K.memoize=lo,K.merge=Bl,K.method=Zl,K.methodOf=Jl,K.mixin=ya,K.negate=uo,K.omit=Wl,K.once=co,K.pairs=qo,K.partial=_l,K.partialRight=xl,K.partition=ul,K.pick=ql,K.pluck=Yi,K.property=wa,K.propertyOf=Ea,K.pull=Ei,K.pullAt=zs,K.range=_a,K.rearg=Cl,K.reject=Xi,K.remove=_i,K.rest=xi,K.restParam=po,K.set=Go,K.shuffle=Ji,K.slice=Ci,K.sortBy=to,K.sortByAll=pl,K.sortByOrder=no,K.spread=fo,K.take=ki,K.takeRight=Ti,K.takeRightWhile=Si,K.takeWhile=Mi,K.tap=Ri,K.throttle=ho,K.thru=Li,K.times=xa,K.toArray=Po,K.toPlainObject=Ro,K.transform=Vo,K.union=Xs,K.uniq=Ai,K.unzip=Ni,K.unzipWith=Oi,K.values=zo,K.valuesIn=Ko,K.where=ro,K.without=Zs,K.wrap=mo,K.xor=Di,K.zip=Js,K.zipObject=Ii,K.zipWith=Qs,K.backflow=El,K.collect=Ki,K.compose=El,K.each=il,K.eachRight=ol,K.extend=Al,K.iteratee=fa,K.methods=Ho,K.object=Ii,K.select=Gi,K.tail=xi,K.unique=Ai,ya(K,K),K.add=ka,K.attempt=Xl,K.camelCase=Ul,K.capitalize=Zo,K.clone=go,K.cloneDeep=vo,K.deburr=Jo,K.endsWith=Qo,K.escape=ea,K.escapeRegExp=ta,K.every=Ui,K.find=nl,K.findIndex=Gs,K.findKey=Ol,K.findLast=rl,K.findLastIndex=Vs,K.findLastKey=Dl,K.findWhere=Vi,K.first=hi,K.get=jo,K.has=Fo,K.identity=ma,K.includes=zi,K.indexOf=vi,K.inRange=Yo,K.isArguments=yo,K.isArray=kl,K.isBoolean=bo,K.isDate=$o,K.isElement=wo,K.isEmpty=Eo,K.isEqual=_o,K.isError=xo,K.isFinite=Tl,K.isFunction=Sl,K.isMatch=ko,K.isNaN=To,K.isNative=So,K.isNull=Mo,K.isNumber=Ao,K.isObject=Co,K.isPlainObject=Ml,K.isRegExp=No,K.isString=Oo,K.isTypedArray=Do,K.isUndefined=Io,K.kebabCase=Gl,K.last=$i,K.lastIndexOf=wi,K.max=Ql,K.min=eu,K.noConflict=ba,K.noop=$a,K.now=fl,K.pad=na,K.padLeft=Vl,K.padRight=zl,K.parseInt=ra,K.random=Xo,K.reduce=cl,K.reduceRight=dl,K.repeat=ia,K.result=Uo,K.runInContext=w,K.size=Qi,K.snakeCase=Kl,K.some=eo,K.sortedIndex=Ks,K.sortedLastIndex=Ys,K.startCase=Yl,K.startsWith=oa,K.sum=Ta,K.template=aa,K.trim=sa,K.trimLeft=la,K.trimRight=ua,K.trunc=ca,K.unescape=da,K.uniqueId=Ca,K.words=pa,K.all=Ui,K.any=eo,K.contains=zi,K.detect=nl,K.foldl=cl,K.foldr=dl,K.head=hi,K.include=zi,K.inject=cl,ya(K,function(){var e={};return An(K,function(t,n){K.prototype[n]||(e[n]=t)}),e}(),!1),K.sample=Zi,K.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Zi(t,e)}):Zi(this.value())},K.VERSION=_,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){K[e].placeholder=K}),rn(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=j,r=t==L;Wt.prototype[e]=function(e,i){var o=this.__filtered__,a=o&&r?new Wt(this):this.clone(),s=a.__iteratees__||(a.__iteratees__=[]);return s.push({done:!1,count:0,index:0,iteratee:Lr(e,i,1),limit:-1,type:t}),a.__filtered__=o||n,a}}),rn(["drop","take"],function(e,t){var n=e+"While";Wt.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:ms(Ja(n)||0,0),r)t?i.__takeCount__=gs(i.__takeCount__,n):$i(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:e+(i.__dir__<0?"Right":"")})}return i},Wt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},Wt.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),rn(["first","last"],function(e,t){var n="take"+(t?"Right":"");Wt.prototype[e]=function(){return this[n](1).value()[0]}}),rn(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Wt.prototype[e]=function(){return this[n](1)}}),rn(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Hn:wa;Wt.prototype[e]=function(e){return this[n](r(e))}}),Wt.prototype.compact=function(){return this.filter(ma)},Wt.prototype.reject=function(e,t){return e=Lr(e,t,1),this.filter(function(t){return!e(t)})},Wt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return 0>e?n=this.takeRight(-e):e&&(n=this.drop(e)),t!==E&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},Wt.prototype.toArray=function(){return this.drop(0)},An(Wt.prototype,function(e,t){var n=K[t];if(n){var r=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t);K.prototype[t]=function(){var t=arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,l=a instanceof Wt,u=t[0],c=l||kl(a);c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=l&&!s;if(i&&!o)return d?e.call(a):n.call(K,this.value());var p=function(e){var r=[e];return ts.apply(r,t),n.apply(K,r)};if(c){var f=d?a:new Wt(this),h=e.apply(f,t);if(!i&&(s||h.__actions__)){var m=h.__actions__||(h.__actions__=[]);m.push({func:Li,args:[p],thisArg:K})}return new et(h,o)}return this.thru(p)}}}),rn(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Fa:Ha)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);K.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),An(Wt.prototype,function(e,t){var n=K[t];if(n){var r=n.name,i=Ms[r]||(Ms[r]=[]);i.push({name:t,func:n})}}),Ms[Sr(null,C).name]=[{name:"wrapper",func:null}],Wt.prototype.clone=qt,Wt.prototype.reverse=Ut,Wt.prototype.value=Gt,K.prototype.chain=Hi,K.prototype.commit=ji,K.prototype.plant=Fi,K.prototype.reverse=Bi,K.prototype.toString=Wi,K.prototype.run=K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=qi,K.prototype.collect=K.prototype.map,K.prototype.head=K.prototype.first,K.prototype.select=K.prototype.filter,K.prototype.tail=K.prototype.rest,K}var E,_="3.8.0",x=1,C=2,k=4,T=8,S=16,M=32,A=64,N=128,O=256,D=30,I="...",P=150,R=16,L=0,H=1,j=2,F="Expected a function",B="__lodash_placeholder__",W="[object Arguments]",q="[object Array]",U="[object Boolean]",G="[object Date]",V="[object Error]",z="[object Function]",K="[object Map]",Y="[object Number]",X="[object Object]",Z="[object RegExp]",J="[object Set]",Q="[object String]",et="[object WeakMap]",tt="[object ArrayBuffer]",nt="[object Float32Array]",rt="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",at="[object Int32Array]",st="[object Uint8Array]",lt="[object Uint8ClampedArray]",ut="[object Uint16Array]",ct="[object Uint32Array]",dt=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ht=/&(?:amp|lt|gt|quot|#39|#96);/g,mt=/[&<>"'`]/g,gt=RegExp(ht.source),vt=RegExp(mt.source),yt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,$t=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Et=/^\w*$/,_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xt=/[.*+?^${}()|[\]\/\\]/g,Ct=RegExp(xt.source),kt=/[\u0300-\u036f\ufe20-\ufe23]/g,Tt=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mt=/\w*$/,At=/^0[xX]/,Nt=/^\[object .+?Constructor\]$/,Ot=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Dt=/($^)/,It=/['\n\r\u2028\u2029\\]/g,Pt=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Rt=" 	\f\n\r\u2028\u2029",Lt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Ht=-1,jt={};jt[nt]=jt[rt]=jt[it]=jt[ot]=jt[at]=jt[st]=jt[lt]=jt[ut]=jt[ct]=!0,jt[W]=jt[q]=jt[tt]=jt[U]=jt[G]=jt[V]=jt[z]=jt[K]=jt[Y]=jt[X]=jt[Z]=jt[J]=jt[Q]=jt[et]=!1;var Ft={};Ft[W]=Ft[q]=Ft[tt]=Ft[U]=Ft[G]=Ft[nt]=Ft[rt]=Ft[it]=Ft[ot]=Ft[at]=Ft[Y]=Ft[X]=Ft[Z]=Ft[Q]=Ft[st]=Ft[lt]=Ft[ut]=Ft[ct]=!0,Ft[V]=Ft[z]=Ft[K]=Ft[J]=Ft[et]=!1;var Bt={leading:!1,maxWait:0,trailing:!1},Wt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ut={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Gt={"function":!0,object:!0},Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=Gt[typeof exports]&&exports&&!exports.nodeType&&exports,Kt=Gt[typeof module]&&module&&!module.nodeType&&module,Yt=zt&&Kt&&"object"==typeof global&&global&&global.Object&&global,Xt=Gt[typeof self]&&self&&self.Object&&self,Zt=Gt[typeof window]&&window&&window.Object&&window,Jt=Kt&&Kt.exports===zt&&zt,Qt=Yt||Zt!==(this&&this.window)&&Zt||Xt||this,en=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qt._=en,define(function(){return en})):zt&&Kt?Jt?(Kt.exports=en)._=en:zt._=en:Qt._=en}.call(this),/**
 * Restful Resources service for AngularJS apps
 * @version v1.4.0 - 2015-04-03 * @link https://github.com/mgonto/restangular
 * @author Martin Gontovnikas <martin@gon.to>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(){var e=angular.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function n(e,t,n,r){var i={};return _.each(_.keys(r),function(o){var a=r[o];a.params=_.extend({},a.params,e.defaultRequestParams[a.method.toLowerCase()]),_.isEmpty(a.params)&&delete a.params,i[o]=e.isSafe(a.method)?function(){return t(_.extend(a,{url:n}))}:function(e){return t(_.extend(a,{url:n,data:e}))}}),i}e.configuration=t;var r=["get","head","options","trace","getlist"];t.isSafe=function(e){return _.contains(r,e.toLowerCase())};var i=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return _.isUndefined(t.absoluteUrl)||_.isNull(t.absoluteUrl)?e&&i.test(e):t.absoluteUrl},t.absoluteUrl=_.isUndefined(t.absoluteUrl)?!0:t.absoluteUrl,e.setSelfLinkAbsoluteUrl=function(e){t.absoluteUrl=e},t.baseUrl=_.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpValues=function(e,n){return _.defaults(n,e,t.defaultHttpFields)},t.encodeIds=_.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var r=[],i=n||e;return _.isUndefined(n)?r.push("common"):_.isArray(e)?r=e:r.push(e),_.each(r,function(e){t.defaultRequestParams[e]=i}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=_.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.jsonp=_.isUndefined(t.jsonp)?!1:t.jsonp,e.setJsonp=function(e){t.jsonp=e},t.isOverridenMethod=function(e,n){var r=n||t.methodOverriders;return!_.isUndefined(_.find(r,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!_.has(t.urlCreatorFactory,e))throw new Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},e.setRestangularFields=function(e){return t.restangularFields=_.extend(t.restangularFields,e),this},t.isRestangularized=function(e){return!!e[t.restangularFields.restangularized]},t.setFieldToElem=function(e,t,n){var r=e.split("."),i=t;return _.each(_.initial(r),function(e){i[e]={},i=i[e]}),i[_.last(r)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),r=t;return _.each(n,function(e){r&&(r=r[e])}),angular.copy(r)},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!_.isUndefined(e)&&!_.isNull(e)},t.setUrlToElem=function(e,n){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=_.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],r=t.isValidId(n)?n:t.getIdFromElem(e);return r},t.responseInterceptors=t.responseInterceptors||[],t.defaultResponseInterceptor=function(e){return e},t.responseExtractor=function(e,n,r,i,o,a){var s=angular.copy(t.responseInterceptors);s.push(t.defaultResponseInterceptor);var l=e;return _.each(s,function(e){l=e(l,n,r,i,o,a)}),l},e.addResponseInterceptor=function(e){return t.responseInterceptors.push(e),this},t.errorInterceptors=t.errorInterceptors||[],e.addErrorInterceptor=function(e){return t.errorInterceptors.push(e),this},e.setResponseInterceptor=e.addResponseInterceptor,e.setResponseExtractor=e.addResponseInterceptor,e.setErrorInterceptor=e.addErrorInterceptor,t.requestInterceptors=t.requestInterceptors||[],t.defaultInterceptor=function(e,t,n,r,i,o,a){return{element:e,headers:i,params:o,httpConfig:a}},t.fullRequestInterceptor=function(e,n,r,i,o,a,s){var l=angular.copy(t.requestInterceptors),u=t.defaultInterceptor(e,n,r,i,o,a,s);return _.reduce(l,function(e,t){return _.extend(e,t(e.element,n,r,i,e.headers,e.params,e.httpConfig))},u)},e.addRequestInterceptor=function(e){return t.requestInterceptors.push(function(t,n,r,i,o,a,s){return{headers:o,params:a,element:e(t,n,r,i),httpConfig:s}}),this},e.setRequestInterceptor=e.addRequestInterceptor,e.addFullRequestInterceptor=function(e){return t.requestInterceptors.push(e),this},e.setFullRequestInterceptor=e.addFullRequestInterceptor,t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},e.setRestangularizePromiseInterceptor=function(e){return t.restangularizePromiseInterceptor=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return _.isArray(e)?t.shouldSaveParent=function(t){return!_.contains(e,t)}:_.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=_.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(n,r,i){var o=null,a=null;2===arguments.length?a=r:(a=i,o=r);var s=t.transformers[n];return s||(s=t.transformers[n]=[]),s.push(function(e,t){return _.isNull(o)||e===o?a(t):t}),e},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,r,i,o){if(!o&&!t.transformLocalElements&&!e[t.restangularFields.fromServer])return e;var a=t.transformers[r],s=e;return a&&_.each(a,function(e){s=e(n,s)}),t.onElemRestangularized(s,n,r,i)},t.transformLocalElements=_.isUndefined(t.transformLocalElements)?!1:t.transformLocalElements,e.setTransformOnlyServerElements=function(e){t.transformLocalElements=!e},t.fullResponse=_.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var o=function(){};o.prototype.setConfig=function(e){return this.config=e,this},o.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},o.prototype.resource=function(e,r,i,o,a,s,l,u){var c=_.defaults(a||{},this.config.defaultRequestParams.common),d=_.defaults(o||{},this.config.defaultHeaders);l&&(t.isSafe(u)?d["If-None-Match"]=l:d["If-Match"]=l);var p=this.base(e);if(s){var f="";/\/$/.test(p)||(f+="/"),f+=s,p+=f}return this.config.suffix&&-1===p.indexOf(this.config.suffix,p.length-this.config.suffix.length)&&!this.config.getUrlFromElem(e)&&(p+=this.config.suffix),e[this.config.restangularFields.httpConfig]=void 0,n(this.config,r,p,{getList:this.config.withHttpValues(i,{method:"GET",params:c,headers:d}),get:this.config.withHttpValues(i,{method:"GET",params:c,headers:d}),jsonp:this.config.withHttpValues(i,{method:"jsonp",params:c,headers:d}),put:this.config.withHttpValues(i,{method:"PUT",params:c,headers:d}),post:this.config.withHttpValues(i,{method:"POST",params:c,headers:d}),remove:this.config.withHttpValues(i,{method:"DELETE",params:c,headers:d}),head:this.config.withHttpValues(i,{method:"HEAD",params:c,headers:d}),trace:this.config.withHttpValues(i,{method:"TRACE",params:c,headers:d}),options:this.config.withHttpValues(i,{method:"OPTIONS",params:c,headers:d}),patch:this.config.withHttpValues(i,{method:"PATCH",params:c,headers:d})})};var a=function(){};a.prototype=new o,a.prototype.normalizeUrl=function(e){var t=/(http[s]?:\/\/)?(.*)?/.exec(e);return t[2]=t[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof t[1]?t[1]+t[2]:t[2]},a.prototype.base=function(e){var n=this;return _.reduce(this.parentsArray(e),function(e,r){var i,o=n.config.getUrlFromElem(r);if(o){if(n.config.isAbsoluteUrl(o))return o;i=o}else if(i=r[n.config.restangularFields.route],r[n.config.restangularFields.restangularCollection]){var a=r[n.config.restangularFields.ids];a&&(i+="/"+a.join(","))}else{var s;s=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(r):n.config.getIdFromElem(r),t.isValidId(s)&&!r.singleOne&&(i+="/"+(n.config.encodeIds?encodeURIComponent(s):s))}return e=e.replace(/\/$/,"")+"/"+i,n.normalizeUrl(e)},this.config.baseUrl)},a.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},a.prototype.fetchRequestedUrl=function(e,n){function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function i(e,t,n){for(var i=r(e),o=0;o<i.length;o++)t.call(n,e[i[o]],i[o]);return i}function o(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var a=this.fetchUrl(e,n),s=e[t.restangularFields.reqParams];if(!s)return a+(this.config.suffix||"");var l=[];return i(s,function(e,t){null!==e&&void 0!==e&&(angular.isArray(e)||(e=[e]),angular.forEach(e,function(e){angular.isObject(e)&&(e=angular.toJson(e)),l.push(o(t)+"="+o(e))}))}),a+(this.config.suffix||"")+(-1===a.indexOf("?")?"?":"&")+l.join("&")},t.urlCreatorFactory.path=a};var t={};e.init(this,t),this.$get=["$http","$q",function(n,r){function i(t){function o(e,n,r,i,o){if(n[t.restangularFields.route]=r,n[t.restangularFields.getRestangularUrl]=_.bind(W.fetchUrl,W,n),n[t.restangularFields.getRequestedUrl]=_.bind(W.fetchRequestedUrl,W,n),n[t.restangularFields.addRestangularMethod]=_.bind(H,n),n[t.restangularFields.clone]=_.bind(v,n,n),n[t.restangularFields.reqParams]=_.isEmpty(i)?null:i,n[t.restangularFields.withHttpConfig]=_.bind(k,n),n[t.restangularFields.plain]=_.bind(m,n,n),n[t.restangularFields.restangularized]=!0,n[t.restangularFields.one]=_.bind(a,n,n),n[t.restangularFields.all]=_.bind(s,n,n),n[t.restangularFields.several]=_.bind(l,n,n),n[t.restangularFields.oneUrl]=_.bind(u,n,n),n[t.restangularFields.allUrl]=_.bind(c,n,n),n[t.restangularFields.fromServer]=!!o,e&&t.shouldSaveParent(r)){var d=t.getIdFromElem(e),p=t.getUrlFromElem(e),f=_.union(_.values(_.pick(t.restangularFields,["route","singleOne","parentResource"])),t.extraFields),h=_.pick(e,f);t.isValidId(d)&&t.setIdToElem(h,d,r),t.isValidId(p)&&t.setUrlToElem(h,p,r),n[t.restangularFields.parentResource]=h}else n[t.restangularFields.parentResource]=null;return n}function a(e,n,r,i){var o;if(_.isNumber(n)||_.isNumber(e))throw o="You're creating a Restangular entity with the number ",o+="instead of the route or the parent. For example, you can't call .one(12).",new Error(o);if(_.isUndefined(n))throw o="You're creating a Restangular entity either without the path. ",o+="For example you can't call .one(). Please check if your arguments are valid.",new Error(o);var a={};return t.setIdToElem(a,r,n),t.setFieldToElem(t.restangularFields.singleOne,a,i),y(e,a,n,!1)}function s(e,t){return b(e,[],t,!1)}function l(e,n){var r=[];return r[t.restangularFields.ids]=Array.prototype.splice.call(arguments,2),b(e,r,n,!1)}function u(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),y(e,i,n,!1)}function c(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),b(e,i,n,!1)}function d(e,n,r){return e.call=_.bind(p,e),e.get=_.bind(f,e),e[t.restangularFields.restangularCollection]=n,n&&(e.push=_.bind(p,e,"push")),e.$object=r,t.restangularizePromiseInterceptor&&t.restangularizePromiseInterceptor(e),e}function p(e){var n=r.defer(),i=arguments,o={};return this.then(function(t){var r=Array.prototype.slice.call(i,1),a=t[e];a.apply(t,r),o=t,n.resolve(t)}),d(n.promise,this[t.restangularFields.restangularCollection],o)}function f(e){var n=r.defer(),i={};return this.then(function(t){i=t[e],n.resolve(i)}),d(n.promise,this[t.restangularFields.restangularCollection],i)}function h(e,n,r,i){return _.extend(i,r),t.fullResponse?e.resolve(_.extend(n,{data:r})):void e.resolve(r)}function m(e){if(_.isArray(e)){var n=[];return _.each(e,function(e){n.push(t.isRestangularized(e)?m(e):e)}),n}return _.omit(e,_.values(_.omit(t.restangularFields,"id")))}function g(e){e[t.restangularFields.customOperation]=_.bind(L,e),_.each(["put","post","get","delete"],function(t){_.each(["do","custom"],function(n){var r,i="delete"===t?"remove":t,o=n+t.toUpperCase();r="put"!==i&&"post"!==i?L:function(e,t,n,r,i){return _.bind(L,this)(e,n,r,i,t)},e[o]=_.bind(r,e,i)})}),e[t.restangularFields.customGETLIST]=_.bind(C,e),e[t.restangularFields.doGETLIST]=e[t.restangularFields.customGETLIST]}function v(e,n){var r=angular.copy(e,n);return y(r[t.restangularFields.parentResource],r,r[t.restangularFields.route],!0)}function y(e,n,r,i,a,s){var l=t.onBeforeElemRestangularized(n,!1,r),u=o(e,l,r,s,i);return t.useCannonicalId&&(u[t.restangularFields.cannonicalId]=t.getIdFromElem(u)),a&&(u[t.restangularFields.getParentList]=function(){return a}),u[t.restangularFields.restangularCollection]=!1,u[t.restangularFields.get]=_.bind(M,u),u[t.restangularFields.getList]=_.bind(C,u),u[t.restangularFields.put]=_.bind(N,u),u[t.restangularFields.post]=_.bind(O,u),u[t.restangularFields.remove]=_.bind(A,u),u[t.restangularFields.head]=_.bind(D,u),u[t.restangularFields.trace]=_.bind(I,u),u[t.restangularFields.options]=_.bind(P,u),u[t.restangularFields.patch]=_.bind(R,u),u[t.restangularFields.save]=_.bind(T,u),g(u),t.transformElem(u,!1,r,B,!0)}function b(e,n,r,i,a){var s=t.onBeforeElemRestangularized(n,!0,r),l=o(e,s,r,a,i);return l[t.restangularFields.restangularCollection]=!0,l[t.restangularFields.post]=_.bind(O,l,null),l[t.restangularFields.remove]=_.bind(A,l),l[t.restangularFields.head]=_.bind(D,l),l[t.restangularFields.trace]=_.bind(I,l),l[t.restangularFields.putElement]=_.bind(E,l),l[t.restangularFields.options]=_.bind(P,l),l[t.restangularFields.patch]=_.bind(R,l),l[t.restangularFields.get]=_.bind(w,l),l[t.restangularFields.getList]=_.bind(C,l,null),g(l),t.transformElem(l,!0,r,B,!0)}function $(e,t,n){var r=b(e,t,n,!1);return _.each(r,function(t){y(e,t,n,!1)}),r}function w(e,t,n){return this.customGET(e.toString(),t,n)}function E(e,n,i){var o=this,a=this[e],s=r.defer(),l=[];return l=t.transformElem(l,!0,a[t.restangularFields.route],B),a.put(n,i).then(function(t){var n=v(o);n[e]=t,l=n,s.resolve(n)},function(e){s.reject(e)}),d(s.promise,!0,l)}function x(e,n,r,i,o,a){var s=t.responseExtractor(e,n,r,i,o,a),l=o.headers("ETag");return s&&l&&(s[t.restangularFields.etag]=l),s}function C(e,i,o){var a=this,s=r.defer(),l="getList",u=W.fetchUrl(this,e),c=e||a[t.restangularFields.route],p=t.fullRequestInterceptor(null,l,c,u,o||{},i||{},this[t.restangularFields.httpConfig]||{}),f=[];f=t.transformElem(f,!0,c,B);var m="getList";t.jsonp&&(m="jsonp");var g=function(n){var r=n.data,i=n.config.params,o=x(r,l,c,u,n,s);if((_.isUndefined(o)||""===o)&&(o=[]),!_.isArray(o))throw new Error("Response for getList SHOULD be an array and not an object or something else");var d=_.map(o,function(n){return a[t.restangularFields.restangularCollection]?y(a[t.restangularFields.parentResource],n,a[t.restangularFields.route],!0,o):y(a,n,e,!0,o)});d=_.extend(o,d),a[t.restangularFields.restangularCollection]?h(s,n,b(a[t.restangularFields.parentResource],d,a[t.restangularFields.route],!0,i),f):h(s,n,b(a,d,e,!0,i),f)};return W.resource(this,n,p.httpConfig,p.headers,p.params,e,this[t.restangularFields.etag],l)[m]().then(g,function(e){304===e.status&&a[t.restangularFields.restangularCollection]?h(s,e,a,f):_.every(t.errorInterceptors,function(t){return t(e,s,g)!==!1})&&s.reject(e)}),d(s.promise,!0,f)}function k(e){return this[t.restangularFields.httpConfig]=e,this}function T(e,n){return this[t.restangularFields.fromServer]?this[t.restangularFields.put](e,n):_.bind(S,this)("post",void 0,e,void 0,n)}function S(e,i,o,a,s){var l=this,u=r.defer(),c=o||{},p=i||this[t.restangularFields.route],f=W.fetchUrl(this,i),g=a||this,v=g[t.restangularFields.etag]||("post"!==e?this[t.restangularFields.etag]:null);_.isObject(g)&&t.isRestangularized(g)&&(g=m(g));var b=t.fullRequestInterceptor(g,e,p,f,s||{},c||{},this[t.restangularFields.httpConfig]||{}),$={};$=t.transformElem($,!1,p,B);var w=function(n){var r=n.data,i=n.config.params,o=x(r,e,p,f,n,u);if(o)if("post"!==e||l[t.restangularFields.restangularCollection]){var a=y(l[t.restangularFields.parentResource],o,l[t.restangularFields.route],!0,null,i);a[t.restangularFields.singleOne]=l[t.restangularFields.singleOne],h(u,n,a,$)}else{var a=y(l[t.restangularFields.parentResource],o,p,!0,null,i);h(u,n,a,$)}else h(u,n,void 0,$)},E=function(n){304===n.status&&t.isSafe(e)?h(u,n,l,$):_.every(t.errorInterceptors,function(e){return e(n,u,w)!==!1})&&u.reject(n)},C=e,k=_.extend({},b.headers),T=t.isOverridenMethod(e);return T?(C="post",k=_.extend(k,{"X-HTTP-Method-Override":"remove"===e?"DELETE":e.toUpperCase()})):t.jsonp&&"get"===C&&(C="jsonp"),t.isSafe(e)?T?W.resource(this,n,b.httpConfig,k,b.params,i,v,C)[C]({}).then(w,E):W.resource(this,n,b.httpConfig,k,b.params,i,v,C)[C]().then(w,E):W.resource(this,n,b.httpConfig,k,b.params,i,v,C)[C](b.element).then(w,E),d(u.promise,!1,$)}function M(e,t){return _.bind(S,this)("get",void 0,e,void 0,t)}function A(e,t){return _.bind(S,this)("remove",void 0,e,void 0,t)}function N(e,t){return _.bind(S,this)("put",void 0,e,void 0,t)}function O(e,t,n,r){return _.bind(S,this)("post",e,n,t,r)}function D(e,t){return _.bind(S,this)("head",void 0,e,void 0,t)}function I(e,t){return _.bind(S,this)("trace",void 0,e,void 0,t)}function P(e,t){return _.bind(S,this)("options",void 0,e,void 0,t)}function R(e,t,n){return _.bind(S,this)("patch",void 0,t,e,n)}function L(e,t,n,r,i){return _.bind(S,this)(e,t,n,i,r)}function H(e,n,r,i,o,a){var s;s="getList"===n?_.bind(C,this,r):_.bind(L,this,n,r);var l=function(e,t,n){var r=_.defaults({params:e,headers:t,elem:n},{params:i,headers:o,elem:a});return s(r.params,r.headers,r.elem)};this[e]=t.isSafe(n)?l:function(e,t,n){return l(t,n,e)}}function j(n){var r=angular.copy(_.omit(t,"configuration"));return e.init(r,r),n(r),i(r)}function F(e,n){var r=_.values(t.restangularFields),i={},o=(n||B).all(e);i.one=_.bind(a,n||B,n,e),i.post=_.bind(o.post,o),i.getList=_.bind(o.getList,o);for(var s in o)o.hasOwnProperty(s)&&_.isFunction(o[s])&&!_.contains(r,s)&&(i[s]=_.bind(o[s],o));return i}var B={},W=new t.urlCreatorFactory[t.urlCreator];return W.setConfig(t),e.init(B,t),B.copy=_.bind(v,B),B.service=_.bind(F,B),B.withConfig=_.bind(j,B),B.one=_.bind(a,B,null),B.all=_.bind(s,B,null),B.several=_.bind(l,B,null),B.oneUrl=_.bind(u,B,null),B.allUrl=_.bind(c,B,null),B.stripRestangular=_.bind(m,B),B.restangularizeElement=_.bind(y,B),B.restangularizeCollection=_.bind($,B),B}return i(t)}]})}(),/*! 
 * angular-loading-bar v0.7.1
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2015 Wes Cruver
 * License: MIT
 */
/*
 * angular-loading-bar
 *
 * intercepts XHR requests and creates a loading bar.
 * Based on the excellent nprogress work by rstacruz (more info in readme)
 *
 * (c) 2013 Wes Cruver
 * License: MIT
 */
function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,r,i,o,a){function s(){r.cancel(u),a.complete(),d=0,c=0}function l(t){var r,i=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(r=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:i);var a=void 0!==r?void 0!==r.get(t.url):!1;return void 0!==t.cached&&a!==t.cached?t.cached:(t.cached=a,a)}var u,c=0,d=0,p=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||l(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===c&&(u=r(function(){a.start()},p)),c++,a.set(d/c)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=c?s():a.set(d/c)),e):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=c?s():a.set(d/c)),t.reject(e)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,r){function i(){c||(c=e.get("$animate"));var i=t.find(f).eq(0);n.cancel(p),v||(r.$broadcast("cfpLoadingBar:started"),v=!0,$&&c.enter(h,i,angular.element(i[0].lastChild)),b&&c.enter(g,i,angular.element(i[0].lastChild)),o(w))}function o(e){if(v){var t=100*e+"%";m.css("width",t),y=e,n.cancel(d),d=n(function(){a()},250)}}function a(){if(!(s()>=1)){var e=0,t=s();e=t>=0&&.25>t?(3*Math.random()+3)/100:t>=.25&&.65>t?3*Math.random()/100:t>=.65&&.9>t?2*Math.random()/100:t>=.9&&.99>t?.005:0;var n=s()+e;o(n)}}function s(){return y}function l(){y=0,v=!1}function u(){c||(c=e.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),o(1),n.cancel(p),p=n(function(){var e=c.leave(h,l);e&&e.then&&e.then(l),c.leave(g)},500)}var c,d,p,f=this.parentSelector,h=angular.element(this.loadingBarTemplate),m=h.find("div").eq(0),g=angular.element(this.spinnerTemplate),v=!1,y=0,b=this.includeSpinner,$=this.includeBar,w=this.startSize;return{start:i,set:o,status:s,inc:a,complete:u,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),!function(e,t){var n=e.angular;if(n!==t){var r=n.module("parse-angular",[]);r.run(["$q","$window",function(e,t){if(!n.isUndefined(t.Parse)&&n.isObject(t.Parse)){var r=t.Parse,i={Object:{prototype:["save","fetch","destroy"],"static":["saveAll","destroyAll"]},Collection:{prototype:["fetch"],"static":[]},Query:{prototype:["find","first","count","get"],"static":[]},Cloud:{prototype:[],"static":["run"]},User:{prototype:["signUp"],"static":["requestPasswordReset","logIn"]},FacebookUtils:{prototype:[],"static":["logIn","link","unlink"]}};for(var o in i){var a=o,s=i[o],l=s.prototype,u=s["static"];l.forEach(function(t){var n=r[a].prototype[t];r[a].prototype[t]=function(){return n.apply(this,arguments).then(function(t){var n=e.defer();return n.resolve(t),n.promise},function(t){var n=e.defer();return n.reject(t),n.promise})}}),u.forEach(function(t){var n=r[a][t];r[a][t]=function(){return n.apply(this,arguments).then(function(t){var n=e.defer();return n.resolve(t),n.promise},function(t){var n=e.defer();return n.reject(t),n.promise})}})}}}]),n.module("parse-angular.enhance",["parse-angular"]).run(["$q","$window",function(e,t){function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}if(!n.isUndefined(t.Parse)&&n.isObject(t.Parse)){var i=t.Parse;i.Object.getClass=function(e){return i.Object._classMap[e]};var o=i.Object.extend;i.Object.extend=function(e){var t=o.apply(this,arguments);if(i._.isObject(e)&&i._.isArray(e.attrs)){var n=e.attrs;i._.each(n,function(e){var n=r(e);t.prototype["get"+n]||(t.prototype["get"+n]=function(){return this.get(e)}),t.prototype["set"+n]||(t.prototype["set"+n]=function(t){return this.set(e,t),this})})}return t},i.Collection._classMap={};var a=i.Collection.extend;i.Collection.extend=function(e){var t=a.apply(this,arguments);return e&&e.className&&(i.Collection._classMap[e.className]=t),t},i.Collection.getClass=function(e){return i.Collection._classMap[e]},i.Collection.prototype=n.extend(i.Collection.prototype,{loadMore:function(e){if(!n.isUndefined(this.query)){var t=-1==this.query._limit?100:this.query._limit,r=this.query._skip;r+=t,this.query.skip(r);var i=this;return this.query.find().then(function(n){return e&&e.add===!1||i.add(n),n.length<t&&(i.hasMoreToLoad=!1),n})}}})}}])}}(this),function(e,t,n){"use strict";function r(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(function(t){return r(e,t)}):t&&Array.isArray(t.or)?t.or.some(function(t){return r(e,t)}):t&&t.not?!r(e,t.not):!1}function i(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce(function(t,n){return t?t:i(e,n)},null):null}n&&n.module("reTree",[]).factory("reTree",[function(){return{test:r,exec:i}}]),t&&(t.reTree={test:r,exec:i}),e&&(e.exports={test:r,exec:i})}("undefined"==typeof module?null:module,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),function(e){"use strict";e.module("ng.deviceDetector",["reTree"]).constant("BROWSERS",{CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",MS_EDGE:"ms-edge",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("DEVICES",{ANDROID:"android",I_PAD:"ipad",IPHONE:"iphone",I_POD:"ipod",BLACKBERRY:"blackberry",FIREFOX_OS:"firefox-os",CHROME_BOOK:"chrome-book",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("OS",{WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOX_OS:"firefox-os",CHROME_OS:"chrome-os",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",UNKNOWN:"unknown"}).constant("OS_VERSIONS",{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",UNKNOWN:"unknown"}).service("detectUtils",["deviceDetector","DEVICES","BROWSERS","OS",function(e,t,n,r){var i=e;this.isMobile=function(){return"unknown"!==i.device},this.isAndroid=function(){return i.device===t.ANDROID||i.OS===r.ANDROID},this.isIOS=function(){return i.os===r.IOS||i.device===t.I_POD||i.device===t.IPHONE}}]).factory("deviceDetector",["$window","DEVICES","BROWSERS","OS","OS_VERSIONS","reTree",function(e,t,n,r,i,o){var a={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:/\bMac OS\b/,IOS:{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},s={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/]},{not:{or:[/\bOPR\b/,/\bEdge\b/]}}]},FIREFOX:/\bFirefox\b/,SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdge\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/]},MS_EDGE:{or:[/\bEdge\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},l={ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},I_PAD:/\biPad\b/,IPHONE:/\biPhone\b/,I_POD:/\biPod\b/,BLACKBERRY:/\bblackberry\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},u={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]}},c={CHROME:/\bChrome\/([\d\.]+)\b/,FIREFOX:/\bFirefox\/([\d\.]+)\b/,SAFARI:/\bVersion\/([\d\.]+)\b/,OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdge\/([\d\.]+)\b/},d=Object.keys(c).reduce(function(e,t){return e[n[t]]=c[t],e},{}),p=e.navigator.userAgent,f={raw:{userAgent:p,os:{},browser:{},device:{}}};if(f.raw.os=Object.keys(r).reduce(function(e,t){return e[r[t]]=o.test(p,a[t]),e},{}),f.raw.browser=Object.keys(n).reduce(function(e,t){return e[n[t]]=o.test(p,s[t]),e},{}),f.raw.device=Object.keys(t).reduce(function(e,n){return e[t[n]]=o.test(p,l[n]),e},{}),f.raw.os_version=Object.keys(i).reduce(function(e,t){return e[i[t]]=o.test(p,u[t]),e},{}),f.os=[r.WINDOWS,r.IOS,r.MAC,r.ANDROID,r.LINUX,r.UNIX,r.FIREFOX_OS,r.CHROME_OS,r.WINDOWS_PHONE,r.PS4,r.VITA].reduce(function(e,t){return e===r.UNKNOWN&&f.raw.os[t]?t:e},r.UNKNOWN),f.browser=[n.CHROME,n.FIREFOX,n.SAFARI,n.OPERA,n.IE,n.MS_EDGE,n.PS4,n.VITA].reduce(function(e,t){return e===n.UNKNOWN&&f.raw.browser[t]?t:e},n.UNKNOWN),f.device=[t.ANDROID,t.I_PAD,t.IPHONE,t.I_POD,t.BLACKBERRY,t.FIREFOX_OS,t.CHROME_BOOK,t.WINDOWS_PHONE,t.PS4,t.VITA].reduce(function(e,n){return e===t.UNKNOWN&&f.raw.device[n]?n:e},t.UNKNOWN),f.os_version=[i.WINDOWS_3_11,i.WINDOWS_95,i.WINDOWS_ME,i.WINDOWS_98,i.WINDOWS_CE,i.WINDOWS_2000,i.WINDOWS_XP,i.WINDOWS_SERVER_2003,i.WINDOWS_VISTA,i.WINDOWS_7,i.WINDOWS_8_1,i.WINDOWS_8,i.WINDOWS_10,i.WINDOWS_PHONE_7_5,i.WINDOWS_PHONE_10,i.WINDOWS_NT_4_0].reduce(function(e,t){return e===i.UNKNOWN&&f.raw.os_version[t]?t:e},i.UNKNOWN),f.browser_version="0",f.browser!==n.UNKNOWN){var h=d[f.browser],m=o.exec(p,h);m&&(f.browser_version=m[1])}return f.isMobile=function(){return[t.ANDROID,t.I_PAD,t.IPHONE,t.I_POD,t.BLACKBERRY,t.FIREFOX_OS,t.CHROME_BOOK,t.WINDOWS_PHONE,t.VITA].some(function(e){return f.device==e})},f.isTablet=function(){return[t.I_PAD,t.FIREFOX_OS,t.CHROME_BOOK].some(function(e){return f.device==e})},f.isDesktop=function(){return[t.PS4,t.UNKNOWN].some(function(e){return f.device==e})},f}]).directive("deviceDetector",["deviceDetector",function(e){return{restrict:"A",link:function(t,n){n.addClass("os-"+e.os),n.addClass("browser-"+e.browser),n.addClass("device-"+e.device)}}}])}(angular),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.apiCheck=t():e.apiCheck=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i);t["default"]=o["default"],e.exports=t["default"]},function(e,t,n){"use strict";function r(){function t(r,o,a){if(t.config.disabled||e.exports.globalConfig.disabled)return{apiTypes:{},argTypes:{},passed:!0,message:"",failed:!1};n(arguments),Array.isArray(r)?o=Array.prototype.slice.call(o):(r=[r],o=[o]);var s=l(r,o);s.length||(s=i(r,o));var u=c(r,o);return u.args=o,s.length?(u.message=t.getErrorMessage(r,o,s,a),u.failed=!0,u.passed=!1):(u.message="",u.failed=!1,u.passed=!0),u}function n(e){var n=e[0],r=e[1],o=Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length;if(Array.isArray(n)&&!o)throw new Error(a(n,[r],["If an array is provided for the api, an array must be provided for the args as well."],{prefix:"apiCheck"}));var s=i(E.checkApiCheckApi,e);if(s.length){var l=t.getErrorMessage(E.checkApiCheckApi,e,s,{prefix:"apiCheck"});t.handleErrorMessage(l,!0)}}function r(e){return function(n,r,i){var o=t(n,r,i);return t.handleErrorMessage(o.message,e),o}}function o(e,t){if(t&&e)throw new Error(e);e&&console.warn(e)}function a(e,n){function r(){var e=l.onlyPrefix;return e||(e=((u.prefix||"")+" "+(l.prefix||"")).trim()),e}function i(){var e=l.onlySuffix;return e||(e=((l.suffix||"")+" "+(u.suffix||"")).trim()),e}function o(){var e=l.url;return e||(e=u.docsBaseUrl&&l.urlSuffix&&(""+u.docsBaseUrl+l.urlSuffix).trim()),e}var a=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],l=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],u=t.config.output||{},c=r(),d=i(),p=o(),f="apiCheck failed! "+a.join(", "),h="\n\n"+s(e,n);return(c+" "+f+" "+d+" "+(p||"")+h).trim()}function s(e,t){function n(e){h(e,function(t,r){-1===u.indexOf(t)&&(u.push(t),"object"==typeof t?n(e):"function"==typeof t&&(e[r]=t.displayName||t.name||"anonymous function"))})}function r(e){return e&&e.length?(e&&1===e.length&&(e=e[0]),p(e,null,2)):"nothing"}function i(){var e="\n",n=!0;t&&1===t.length&&(n="object"==typeof t[0]&&null!==t[0]?!!Object.keys(t[0]).length:!1);var r="type"+(n?"s":""),i=e+e;return"You passed:"+e+d+i+("With the "+r+":"+e+s+i)+("The API calls for:"+e+a)}var o=c(e,t),a=o.apiTypes,s=o.argTypes,l=Array.prototype.slice.call(t||[]),u=[];n(l);var d=r(l);return s=r(s),a=r(a),i()}function c(n,r){n=v(n),r=v(r);var i=n.map(function(n,i){var o=e.exports.globalConfig.hasOwnProperty("verbose");return y(n,{terse:o?!e.exports.globalConfig.verbose:!t.config.verbose,obj:r[i],addHelpers:!0})}),o=r.map(function(e){return u(e,[])});return{argTypes:o,apiTypes:i}}var d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],m=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_&&arguments.length&&_["throw"](E.getApiCheckInstanceCheckers,arguments,{prefix:"creating an apiCheck instance"});var g={"throw":r(!0),warn:r(!1),getErrorMessage:a,handleErrorMessage:o,config:{output:d.output||{prefix:"",suffix:"",docsBaseUrl:""},verbose:d.verbose||!1,disabled:d.disabled||!1},utils:f};h(g,function(e,n){return t[n]=e});var b=t.disabled||e.exports.globalConfig.disabled;return h(w.getCheckers(b),function(e,n){return t[n]=e}),h(m,function(e,n){return t[n]=e}),t}function i(e,t){for(var n=[],r=!1,i=0,o=0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,p=void 0,f=void 0;(l=e[i++])&&o<t.length;)s=t[o++],d="Argument "+o+(l.isOptional?" (optional)":""),u=l(s,"value",d),p=m(u),c=i>=e.length,f=i>1&&e[i-1].isOptional,p&&c||p&&!c&&!l.isOptional&&!f?(r=!0,n.push(a(u,l,s))):p&&l.isOptional?o--:n.push(g(d)+" passed");return r?n:[]}function o(e,t,n){var r=w.shape({type:w.string,optional:w.bool}),i=w.func.withProperties({__apiCheckData:r}),a=w.shape({__apiCheckData:r}),s=w.oneOfType([i,a])(e,t,n);return m(s)?s:"function"==typeof e||e.hasOwnProperty(e.__apiCheckData.type)?void 0:$(t,n,o.type)}function a(e,t,n){var r=s(t,n);return r=r?" - "+r:"",e.message+r}function s(e,t){var n=e.help;return n?("function"==typeof n&&(n=n(t)),n):""}function l(e,t){var n=e.filter(function(e){return!e.isOptional});return t.length<n.length?["Not enough arguments specified. Requires `"+n.length+"`, you passed `"+t.length+"`"]:[]}function u(e,t){function n(){return e&&Object.keys(e).length}function r(){return-1!==t.indexOf(e)?"[Circular]":(t.push(e),c(e,t))}var i=e&&e.constructor&&e.constructor.name,o=b(e);if("function"===o){if(n()){var a=p(r());return i+" (with properties: "+a+")"}return i}return null===e?"null":"array"!==o&&"object"!==o?o:n()?r():i}function c(e,t){var n={};return h(e,function(e,r){return n[r]=u(e,t)}),n}function d(){var e=w.string.optional,t=w.func.withProperties({type:w.oneOfType([w.string,o]).optional,displayName:w.string.optional,shortType:w.string.optional,notOptional:w.bool.optional,notRequired:w.bool.optional}),n=[w.shape({output:w.shape({prefix:w.string.optional,suffix:w.string.optional,docsBaseUrl:w.string.optional}).strict.optional,verbose:w.bool.optional,disabled:w.bool.optional}).strict.optional,w.objectOf(t).optional],r=[w.typeOrArrayOf(t),w.any.optional,w.shape({prefix:e,suffix:e,urlSuffix:e,onlyPrefix:e,onlySuffix:e,url:e}).strict.optional];return{checkerFnChecker:t,getApiCheckInstanceCheckers:n,checkApiCheckApi:r}}var p=n(2),f=n(3),h=f.each,m=f.isError,g=f.t,v=f.arrayify,y=f.getCheckerDisplay,b=f.typeOf,$=f.getError,w=n(4),E=d();e.exports=r,e.exports.VERSION="7.5.5",e.exports.utils=f,e.exports.globalConfig={verbose:!1,disabled:!1};var _=r({output:{prefix:"apiCheck"}});e.exports.internalChecker=_,h(w,function(t,n){return e.exports[n]=t}),o.type="function with __apiCheckData property and `${function.type}` property"},function(e){function t(e,t){var r=[],i=[];return t=t||function(e,t){return"[Circular "+n(t,r,i)+"]"},function(n,o){var a=o;return"object"==typeof o&&o&&(-1!==r.indexOf(o)?a=t(n,o):(r.push(o),i.push(n))),e&&(a=e(n,a)),a}}function n(e,t,n){var r=t.indexOf(e),i=[n[r]];for(r--;r>=0;r--)t[r][i[0]]===e&&(e=t[r],i.unshift(n[r]));return"~"+i.join(".")}function r(e,n,r,i){return JSON.stringify(e,t(n,i),r)}e.exports=r,r.getSerialize=t},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=o(e),n=void 0;if("array"===t)n=[];else{if("object"!==t)return e;n={}}return u(e,function(e,t){n[t]=e}),n}function o(e){return Array.isArray(e)?"array":e instanceof RegExp?"object":typeof e}function a(e,t){var n=void 0,r=t&&t["short"];return n=r&&e.shortType?e.shortType:!r&&"object"==typeof e.type||"function"===e.type?s(e,t):s(e,t)||e.displayName||e.name}function s(e,t){var n=e.type;if("function"==typeof n){var i=n.__apiCheckData,o=n(t);n=r({__apiCheckData:i},i.type,o)}return n}function l(e){return e?Array.isArray(e)?e:[e]:[]}function u(e,t,n){return Array.isArray(e)?d(e,t,n):c(e,t,n)}function c(e,t,n){var r=void 0,i=Object.prototype.hasOwnProperty;for(var o in e)if(i.call(e,o)&&(r=t.call(n,e[o],o,e),r===!1))return r;return!0}function d(e,t,n){for(var r=void 0,i=e.length,o=0;i>o;o++)if(r=t.call(n,e[o],o,e),r===!1)return r;return!0}function p(e){return e instanceof Error}function f(e,t,n){e=l(e);var r=e.slice(),i=r.pop();return 1===r.length&&(t=" "),r.join(t)+(""+(r.length?t+n:"")+i)}function h(e,t,n){"function"==typeof n&&(n=n({"short":!0}));var r="object"!=typeof n?n:k(n);return new Error(m(e,t)+" must be "+g(r))}function m(e,t){var n=g(e||"value"),r=t?" at "+g(t):"";return""+n+r}function g(e){return"`"+e+"`"}function v(e){return"undefined"==typeof e}function y(e,t,n){return n&&(e=C(),e.isNoop=!0),"string"==typeof e.type&&(e.shortType=e.type),u(t,function(t,n){return e[n]=t}),e.displayName||(e.displayName="apiCheck "+g(e.shortType||e.type||e.name)+" type checker"),e.notRequired||(e=b(e,n)),e.notNullable||w(e,n),e.notOptional||$(e,n),e}function b(e,t){var n=t?C():function(t,n,r,i){if(v(t)&&!e.isOptional){var o=r?" in "+g(r):"",s=a(e,{"short":!0}),l="object"!=typeof s?s:k(s);return new Error("Required "+g(n)+" not specified"+o+". Must be "+g(l))}return e(t,n,r,i)};return _(e,n),n.originalChecker=e,n}function $(e,t){var n=t?C():function(t,n,r,i){return v(t)?void 0:e(t,n,r,i)};_(e,n),n.isOptional=!0,n.displayName=e.displayName+" (optional)",n.originalChecker=e,e.optional=n,E(e,e.optional)}function w(e,t){var n=t?C():function(t,n,r,i){return null!==t?e(t,n,r,i):void 0};_(e,n),n.isNullable=!0,n.displayName=e.displayName+" (nullable)",n.originalChecker=e,e.nullable=n,E(e,e.nullable),e.notOptional||$(e.nullable,t)}function E(e,t){if("object"==typeof t.type)t.type=i(t.type);else{if("function"!=typeof t.type)return void(t.type+=" (optional)");t.type=function(){return e.type.apply(e,arguments)}}t.type.__apiCheckData=i(e.type.__apiCheckData)||{},t.type.__apiCheckData.optional=!0}function _(e,t){u(Object.keys(e),function(n){return t[n]=e[n]})}function x(){}function C(){return function(){}}var k=n(2),T={addOptional:$,getRequiredVersion:b,setupChecker:y,addNullable:w};e.exports={each:u,copy:i,typeOf:o,arrayify:l,getCheckerDisplay:a,isError:p,list:f,getError:h,nAtL:m,t:g,undef:v,checkerHelpers:T,noop:x}},function(e,t,n){"use strict";function r(e){function t(t){var n=t.toLowerCase();return y(function(e,r,i){return a(e)!==n?f(r,i,t):void 0},{type:t},e)}function n(){var t="Function",n=y(function(e,n,r){return"function"!==a(e)?f(n,r,t):void 0},{type:t},e);return n.withProperties=function(t){var n=b.objectOf(b.func)(t,"properties","apiCheck.func.withProperties");if(c(n))throw n;var r=b.shape(t,!0);return r.type.__apiCheckData.type="func.withProperties",y(function(e,t,n){var i=b.func(e,t,n);return c(i)?i:r(e,t,n)},{type:r.type,shortType:"func.withProperties"},e)},n}function r(){var t="Object",n="Object (null ok)",r=y(function(e,t,r){return"object"!==a(e)?f(t,r,n):void 0},{type:n},e),i=y(function(e,t,n){return null===e||c(r(e,t,n))?f(t,n,i.type):void 0},{type:t,nullOk:r},e);return i}function o(t){return y(function(e,n,r){return e instanceof t?void 0:f(n,r,t.name)},{type:t.name},e)}function g(t){var n={__apiCheckData:{optional:!1,type:"enum"},"enum":t},r="oneOf["+t.map(function(e){return i(e)}).join(", ")+"]";return y(function(e,n,i){return t.some(function(t){return t===e})?void 0:f(n,i,r)},{type:n,shortType:r},e)}function $(t){function n(e){return e&&e["short"]?i:t.map(function(t){return u(t,e)})}var r=t.map(function(e){return u(e,{"short":!0})}),i="oneOfType["+r.join(", ")+"]";return n.__apiCheckData={optional:!1,type:"oneOfType"},y(function(e,n,r){return t.some(function(t){return!c(t(e,n,r))})?void 0:f(n,r,i)},{type:n,shortType:i},e)}function w(t){function n(e){return e&&e["short"]?i:u(t,e)}var r=u(t,{"short":!0}),i="arrayOf["+r+"]";return n.__apiCheckData={optional:!1,type:"arrayOf"},y(function(e,n,r){return c(b.array(e))||!e.every(function(e){return!c(t(e))})?f(n,r,i):void 0},{type:n,shortType:i},e)}function E(t){function n(e){return e&&e["short"]?i:u(t,e)}var r=u(t,{"short":!0}),i="objectOf["+r+"]";return n.__apiCheckData={optional:!1,type:"objectOf"},y(function(e,n,r){var o=b.object(e,n,r);if(c(o))return o;var a=s(e,function(e,r){return c(t(e,r,n))?!1:void 0});return a?void 0:f(n,r,i)},{type:n,shortType:i},e)}function _(t){function n(e){return e&&e["short"]?i:u(t,e)}var r=u(t,{"short":!0}),i="typeOrArrayOf["+r+"]";return n.__apiCheckData={optional:!1,type:"typeOrArrayOf"},y(function(e,n,r,o){return c(b.oneOfType([t,b.arrayOf(t)])(e,n,r,o))?f(n,r,i):void 0},{type:n,shortType:i},e)}function x(){function t(t,n){function r(){function e(e,t,n,r,i){function a(n,r,i){"string"==typeof e[t]?e[t]+=i:e[t].__apiCheckData[n]=r}if(n||!i||r.isOptional){if(n){var s=r(o[t],t,null,o);c(s)&&a("error","THIS IS THE PROBLEM: "+s.message," <-- THIS IS THE PROBLEM: "+s.message)}}else{var l="ITEM";r.type&&r.type.__apiCheckData&&(l=r.type.__apiCheckData.type.toUpperCase()),a("missing","MISSING THIS "+l," <-- YOU ARE MISSING THIS")}}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r={},i=n.terse,o=n.obj,a=n.addHelpers,l=n.required;return s(t,function(t,n){var s=o&&o.hasOwnProperty(n),c=v(l)?!t.isOptional:l;i&&!s&&t.isOptional||(r[n]=u(t,{terse:i,obj:o&&o[n],required:c,addHelpers:a})),a&&e(r,n,s,t,c)}),r}function i(){return r.apply(void 0,arguments)}var o={};s(t,function(e,t){o[t]=u(e)}),r.__apiCheckData={strict:!1,optional:!1,type:"shape"};var a=y(function(e,r,i){var o=!n&&b.object(e,r,i);if(c(o))return o;var a=void 0;return i=i?i+(r?"/":""):"",r=r||"",s(t,function(t,n){return e.hasOwnProperty(n)||!t.isOptional?(a=t(e[n],n,""+i+r,e),!c(a)):void 0}),c(a)?a:void 0},{type:r,shortType:"shape"},e);return i.__apiCheckData=l(a.type.__apiCheckData),i.__apiCheckData.strict=!0,a.strict=y(function(e,n,r){var i=a(e,n,r);if(c(i))return i;var o=Object.keys(t),s=Object.keys(e).filter(function(e){return-1===o.indexOf(e)});return s.length?new Error(h(n,r)+" cannot have extra properties: "+m(s.join("`, `"))+".It is limited to "+m(o.join("`, `"))):void 0},{type:i,shortType:"strict shape"},e),a}function n(t,n,i){var o=m(n.join(", ")),a="if "+(t?"all of":"at least one of"),s="specified "+a+" these are not specified: "+o+" (otherwise it's optional)",l="requiredIfNot"+(t?".all":"")+"["+n.join(", ")+"}]",u=r(i,s,l);return y(function(e,r,o,a){var s=a&&a.hasOwnProperty(r),l=t?"every":"some",c=n[l](function(e){return a&&a.hasOwnProperty(e)});return c||s?s?i(e,r,o,a):void 0:f(r,o,u)},{type:u,notRequired:!0},e)}function r(e,t,n){function r(t){return t&&t["short"]?n:u(e)}return r.__apiCheckData={optional:!1,type:"ifNot",description:t},r}return t.ifNot=function(t,n){Array.isArray(t)||(t=[t]);var i=void 0;i=1===t.length?"specified only if "+t[0]+" is not specified":"specified only if none of the following are specified: ["+p(t,", ","and ")+"]";var o="ifNot["+t.join(", ")+"]",a=r(n,i,o);return y(function(e,r,i,o){var s=o&&o.hasOwnProperty(r),l=t.some(function(e){return o&&o.hasOwnProperty(e)});return s===l?f(r,i,a):s?n(e,r,i,o):void 0},{notRequired:!0,type:a,shortType:o},e)},t.onlyIf=function(t,n){t=d(t);var i=void 0;i=1===t.length?"specified only if "+t[0]+" is also specified":"specified only if all of the following are specified: ["+p(t,", ","and ")+"]";var o="onlyIf["+t.join(", ")+"]",a=r(n,i,o);return y(function(e,r,i,o){var s=t.every(function(e){return o.hasOwnProperty(e)});return s?n(e,r,i,o):f(r,i,a)},{type:a,shortType:o},e)},t.requiredIfNot=function(e,t){return Array.isArray(e)||(e=[e]),n(!1,e,t)},t.requiredIfNot.all=function(e,t){if(!Array.isArray(e))throw new Error("requiredIfNot.all must be passed an array");return n(!0,e,t)},t}function C(){var t="function arguments";return y(function(e,n,r){return Array.isArray(e)||c(b.object(e))||c(b.number(e.length))?f(n,r,t):void 0},{type:t},e)}function k(){return y(function(){},{type:"any"},e)}function T(){var t="null";return y(function(e,n,r){return null!==e?f(n,r,t):void 0},{type:t},e)}function S(t,n){var r="Range ("+t+" - "+n+")";return y(function(e,i,o){return"number"!=typeof e||t>e||e>n?f(i,o,r):void 0},{type:r},e)}function M(t){var n="lessThan["+t+"]";return y(function(e,r,i){return"number"!=typeof e||e>t?f(r,i,n):void 0},{type:n},e)}function A(t){var n="greaterThan["+t+"]";return y(function(e,r,i){return"number"!=typeof e||t>e?f(r,i,n):void 0},{type:n},e)}function N(){var t="empty object";return y(function(e,n,r){return"object"!==a(e)||null===e||Object.keys(e).length?f(n,r,t):void 0},{type:t},e)}return{array:t("Array"),bool:t("Boolean"),number:t("Number"),string:t("String"),func:n(),object:r(),emptyObject:N(),instanceOf:o,oneOf:g,oneOfType:$,arrayOf:w,objectOf:E,typeOrArrayOf:_,range:S,lessThan:M,greaterThan:A,shape:x(),args:C(),any:k(),"null":T()}}var i=n(2),o=n(3),a=o.typeOf,s=o.each,l=o.copy,u=o.getCheckerDisplay,c=o.isError,d=o.arrayify,p=o.list,f=o.getError,h=o.nAtL,m=o.t,g=o.checkerHelpers,v=o.undef,y=g.setupChecker,b=e.exports=r();e.exports.getCheckers=r}])}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular"),require("api-check")):"function"==typeof define&&define.amd?define(["angular","api-check"],t):"object"==typeof exports?exports.ngFormly=t(require("angular"),require("api-check")):e.ngFormly=t(e.angular,e.apiCheck)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},i=r(n(1));e.exports=i},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},i=r(n(3)),o=r(n(5)),a=r(n(7)),s=r(n(8)),l=r(n(9)),u=r(n(11)),c=r(n(12)),d=r(n(2)),p=r(n(13)),f=r(n(14)),h=r(n(15)),m=r(n(16)),g=r(n(17)),v=r(n(18)),y="formly";e.exports=y;var b=i.module(y,[]);b.constant("formlyApiCheck",o),b.constant("formlyErrorAndWarningsUrlPrefix",a),b.constant("formlyVersion","6.11.0"),b.provider("formlyUsability",s),b.provider("formlyConfig",l),b.factory("formlyValidationMessages",u),b.factory("formlyUtil",c),b.factory("formlyWarn",d),b.directive("formlyCustomValidation",p),b.directive("formlyField",f),b.directive("formlyFocus",h),b.directive("formlyForm",m),b.run(g),b.run(v)},function(e){"use strict";function t(e,t,r){return function(){if(!e.disableWarnings){var i=Array.prototype.slice.call(arguments),o=i.shift();i.unshift("Formly Warning:"),i.push(""+t+o),r.warn.apply(r,n(i))}}}var n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};e.exports=t,t.$inject=["formlyConfig","formlyErrorAndWarningsUrlPrefix","$log"]},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},i=r(n(4));i.version||(i=window.angular),e.exports=i},function(t){t.exports=e},function(e,t,n){"use strict";function r(e,t){function n(n,i,o,a){var l=a&&a.hasOwnProperty(i),u=e.some(function(e){return a&&a.hasOwnProperty(e)});return u||l?l?t(n,i,o,a):void 0:s.utils.getError(i,o,r)}angular.isArray(e)||(e=[e]);var r="specified if these are not specified: `"+e.join(", ")+"` (otherwise it's optional)";return n.type=r,s.utils.checkerHelpers.setupChecker(n)}function i(e){return s.oneOfType([s.oneOf([null]),e])}var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(n(6)),s=a({output:{prefix:"angular-formly:",docsBaseUrl:n(7)}}),l=s.oneOfType([s.string,s.func]),u=i(s.typeOrArrayOf(s.string)),c=s.objectOf(s.func),d=s.shape.onlyIf("apiCheck",s.func.withProperties({warn:s.func,"throw":s.func,shape:s.func})),p=s.shape.onlyIf("apiCheck",s.oneOf(["throw","warn"])),f=s.shape({name:r("types",s.string).optional,template:s.shape.ifNot("templateUrl",s.string).optional,templateUrl:s.shape.ifNot("template",s.string).optional,types:s.typeOrArrayOf(s.string).optional,overwriteOk:s.bool.optional,validateOptions:s.func.optional,apiCheck:c.optional,apiCheckInstance:d.optional,apiCheckFunction:p.optional,apiCheckOptions:s.object.optional}).strict,h=s.objectOf(s.oneOfType([l,s.shape({expression:l,message:l.optional}).strict])),m=s.oneOfType([s.string,s.object]),g=i(s.shape({preWrapper:i(s.arrayOf(s.func)).optional,postWrapper:i(s.arrayOf(s.func)).optional}).strict),v={$$hashKey:s.any.optional,type:s.shape.ifNot(["template","templateUrl"],s.string).optional,template:s.shape.ifNot(["type","templateUrl"],s.oneOfType([s.string,s.func])).optional,templateUrl:s.shape.ifNot(["type","template"],s.oneOfType([s.string,s.func])).optional,key:s.oneOfType([s.string,s.number]).optional,model:m.optional,className:s.string.optional,id:s.string.optional,expressionProperties:h.optional,data:s.object.optional,templateOptions:s.object.optional,wrapper:u.optional,modelOptions:s.shape({updateOn:s.string.optional,debounce:s.oneOfType([s.objectOf(s.number),s.number]).optional,allowInvalid:s.bool.optional,getterSetter:s.bool.optional,timezone:s.string.optional}).optional,watcher:s.typeOrArrayOf(s.shape({expression:l.optional,listener:l})).optional,validators:s.objectOf(s.oneOfType([l,s.shape({expression:l,message:l.optional}).strict])).optional,noFormControl:s.bool.optional,hide:s.bool.optional,hideExpression:l.optional,ngModelAttrs:s.objectOf(s.shape({expression:s.shape.ifNot(["value","attribute","bound"],s.any).optional,value:s.shape.ifNot("expression",s.any).optional,attribute:s.shape.ifNot("expression",s.any).optional,bound:s.shape.ifNot("expression",s.any).optional}).strict).optional,elementAttributes:s.objectOf(s.string).optional,optionsTypes:s.typeOrArrayOf(s.string).optional,link:s.func.optional,controller:s.oneOfType([s.string,s.func,s.array]).optional,validation:s.shape({show:i(s.bool).optional,messages:s.objectOf(l).optional,errorExistsAndShouldBeVisible:s.bool.optional}).optional,formControl:s.object.optional,value:s.func.optional,runExpressions:s.func.optional,templateManipulators:g.optional,resetModel:s.func.optional,updateInitialValue:s.func.optional,initialValue:s.any.optional,defaultValue:s.any.optional},y=s.shape(v).strict,b=s.shape({formState:s.object.optional,resetModel:s.func.optional,updateInitialValue:s.func.optional,removeChromeAutoComplete:s.bool.optional,templateManipulators:g.optional,wrapper:u.optional}).strict,$=s.shape({$$hashKey:s.any.optional,key:s.oneOfType([s.string,s.number]).optional,fieldGroup:s.arrayOf(s.oneOfType([y,s.object])),className:s.string.optional,options:b.optional,hide:s.bool.optional,hideExpression:l.optional,model:m.optional,form:s.object.optional,elementAttributes:s.objectOf(s.string).optional}).strict,w=angular.copy(v);
w.key=s.string.optional;var E=s.shape({name:s.string,template:s.shape.ifNot("templateUrl",s.oneOfType([s.string,s.func])).optional,templateUrl:s.shape.ifNot("template",s.oneOfType([s.string,s.func])).optional,controller:s.oneOfType([s.func,s.string,s.array]).optional,link:s.func.optional,defaultOptions:s.oneOfType([s.func,s.shape(w)]).optional,"extends":s.string.optional,wrapper:u.optional,data:s.object.optional,validateOptions:s.func.optional,apiCheck:c.optional,apiCheckInstance:d.optional,apiCheckFunction:p.optional,apiCheckOptions:s.object.optional,overwriteOk:s.bool.optional}).strict;angular.extend(s,{formlyTypeOptions:E,formlyFieldOptions:y,formlyExpression:l,formlyWrapperType:f,fieldGroup:$,formOptionsApi:b}),e.exports=s},function(e){e.exports=t},function(e){"use strict";e.exports="https://github.com/formly-js/angular-formly/blob/6.11.0/other/ERRORS_AND_WARNINGS.md#"},function(e,t,n){"use strict";function r(e,t){function n(e,t,n){return arguments.length<3&&(n=t,t=e,e=null),new Error(i(e,t)+(" Field definition: "+o.toJson(n)))}function r(e,t){return t||(t=e,e=null),new Error(i(e,t))}function i(e,n){var r="";return null!==e&&(r=""+t+e),"Formly Error: "+n+". "+r}function a(t){e["throw"](e.formlyWrapperType,t,{prefix:"formlyConfig.setWrapper",urlSuffix:"setwrapper-validation-failed"})}function s(e,t){var n="<formly-transclude></formly-transclude>";if(-1===e.indexOf(n))throw r('Template wrapper templates must use "'+n+'" somewhere in them. This one does not have "<formly-transclude></formly-transclude>" in it: '+e+"\nAdditional information: "+JSON.stringify(t))}var l=this;o.extend(this,{getFormlyError:r,getFieldError:n,checkWrapper:a,checkWrapperTemplate:s,$get:function(){return l}})}var i=function(e){return e&&e.__esModule?e["default"]:e},o=i(n(3));e.exports=r,r.$inject=["formlyApiCheck","formlyErrorAndWarningsUrlPrefix"]},function(e,t,n){"use strict";function r(e,t){function n(e){if(o.isArray(e))o.forEach(e,n);else{if(!o.isObject(e))throw M("You must provide an object or array for setType. You provided: "+JSON.stringify(arguments));r(e),e["extends"]&&i(e),C[e.name]=e}}function r(e){t["throw"](t.formlyTypeOptions,e,{prefix:"formlyConfig.setType",url:"settype-validation-failed"}),e.overwriteOk?e.overwriteOk=void 0:y(e.name,C,e,"types")}function i(e){var t=p(e["extends"],!0,e);l(e,t),u(e,t),c(e,t),d(e,t),a.reverseDeepMerge(e,t),s(e,t)}function s(e,t){e.template&&t.templateUrl?delete e.templateUrl:e.templateUrl&&t.template&&delete e.template}function l(e,t){var n=t.controller;if(o.isDefined(n)){var r=e.controller;o.isDefined(r)?(e.controller=function(e,t){t(n,{$scope:e}),t(r,{$scope:e})},e.controller.$inject=["$scope","$controller"]):e.controller=n}}function u(e,t){var n=t.link;if(o.isDefined(n)){var r=e.link;e.link=o.isDefined(r)?function(){n.apply(void 0,arguments),r.apply(void 0,arguments)}:n}}function c(e,t){var n=t.validateOptions;if(o.isDefined(n)){var r=e.validateOptions,i=e.defaultOptions;e.validateOptions=o.isDefined(r)?function(e){r(e);var t=o.copy(e),s=i;s&&(o.isFunction(s)&&(s=s(t)),a.reverseDeepMerge(t,s)),n(t)}:n}}function d(e,t){var n=t.defaultOptions;if(o.isDefined(n)){var r=e.defaultOptions,i=o.isFunction(r),s=o.isFunction(n);s?e.defaultOptions=function(e){var t=n(e),o={};a.reverseDeepMerge(o,e,t);var s=r;return i&&(s=s(o)),a.reverseDeepMerge(t,s),t}:i&&(e.defaultOptions=function(e){var t={};return a.reverseDeepMerge(t,e,n),r(t)})}}function p(e,t,n){if(!e)return void 0;var r=C[e];if(r||t!==!0)return r;throw M('There is no type by the name of "'+e+'": '+JSON.stringify(n))}function f(e,t){for(var n=!0;n;){n=!1;var r=e,i=t;if(o.isArray(r))return r.map(function(e){return f(e)});if(o.isObject(r))return r.types=h(r),r.name=m(r,i),g(r),k[r.name]=r,r;o.isString(r)&&(e={template:r,name:i},n=!0)}}function h(e){return o.isString(e.types)?[e.types]:o.isDefined(e.types)?e.types:[]}function m(e,t){return e.name||t||e.types.join(" ")||T}function g(t){e.checkWrapper(t),t.template&&e.checkWrapperTemplate(t.template,t),t.overwriteOk?delete t.overwriteOk:y(t.name,k,t,"templateWrappers"),v(t)}function v(e){var t=!o.isArray(e.types)||!e.types.every(o.isString);if(t)throw M("Attempted to create a template wrapper with types that is not a string or an array of strings")}function y(e,t,n,r){t.hasOwnProperty(e)&&_(["Attempting to overwrite "+e+" on "+r+" which is currently",""+JSON.stringify(t[e])+" with "+JSON.stringify(n),'To supress this warning, specify the property "overwriteOk: true"'].join(" "))}function b(e){return k[e||T]}function $(e){var t=[];for(var n in k)k.hasOwnProperty(n)&&k[n].types&&-1!==k[n].types.indexOf(e)&&t.push(k[n]);return t}function w(e){var t=k[e];return delete k[e],t}function E(e){var t=$(e);if(t)return o.isArray(t)?(t.forEach(function(e){return w(e.name)}),t):w(t.name)}function _(){S.disableWarnings||console.warn.apply(console,arguments)}var x=this,C={},k={},T="default",S=this,M=e.getFormlyError;o.extend(this,{setType:n,getType:p,setWrapper:f,getWrapper:b,getWrapperByType:$,removeWrapperByName:w,removeWrappersForType:E,disableWarnings:!1,extras:{disableNgModelAttrsManipulator:!1,ngModelAttrsManipulatorPreferUnbound:!1,removeChromeAutoComplete:!1,defaultHideDirective:"ng-if",getFieldId:null},templateManipulators:{preWrapper:[],postWrapper:[]},$get:function(){return x}})}var i=function(e){return e&&e.__esModule?e["default"]:e},o=i(n(3)),a=i(n(10));e.exports=r,r.$inject=["formlyUsabilityProvider","formlyApiCheck"]},function(e,t,n){"use strict";function r(e,t,n,r,i){return d.isFunction(t)?t(r,n,e,i):e.$eval(t,d.extend({$viewValue:r,$modelValue:n},i))}function i(e,t,n){if(t.id)return t.id;var r=t.type;return!r&&t.template?r="template":!r&&t.templateUrl&&(r="templateUrl"),[e,r,t.key,n].join("_")}function o(e){d.forEach(arguments,function(t,n){n&&d.forEach(t,function(t,n){d.isDefined(e[n])?a(e[n],t)&&o(e[n],t):e[n]=d.copy(t)})})}function a(e,t){return d.isObject(e)&&d.isObject(t)&&Object.getPrototypeOf(e)===Object.getPrototypeOf(t)}function s(e,t){if(e.prop||(e=d.element(e)),e.prop("nodeName")===t.toUpperCase())return e;for(var n=e.children(),r=0;n&&r<n.length;r++){var i=s(n[r],t);if(i)return i}}function l(e){return e&&!d.isArray(e)?e=[e]:e||(e=[]),e}function u(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){var e=arguments;t.forEach(function(t){return t.apply(null,e)})}}var c=function(e){return e&&e.__esModule?e["default"]:e},d=c(n(3));e.exports={formlyEval:r,getFieldId:i,reverseDeepMerge:o,findByNodeName:s,arrayify:l,extendFunction:u}},function(e){"use strict";function t(){function e(e,t,i,o,a){r.messages[e]=n(t,i,o,a)}function t(e,t){r.messages[e]=function(){return t}}function n(e,t,n,r){return function(i,o,a){return a.options.templateOptions[e]?""+t+" "+a.options.templateOptions[e]+" "+n:r}}var r={addTemplateOptionValueMessage:e,addStringMessage:t,messages:{}};return r}e.exports=t},function(e,t,n){"use strict";function r(){return o}var i=function(e){return e&&e.__esModule?e["default"]:e},o=i(n(10));e.exports=r},function(e){"use strict";function t(e,t){function n(e){return e&&angular.isFunction(e.then)}function r(e){var t=["expression","message"],n={};if(angular.forEach(e,function(e,r){if(!angular.isString(e)){var i=[];angular.forEach(e,function(e,n){-1===t.indexOf(n)&&i.push(n)}),i.length&&(n[r]=i)}}),Object.keys(n).length)throw new Error(["Validators are only allowed to be functions or objects that have "+t.join(", ")+".","You provided some extra properties: "+JSON.stringify(n)].join(" "))}return{restrict:"A",require:"ngModel",link:function(i,o,a,s){var l=i.options;l.validators&&r(l.validators),l.validation.messages=l.validation.messages||{},angular.forEach(l.validation.messages,function(t,n){l.validation.messages[n]=function(){return e.formlyEval(i,t,s.$modelValue,s.$viewValue)}});var u=s.hasOwnProperty("$validators")&&!a.hasOwnProperty("useParsers");angular.forEach(l.validators,function(r,o){function a(){var a=p?"$asyncValidators":"$validators";s[a][o]=function(o,a){var s=e.formlyEval(i,r,o,a);return p?n(s)?s:s?t.when(s):t.reject(s):s}}function c(){var t=void 0;s.$parsers.unshift(function(a){var l=e.formlyEval(i,r,s.$modelValue,a);return n(l)?(s.$pending=s.$pending||{},s.$pending[o]=!0,t=l,l.then(function(){t===l&&s.$setValidity(o,!0)})["catch"](function(){t===l&&s.$setValidity(o,!1)})["finally"](function(){1===Object.keys(s.$pending).length?delete s.$pending:delete s.$pending[o]})):s.$setValidity(o,l),a})}var d=r.message;d&&(l.validation.messages[o]=function(){return e.formlyEval(i,d,s.$modelValue,s.$viewValue)}),r=angular.isObject(r)?r.expression:r;var p=!angular.isString(r);u?a():c()})}}}e.exports=t,t.$inject=["formlyUtil","$q"]},function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,l,u,c){function d(e,n,r,s){function u(){n(function(){var n=e.options,i=c();o.forEach(n.expressionProperties,function(o,a){var s=r(a).assign,u=t.when(l.formlyEval(e,o,i,i));u.then(function(e){s(n,e)})})})}function c(t){return e.model&&e.options.key?(o.isDefined(t)&&(e.model[e.options.key]=t),e.model[e.options.key]):void 0}function d(t){l.reverseDeepMerge(t,{data:{},templateOptions:{},validation:{}}),e.to=e.options.templateOptions}function p(){if(o.isFunction(i.extras.getFieldId))e.id=i.extras.getFieldId(e.options,e.model,e);else{var t=e.form&&e.form.$name||e.formId;e.id=l.getFieldId(t,e.options,e.index)}e.options.id=e.id}function f(){o.isDefined(e.options.defaultValue)&&!o.isDefined(e.model[e.options.key])&&(e.model[e.options.key]=e.options.defaultValue)}function m(){e.options.initialValue=e.model&&e.model[e.options.key]}function g(e,t){t&&v(e,t.defaultOptions);var n=x(e.optionsTypes).reverse();o.forEach(n,function(t){v(e,i.getType(t,!0,e).defaultOptions)})}function v(e,t){t&&(o.isFunction(t)&&(t=t(e)),l.reverseDeepMerge(e,t))}function y(e,t){var n=e.key||t||0;o.extend(e,{key:n,value:c,runExpressions:u,resetModel:$,updateInitialValue:E})}function b(e,t){t.model&&e.$watch("options.model",u,!0)}function $(){e.model[e.options.key]=e.options.initialValue,e.options.formControl&&(e.options.formControl.$setViewValue(e.model[e.options.key]),e.options.formControl.$render(),e.options.formControl.$setUntouched(),e.options.formControl.$setPristine())}function E(){e.options.initialValue=e.model[e.options.key]}function _(e){e.validation.messages=e.validation.messages||{},o.forEach(a.messages,function(t,n){e.validation.messages[n]||(e.validation.messages[n]=function(e,n,r){return l.formlyEval(r,t,n,e)})})}function C(e){var t=void 0===arguments[1]?{}:arguments[1],n=void 0===arguments[2]?{}:arguments[2];o.forEach([n.controller,t.controller],function(t){t&&s(t,{$scope:e})})}function k(){e.options.options=e.options.options||{},e.options.options.formState=e.formState}if(e.options.fieldGroup)return void k();var T=h(e.options);d(e.options),g(e.options,T),y(e.options,e.index),w(e.options),p(),f(),m(),u(),b(e,e.options),_(e.options),C(e,e.options,T)}function p(e,r){function a(){E(e.options),r.addClass("formly-field-group");var t="";e.options.elementAttributes&&(t=Object.keys(e.options.elementAttributes).map(function(t){return""+t+'="'+e.options.elementAttributes[t]+'"'}).join(" "));var n="model";e.options.key&&(n="model['"+e.options.key+"']"),d('\n          <formly-form model="'+n+'"\n                       fields="options.fieldGroup"\n                       options="options.options"\n                       form="options.form"\n                       class="'+e.options.className+'"\n                       '+t+"\n                       is-field-group>\n          </formly-form>\n        ")}function s(){e.options.elementAttributes&&r.attr(e.options.elementAttributes)}function u(){e.options.className&&r.addClass(e.options.className),e.options.type&&r.addClass("formly-field-"+e.options.type)}function d(t){return r.html(f(t)),n(r.contents())(e),t}function p(t){function n(e){var t=/\{\{(.*?)}}/,n=t.exec(e);n?r(n[1]):a(e)}function r(t){e.$watch(t,function(e){e&&(u(),a(e))})}function a(t){u=e.$watch('form["'+t+'"]',function(t){t&&(e.fc=t,e.options.formControl=t,c(),s())})}function s(){c=e.$watch(function(){var t=i.extras.errorExistsAndShouldBeVisibleExpression,n=e.options,r=e.fc;if(r.$invalid){if("boolean"==typeof n.validation.show)return n.validation.show;if(t)return l.formlyEval(e,t,r.$modelValue,r.$viewValue);var a=o.isUndefined(r.$touched)&&r.$dirty;return e.fc.$touched||a}return!1},function(t){e.options.validation.errorExistsAndShouldBeVisible=t,e.showError=t})}var u=o.noop,c=o.noop;if(!e.options.noFormControl){var d=o.element("<div>"+t+"</div>"),p=d[0].querySelector("[ng-model],[data-ng-model]");p&&p.getAttribute("name")&&n(p.getAttribute("name"))}}function v(){$&&$.link&&$.link.apply(_,w),e.options.link&&e.options.link.apply(_,w)}function b(n){return function(r){var i=t.when(r);return o.forEach(n,function(n){i=i.then(function(r){return t.when(n(r,e.options,e)).then(function(e){return o.isString(e)?e:f(e)})})}),i}}if(e.options.fieldGroup)return void a();s(),u();var $=h(e.options),w=arguments,_=this,x=m(e.options,e.formOptions);g(e.options).then(b(x.preWrapper)).then(y(e.options,e.formOptions)).then(b(x.postWrapper)).then(d).then(p).then(v)["catch"](function(t){c("there-was-a-problem-setting-the-template-for-this-field","There was a problem setting the template for this field ",e.options,t)})}function f(e){var t=o.element("<a></a>");return t.append(e).html()}function h(e){return e.type&&i.getType(e.type)}function m(e,t){function n(e){var t=e||{},n=t.preWrapper,i=void 0===n?[]:n,a=t.postWrapper,s=void 0===a?[]:a;r=r.concat(i),o=o.concat(s)}var r=[],o=[];return n(e.templateManipulators),n(t.templateManipulators),n(i.templateManipulators),{preWrapper:r,postWrapper:o}}function g(e){function t(t,n){return o.isDefined(e[t])?e[t]:n&&o.isDefined(n[t])?n[t]:void 0}var n=i.getType(e.type,!0,e),r=t("template",n),a=t("templateUrl",n);if(o.isUndefined(r)&&!a)throw u.getFieldError("type-type-has-no-template","Type '"+e.type+"' has not template. On element:",e);return v(a||r,o.isUndefined(r),e)}function v(n,i,a){var s=void 0;if(s=t.when(o.isFunction(n)?n(a):n),!i)return s;var l=function(){var t={cache:r};return{v:s.then(function(n){return e.get(n,t)}).then(function(e){return e.data})["catch"](function(e){c("problem-loading-template-for-templateurl","Problem loading template for "+n,e)})}}();return"object"==typeof l?l.v:void 0}function y(e,n){var r=$(e,n);return function(n){if(!r.length)return t.when(n);r.forEach(function(t){u.checkWrapper(t,e),t.validateOptions&&t.validateOptions(e),_(t,e)});var i=r.map(function(e){return v(e.template||e.templateUrl,!e.template)});return t.all(i).then(function(e){e.forEach(function(e,t){u.checkWrapperTemplate(e,r[t])}),e.reverse();var t=e.shift();return e.forEach(function(e){t=b(t,e)}),b(t,n)})}}function b(e,t){var n=o.element("<a></a>");n.append(e);var r=n.find("formly-transclude");return r.length||(r=l.findByNodeName(n,"formly-transclude")),r.replaceWith(t),n.html()}function $(e,t){var n=e.wrapper;if(null===n)return[];n=n?x(n).map(i.getWrapper):x(i.getWrapperByType(e.type));var r=i.getType(e.type,!0,e);if(r&&r.wrapper){var o=x(r.wrapper).map(i.getWrapper);n=n.concat(o)}if(t.wrapper){var a=x(t.wrapper).map(i.getWrapper);n=n.concat(a)}var s=i.getWrapper();return s&&n.push(s),n}function w(e){s["throw"](s.formlyFieldOptions,e,{prefix:"formly-field directive",url:"formly-field-directive-validation-failed"});var t=e.type&&i.getType(e.type);t&&(t.validateOptions&&t.validateOptions(e),_(t,e))}function E(e){s["throw"](s.fieldGroup,e,{prefix:"formly-field directive",url:"formly-field-directive-validation-failed"})}function _(e,t){var n=e.apiCheck,r=e.apiCheckInstance,i=e.apiCheckFunction,o=e.apiCheckOptions;if(n){var a=r||s,l=i||"warn",u=a.shape(n);a[l](u,t,o||{prefix:"formly-field "+name,url:s.config.output.docsBaseUrl+"formly-field-type-apicheck-failed"})}}var x=l.arrayify;return d.$inject=["$scope","$timeout","$parse","$controller"],{restrict:"AE",transclude:!0,scope:{options:"=",model:"=",formId:"@",index:"=?",fields:"=?",formState:"=?",formOptions:"=?",form:"=?"},controller:d,link:p}}var i=function(e){return e&&e.__esModule?e["default"]:e},o=i(n(3));e.exports=r,r.$inject=["$http","$q","$compile","$templateCache","formlyConfig","formlyValidationMessages","formlyApiCheck","formlyUtil","formlyUsability","formlyWarn"]},function(e){"use strict";function t(e,t){return{restrict:"A",link:function(n,r,i){var o=null,a=r[0],s=t[0];i.$observe("formlyFocus",function(t){"true"===t?e(function(){o=s.activeElement,a.focus()},~~i.focusWait):"false"===t&&s.activeElement===a&&(a.blur(),i.hasOwnProperty("refocus")&&o&&o.focus())})}}}e.exports=t,t.$inject=["$timeout","$document"]},function(e,t,n){"use strict";function r(e,t,n){function r(t,r){function i(){return r.rootEl||"ng-form"}function o(){return r.fieldRootEl||"div"}function a(){return r.hideDirective||n.extras.defaultHideDirective||"ng-if"}function l(){return r.trackBy?"track by "+r.trackBy:""}function c(){var t=m,n=r.bindName;if(n){if(s.version.minor<3)throw e.getFormlyError("bind-name attribute on formly-form not allowed in > angular 1.3");t="{{::'formly_' + "+n+"}}"}return t}function p(e){var t=["model","form","fields","options","name","role","class"],n=[];return s.forEach(e,function(e){var r=e.nodeName,i=e.nodeValue;"undefined"!==r&&-1===t.indexOf(r)&&n.push(""+u(r)+'="'+i+'"')}),n.join(" ")}var f=i(),h=o(),m="formly_"+d++,g="";return r.hasOwnProperty("isFieldGroup")&&t.parent().parent().hasClass("formly")&&(g=p(t.parent().parent()[0].attributes)),"\n        <"+f+' class="formly"\n                 name="'+c()+'"\n                 role="form" '+g+">\n          <"+h+' formly-field\n               ng-repeat="field in fields '+l()+'"\n               '+a()+'="!field.hide"\n               class="formly-field"\n               options="field"\n               model="field.model || model"\n               fields="fields"\n               form="theFormlyForm"\n               form-id="'+c()+'"\n               form-state="options.formState"\n               form-options="options"\n               index="$index">\n          </'+h+">\n          <div ng-transclude></div>\n        </"+f+">\n      "}function i(t,n,r){function i(){s.forEach(t.fields,function(e,n){var r=e.model||t.model;if(e.runExpressions&&e.runExpressions(r),e.hideExpression){var i=r[e.key];e.hide=y(e.hideExpression,i,e,n)}})}function l(){n["throw"]([n.formOptionsApi.optional],[t.options],{prefix:"formly-form options check"}),t.options=t.options||{},t.options.formState=t.options.formState||{},s.extend(t.options,{updateInitialValue:u,resetModel:d})}function u(){s.forEach(t.fields,function(e){c(e)?e.options.updateInitialValue():e.updateInitialValue()})}function d(){s.forEach(t.fields,function(e){c(e)?e.options.resetModel():e.resetModel()})}function p(n){if(s.isString(n.model)){var r=n.model,i=t.fields.indexOf(n);if(n.model=y(r,void 0,n,i),!n.model)throw e.getFieldError("field-model-must-be-initialized","Field model must be initialized. When specifying a model as a string for a field, the result of the expression must have been initialized ahead of time.",n)}}function f(e,t){c(e)||(e.key=e.key||t||0)}function h(n,r){if(!c(n)&&s.isDefined(n.watcher)){var i=n.watcher;s.isArray(i)||(i=[i]),s.forEach(i,function(i){if(!s.isDefined(i.listener))throw e.getFieldError("all-field-watchers-must-have-a-listener","All field watchers must have a listener",n);var o=m(i,n,r),a=g(i,n,r),l=i.type||"$watch";i.stopWatching=t[l](o,a,i.watchDeep)})}}function m(e,t,n){var r=e.expression||"model['"+t.key+"']";if(s.isFunction(r)){var i=r;r=function(){var t=v.apply(void 0,[e,n].concat(a.call(arguments)));return i.apply(void 0,o(t))},r.displayName="Formly Watch Expression for field for "+t.key}return r}function g(e,t,n){var r=e.listener;if(s.isFunction(r)){var i=r;r=function(){var t=v.apply(void 0,[e,n].concat(a.call(arguments)));return i.apply(void 0,o(t))},r.displayName="Formly Watch Listener for field for "+t.key}return r}function v(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;r>o;o++)i[o-2]=arguments[o];return[t.fields[n]].concat(i,[e.stopWatching])}function y(e,n,i,o){var a=b(i,o);return r.formlyEval(t,e,n,n,a)}function b(e,n){return{options:e,index:n,formState:t.options.formState,formId:t.formId}}l(),t.model=t.model||{},t.fields=t.fields||[],s.forEach(t.fields,p),s.forEach(t.fields,f),s.forEach(t.fields,h),t.$watch("model",i,!0),t.options.formState&&t.$watch("options.formState",i,!0)}function l(e,r,i){var o=i.name;e.formId=o,e.theFormlyForm=e[o],i.form&&t(i.form).assign(e.$parent,e[o]);var a=n.extras.removeChromeAutoComplete===!0,s=e.options&&e.options.removeChromeAutoComplete===!1,l=e.options&&e.options.removeChromeAutoComplete===!0;if(a&&!s||l){var u=document.createElement("input");u.setAttribute("autocomplete","address-level4"),u.setAttribute("hidden",!0),r[0].appendChild(u)}}function u(e){return e?e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}):""}function c(e){return e&&!!e.fieldGroup}var d=1;return i.$inject=["$scope","formlyApiCheck","formlyUtil"],{restrict:"E",template:r,replace:!0,transclude:!0,scope:{fields:"=",model:"=",form:"=?",options:"=?"},controller:i,link:l}}var i=function(e){return e&&e.__esModule?e["default"]:e},o=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},a=Array.prototype.slice,s=i(n(3));e.exports=r,r.$inject=["formlyUsability","$parse","formlyConfig"]},function(e,t,n){"use strict";function r(e){function t(e,t,a){function s(){(o.isDefined(t.validators)||o.isDefined(t.validation.messages))&&i(p,"formly-custom-validation","")}function l(){o.isDefined(t.modelOptions)&&(i(p,"ng-model-options","options.modelOptions"),t.modelOptions.getterSetter&&o.forEach(p,function(e){e.setAttribute("ng-model","options.value")}))}function u(){if(t.templateOptions||t.expressionProperties){var e=t.templateOptions||{},a=t.expressionProperties||{},s=n();o.extend(s,t.ngModelAttrs),o.forEach(s,function(n,s){var l=void 0,u=void 0,c="options.templateOptions['"+s+"']",d=e[s],f=r(a,s),h=o.isDefined(d),m=o.isDefined(f);if(n.value)u=n.value,l=s;else if(n.expression&&h)if(u=n.expression,o.isString(e[s]))l="$eval("+c+")";else{if(!o.isFunction(e[s]))throw new Error("options.templateOptions."+s+" must be a string or function: "+JSON.stringify(t));l=""+c+"(model[options.key], options, this, $event)"}else n.bound&&m?(u=n.bound,l=c):(n.attribute||n["boolean"])&&m?(u=n.attribute||n["boolean"],l="{{"+c+"}}"):n.attribute&&h?(u=n.attribute,l=d):n["boolean"]?h&&!m&&d&&(u=n["boolean"],l=!0):n.bound&&h&&(u=n.bound,l=c);o.isDefined(u)&&o.isDefined(l)&&i(p,u,l)})}}var c=document.createElement("div"),d=t.data;if(d.skipNgModelAttrsManipulator===!0)return e;c.innerHTML=e;var p=c.querySelectorAll("[ng-model], [data-ng-model]");return p&&p.length?(i(p,"id",a.id),i(p,"name",a.id),s(),l(),u(),c.innerHTML):e}function n(){var t={focus:{attribute:"formly-focus"}},n=[],r=["required","disabled"],i=["pattern","minlength"],a=["change","keydown","keyup","keypress","click","focus","blur"],s=["placeholder","min","max","tabindex","type"];return e.extras.ngModelAttrsManipulatorPreferUnbound?i.push("maxlength"):n.push("maxlength"),o.forEach(n,function(e){t[e]={bound:"ng-"+e}}),o.forEach(r,function(e){t[e]={"boolean":e,bound:"ng-"+e}}),o.forEach(i,function(e){t[e]={attribute:e,bound:"ng-"+e}}),o.forEach(a,function(e){var n="on"+e.substr(0,1).toUpperCase()+e.substr(1);t[n]={expression:"ng-"+e}}),o.forEach(s,function(e){t[e]={attribute:e}}),t}function r(e,t){return e["templateOptions."+t]||e["templateOptions['"+t+"']"]||e['templateOptions["'+t+'"]']}function i(e,t,n){o.forEach(e,function(e){e.getAttribute(t)||e.setAttribute(t,n)})}e.extras.disableNgModelAttrsManipulator||e.templateManipulators.preWrapper.push(t)}var i=function(e){return e&&e.__esModule?e["default"]:e},o=i(n(3));e.exports=r,r.$inject=["formlyConfig"]},function(e){"use strict";function t(e){e&&e.get&&!function(){var t=e.get(0),n=t.createElement("div");n.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var r=1===n.getElementsByTagName("i").length;if(r){var i=["formly-field","formly-form","formly-custom-validation","formly-focus","formly-transpose"];angular.forEach(i,function(e){t.createElement(e)})}}()}e.exports=t,t.$inject=["$document"]}])}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===o?[]:o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.7
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target).closest(".btn");t.call(r,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=t(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=t(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.7
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.7
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(u){var f=s,h=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+p>h.bottom?"top":"top"==s&&c.top-p<h.top?"bottom":"right"==s&&c.right+d>h.width?"left":"left"==s&&c.left-d<h.left?"right":s,o.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,c,d,p);this.applyPlacement(m,s);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(n),p=d?2*c.left-i+l:2*c.top-o+u,f=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:t.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,l,a)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?i.left=a.left-u:c>a.right&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.7
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.7
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.7
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.7
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":e-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:t;return null!=n&&n>=i?"top":null!=r&&l+u>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular-formly"),require("api-check"),require("angular")):"function"==typeof define&&define.amd?define(["angular-formly","api-check","angular"],t):"object"==typeof exports?exports.ngFormlyTemplatesBootstrap=t(require("angular-formly"),require("api-check"),require("angular")):e.ngFormlyTemplatesBootstrap=t(e.ngFormly,e.apiCheck,e.angular)}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){var r=t;e.setType({name:"radio",template:n(20),wrapper:["bootstrapLabel","bootstrapHasError"],defaultOptions:{noFormControl:!1},apiCheck:{templateOptions:r.shape({options:r.arrayOf(r.object),labelProp:r.string.optional,valueProp:r.string.optional})},apiCheckInstance:r})}e.config(t),t.$inject=["formlyConfigProvider","formlyBootstrapApiCheck"]},e.exports=t["default"]},function(t){t.exports=e},function(e){e.exports=t},function(e,t,n){"use strict";var r=n(8);r.version||(r=window.angular),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){var r=t;e.setWrapper([{name:"bootstrapLabel",template:n(17),apiCheck:{templateOptions:r.shape({label:r.string,required:r.bool.optional})},apiCheckInstance:r},{name:"bootstrapHasError",template:n(18)}])}e.config(t),t.$inject=["formlyConfigProvider","formlyBootstrapApiCheck"]},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){n(12)(e),n(13)(e),n(14)(e),n(1)(e),n(15)(e),n(16)(e)},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=r(i),a=n(10),s=r(a);t["default"]=function(e){o["default"](e),s["default"](e)},e.exports=t["default"]},function(e){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){var r=n(19),i=t.shape({"class":t.string.optional,text:t.string.optional,onClick:t.func.optional}).strict.optional,o=t.shape({templateOptions:t.shape({addonLeft:i,addonRight:i})});e.templateManipulators.preWrapper.push(function(e,n){return n.templateOptions.addonLeft||n.templateOptions.addonRight?(t.warn([o],[n]),r.replace("<formly-transclude></formly-transclude>",e)):e})}e.run(t),t.$inject=["formlyConfig","formlyBootstrapApiCheck"]},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e){e.templateManipulators.preWrapper.push(function(e,t,n){if(angular.isDefined(t.templateOptions.description)){var r=document.createElement("div");r.appendChild(angular.element(e)[0]),r.appendChild(angular.element('<p id="'+n.id+'_description"class="help-block"ng-if="to.description">{{to.description}}</p>')[0]);var i=angular.element(r.querySelectorAll("[ng-model]"));return i&&i.attr("aria-describedby",n.id+"_description"),r.innerHTML}return e})}e.run(t),t.$inject=["formlyConfig"]},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="formlyBootstrap",i=n(4),o=i.module(r,[n(2)]);o.constant("formlyBootstrapApiCheck",n(3)({output:{prefix:"angular-formly-bootstrap"}})),o.constant("formlyBootstrapVersion","4.3.1"),n(5)(o),n(6)(o),n(7)(o),t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){var r=t;e.setType({name:"checkbox",template:n(21),wrapper:["bootstrapHasError"],apiCheck:{templateOptions:r.shape({label:r.string})},apiCheckInstance:r})}e.config(t),t.$inject=["formlyConfigProvider","formlyBootstrapApiCheck"]},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){var r=t;e.setType({name:"multiCheckbox",template:n(22),wrapper:["bootstrapLabel","bootstrapHasError"],defaultOptions:{noFormControl:!1},apiCheck:{templateOptions:r.shape({options:r.arrayOf(r.object),labelProp:r.string.optional,valueProp:r.string.optional})},apiCheckInstance:r,controller:["$scope",function(e){function t(){e.model[r.key]=[],angular.forEach(e.multiCheckbox.checked,function(t,i){t&&e.model[r.key].push(n.options[i][n.valueProp||"value"])})}var n=e.to,r=e.options;e.multiCheckbox={checked:[],change:t};var i=e.model[r.key];angular.isArray(i)&&!function(){var t=n.valueProp||"value";angular.forEach(n.options,function(n,r){e.multiCheckbox.checked[r]=-1!==i.indexOf(n[t])})}()}]})}e.config(t),t.$inject=["formlyConfigProvider","formlyBootstrapApiCheck"]},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e){e.setType({name:"input",template:'<input class="form-control" ng-model="model[options.key]">',wrapper:["bootstrapLabel","bootstrapHasError"]})}e.config(t),t.$inject=["formlyConfigProvider"]},e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){var i=t;e.setType({name:"select",template:r,wrapper:["bootstrapLabel","bootstrapHasError"],defaultOptions:function(e){var t=e.templateOptions.ngOptions||"option[to.valueProp || 'value'] as option[to.labelProp || 'name'] group by option[to.groupProp || 'group'] for option in to.options";return{ngModelAttrs:n({},t,{value:"ng-options"})}},apiCheck:{templateOptions:i.shape({options:i.arrayOf(i.object),labelProp:i.string.optional,valueProp:i.string.optional,groupProp:i.string.optional})},apiCheckInstance:i})}e.config(t);var r='<select class="form-control" ng-model="model[options.key]"></select>';t.$inject=["formlyConfigProvider","formlyBootstrapApiCheck"]},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){var n=t;e.setType({name:"textarea",template:'<textarea class="form-control" ng-model="model[options.key]"></textarea>',wrapper:["bootstrapLabel","bootstrapHasError"],defaultOptions:{ngModelAttrs:{rows:{attribute:"rows"},cols:{attribute:"cols"}}},apiCheck:{templateOptions:n.shape({rows:n.number.optional,cols:n.number.optional})},apiCheckInstance:n})}e.config(t),t.$inject=["formlyConfigProvider","formlyBootstrapApiCheck"]},e.exports=t["default"]},function(e){e.exports="<div>\n  <label for=\"{{id}}\" class=\"control-label\">\n    {{to.label}}\n    {{to.required ? '*' : ''}}\n  </label>\n  <formly-transclude></formly-transclude>\n</div>\n"},function(e){e.exports='<div class="form-group" ng-class="{\'has-error\': showError}">\n  <formly-transclude></formly-transclude>\n</div>\n'},function(e){e.exports='<div ng-class="{\'input-group\': to.addonLeft || to.addonRight}">\n    <div class="input-group-addon"\n         ng-if="to.addonLeft"\n         ng-style="{cursor: to.addonLeft.onClick ? \'pointer\' : \'inherit\'}"\n         ng-click="to.addonLeft.onClick(options, this)">\n        <i class="{{to.addonLeft.class}}" ng-if="to.addonLeft.class"></i>\n        <span ng-if="to.addonLeft.text">{{to.addonLeft.text}}</span>\n    </div>\n    <formly-transclude></formly-transclude>\n    <div class="input-group-addon"\n         ng-if="to.addonRight"\n         ng-style="{cursor: to.addonRight.onClick ? \'pointer\' : \'inherit\'}"\n         ng-click="to.addonRight.onClick(options, this)">\n        <i class="{{to.addonRight.class}}" ng-if="to.addonRight.class"></i>\n        <span ng-if="to.addonRight.text">{{to.addonRight.text}}</span>\n    </div>\n</div>\n'},function(e){e.exports='<div class="radio-group">\n  <div ng-repeat="(key, option) in to.options" class="radio">\n    <label>\n      <input type="radio"\n             id="{{id + \'_\'+ $index}}"\n             tabindex="0"\n             ng-value="option[to.valueProp || \'value\']"\n             ng-model="model[options.key]">\n      {{option[to.labelProp || \'name\']}}\n    </label>\n  </div>\n</div>\n'},function(e){e.exports='<div class="checkbox">\n	<label>\n		<input type="checkbox"\n           class="formly-field-checkbox"\n		       ng-model="model[options.key]">\n		{{to.label}}\n		{{to.required ? \'*\' : \'\'}}\n	</label>\n</div>\n'},function(e){e.exports='<div class="radio-group">\n  <div ng-repeat="(key, option) in to.options" class="checkbox">\n    <label>\n      <input type="checkbox"\n             id="{{id + \'_\'+ $index}}"\n             ng-model="multiCheckbox.checked[$index]"\n             ng-change="multiCheckbox.change()">\n      {{option[to.labelProp || \'name\']}}\n    </label>\n  </div>\n</div>\n'}])}),/**
 * angular-ui-notification - Angular.js service providing simple notifications using Bootstrap 3 styles with css transitions for animating
 * @author Alex_Crack
 * @version v0.0.5
 * @link https://github.com/alexcrack/angular-ui-notification
 * @license MIT
 */
angular.module("ui-notification",[]),angular.module("ui-notification").value("uiNotificationTemplates","angular-ui-notification.html"),angular.module("ui-notification").factory("Notification",["$timeout","uiNotificationTemplates","$http","$compile","$templateCache","$rootScope","$injector","$sce",function(e,t,n,r,i,o,a,s){var l=10,u=10,c=10,d=10,p=5e3,f=[],h=function(a,h){"object"!=typeof a&&(a={message:a}),a.template=a.template?a.template:t,a.delay=angular.isUndefined(a.delay)?p:a.delay,a.type=h?h:"",n.get(a.template,{cache:i}).success(function(t){var n=o.$new();if(n.message=s.trustAsHtml(a.message),n.title=s.trustAsHtml(a.title),n.t=a.type.substr(0,1),n.delay=a.delay,"object"==typeof a.scope)for(var i in a.scope)n[i]=a.scope[i];var p=function(){for(var e=0,t=0,n=l,r=f.length-1;r>=0;r--){var i=f[r],o=parseInt(i[0].offsetHeight),a=parseInt(i[0].offsetWidth);s+o>window.innerHeight&&(n=l,t++,e=0);var s=n+(0===e?0:c),p=u+t*(d+a);i.css("top",s+"px"),i.css("right",p+"px"),n=s+o,e++}},h=r(t)(n);h.addClass(a.type),h.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(e){e=e.originalEvent||e,("click"===e.type||"opacity"===e.propertyName&&e.elapsedTime>=1)&&(h.remove(),f.splice(f.indexOf(h),1),p())}),e(function(){h.addClass("killed")},a.delay),angular.element(document.getElementsByTagName("body")).append(h),f.push(h),e(p)}).error(function(e){throw new Error("Template ("+a.template+") could not be loaded. "+e)})};return h.config=function(e){l=e.top?e.top:l,c=e.verticalSpacing?e.verticalSpacing:c},h.primary=function(e){this(e,"primary")},h.error=function(e){this(e,"error")},h.success=function(e){this(e,"success")},h.info=function(e){this(e,"info")},h.warning=function(e){this(e,"warning")},h.clearAll=function(){var e=angular.element(document.getElementsByClassName("ui-notification"));e&&angular.forEach(e,function(e){e.remove()})},h}]),angular.module("ui-notification").run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]),angular.module("filereader",[]).factory("FileReader",["$q","$window",function(e,t){var n=function(e,t,n){return function(){n.$apply(function(){t.resolve(e.result)})}},r=function(e,t,n){return function(){n.$apply(function(){t.reject(e.result)})}},i=function(e,t){return function(e){t.$broadcast("fileProgress",{total:e.total,loaded:e.loaded})}},o=function(e,o){var a=new t.FileReader;return a.onload=n(a,e,o),a.onerror=r(a,e,o),a.onprogress=i(a,o),a},a=function(t,n){var r=e.defer(),i=o(r,n);return i.readAsDataURL(t),r.promise},s=function(t,n,r){var i=e.defer(),a=o(i,r);return a.readAsText(t,n),i.promise};return{readAsDataURL:a,readAsText:s}}]),function(e,t,n){"use strict";/*
!
The MIT License

Copyright (c) 2010-2013 Google, Inc. http://angularjs.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

angular-google-maps
https://github.com/angular-ui/angular-google-maps

@authors
Nicolas Laplante - https://plus.google.com/108189012221374960701
Nicholas McCready - https://twitter.com/nmccready
 */
(function(){t.module("uiGmapgoogle-maps.providers",[]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,r){var i,o,a,s;return s=void 0,i=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},o=function(e){var t,n,o;return t=["transport","isGoogleMapsForWork","china"],e.isGoogleMapsForWork&&t.push("key"),n=_.map(_.omit(e,t),function(e,t){return t+"="+e}),s&&document.getElementById(s).remove(),n=n.join("&"),o=document.createElement("script"),o.id=s="ui_gmap_map_load_"+r.generate(),o.type="text/javascript",o.src=i(e)+n,document.body.appendChild(o)},a=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var r,i;return r=n.defer(),a()?(r.resolve(e.google.maps),r.promise):(i=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[i]=function(){e[i]=null,r.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE?document.addEventListener("online",function(){return a()?void 0:o(t)}):o(t),r.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3.17",libraries:"",language:"en",sensor:"false"},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",function(e){return function(t){return t.load(e.options)}}(this)],this})}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){var t;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},t=function(t){function i(t){this.getOrigCloseBoxImg_=n(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=n(this.getCloseBoxDiv_,this);var r;r=new e.InfoBox(t),_.extend(this,r),null!=t.closeBoxDiv&&(this.closeBoxDiv_=t.closeBoxDiv)}return r(i,t),i.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},i.prototype.getCloseBoxImg_=function(){var e,t;return e=this.getCloseBoxDiv_(),t=this.getOrigCloseBoxImg_(),e||t},i.prototype.getOrigCloseBoxImg_=function(){var e;return e="",""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},i}(e.InfoBox),e.uiGmapInfoBox=t),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;e=this.marker_.get("labelContent"),e&&!_.isEqual(this.oldContent,e)&&("undefined"==typeof(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){return this.intersectionObjects=function(e,t,n){var r;return null==n&&(n=void 0),r=_.map(e,function(){return function(e){return _.find(t,function(t){return null!=n?n(e,t):_.isEqual(e,t)})}}(this)),_.filter(r,function(e){return null!=e})},this.containsObject=_.includeObject=function(e,t,n){return null==n&&(n=void 0),null===e?!1:_.any(e,function(){return function(e){return null!=n?n(e,t):_.isEqual(e,t)}}(this))},this.differenceObjects=function(e,t,n){return null==n&&(n=void 0),_.filter(e,function(e){return function(r){return!e.containsObject(t,r,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,n,r){var i,o;if(null==e)return-1;if(i=0,o=e.length,r){if("number"!=typeof r)return i=_.sortedIndex(e,t),e[i]===t?i:-1;i=0>r?Math.max(0,o+r):r}for(;o>i;){if(null!=n){if(n(e[i],t))return i}else if(_.isEqual(e[i],t))return i;i++}return-1},this.isNullOrUndefined=function(e){return _.isNull(e||_.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,n,r,i,o,a){var s,l,u,c,d,p,f,h,m,g,v,y,b,$,w,E,x,C,k;return C=n.promiseTypes,v=n.isInProgress,x=n.promiseStatus,s=n.ExposedPromise,u=n.SniffedPromise,y=function(e,t){var n;return n=e.promise(),n.promiseType=e.promiseType,n.$$state&&r.debug("promiseType: "+n.promiseType+", state: "+x(n.$$state.status)),n.cancelCb=t,n},h=function(e,t){return e.promiseType===C.create&&t.promiseType!==C["delete"]&&t.promiseType!==C.init?(r.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},E=function(e,t,n){var i;return t.promiseType===C["delete"]&&n.promiseType!==C["delete"]&&null!=n.cancelCb&&_.isFunction(n.cancelCb)&&v(n)&&(r.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+n.promiseType),n.cancelCb("cancel safe"),i=e.peek(),null!=i&&v(i))?i.hasOwnProperty("cancelCb")&&_.isFunction(i.cancelCb)?(r.debug("promiseType: "+i.promiseType+", CANCELING FIRST PROMISE type: "+i.promiseType),i.cancelCb("cancel safe")):r.warn("first promise was not cancelable"):void 0},l=function(e,t,n){var r,i;if(e.existingPieces){if(r=_.last(e.existingPieces._content),h(t,r))return;return E(e.existingPieces,t,r),i=s(r["finally"](function(){return y(t,n)})),i.cancelCb=n,i.promiseType=t.promiseType,e.existingPieces.enqueue(i),r["finally"](function(){return e.existingPieces.dequeue()})}return e.existingPieces=new o.Queue,e.existingPieces.enqueue(y(t,n))},$=function(e,t,n,i,o){var a;return null==n&&(n=""),a=function(e){return r.debug(e+": "+e),null!=i&&_.isFunction(i)?i(e):void 0},l(e,u(o,t),a)},p=80,g={value:null},k=function(e,t,n){var r;try{return e.apply(t,n)}catch(i){return r=i,g.value=r,g}},b=function(e,t,n,i){var o,a;return a=k(e,t,i),a===g&&(o="error within chunking iterator: "+g.value,r.error(o),n.reject(o)),"cancel safe"===a?!1:!0},d=function(e,t,n){var r,i;return r=e===t,i=t[n],r?i:e[i]},c=function(e,n,r,i){var o;return t.isArray(e)?o=e:(o=n?n:Object.keys(_.omit(e,["length","forEach","map"])),n=o),null==i&&(i=r),t.isArray(o)&&(void 0===o||(null!=o?o.length:void 0)<=0)&&i!==r?r():i(o,n)},f=function(n,r,i,o,a,s,l,u){return c(n,u,function(u,c){var p,h,m,g;for(p=r&&r<u.length?r:u.length,h=l,m=!0;m&&p--&&h<(u?u.length:h+1);)g=d(n,u,h),m=t.isFunction(g)?!0:b(o,void 0,s,[g,h]),++h;if(u){if(!(m&&h<u.length))return s.resolve();if(l=h,r)return null!=a&&_.isFunction(a)&&b(a,void 0,s,[]),e(function(){return f(n,r,i,o,a,s,l,c)},i,!1)}})},m=function(e,t,i,o,a,s,l){var u,d,h;return null==i&&(i=p),null==a&&(a=0),null==s&&(s=1),h=void 0,d=n.defer(),h=d.promise,s?c(e,l,function(){return d.resolve(),h},function(n,r){return f(e,i,s,t,o,d,a,r),h}):(u="pause (delay) must be set from _async!",r.error(u),d.reject(u),h)},w=function(e,t,r,i,o,a,s){var l;return l=[],c(e,s,function(){return n.resolve(l)},function(n,s){return m(e,function(e){return l.push(t(e))},r,i,o,a,s).then(function(){return l})})},{each:m,map:w,managePromiseQueue:$,promiseLock:$,defaultChunkSize:p,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),_.isNumber(e)&&(t=e),(a.isFalse(e)||e===!1)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t,n;return n=["extended","included"],t=function(){function t(){}return t.extend=function(t){var r,i,o;for(r in t)o=t[r],e.call(n,r)<0&&(this[r]=o);return null!=(i=t.extended)&&i.apply(this),this},t.include=function(t){var r,i,o;for(r in t)o=t[r],e.call(n,r)<0&&(this.prototype[r]=o);return null!=(i=t.included)&&i.apply(this),this},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return n=t.getScope(),n.deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(){var e,n;return n=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},e=function(e,t){return n(e)?e:n(t)?t:void 0},{setEvents:function(n,r,i,o){var a;return a=e(r,i),null!=a?_.compact(_.map(a.events,function(e,s){var l;return o&&(l=_(o).contains(s)),a.events.hasOwnProperty(s)&&t.isFunction(a.events[s])&&!l?google.maps.event.addListener(n,s,function(){return r.$evalAsync||(r.$evalAsync=function(){}),r.$evalAsync(e.apply(r,[n,s,i,arguments]))}):void 0})):void 0},removeEvents:function(e){return e?e.forEach(function(e){return e?google.maps.event.removeListener(e):void 0}):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","uiGmap_async",function(){return{fit:function(e,t){var n,r;return t&&e&&e.length>0&&(n=new google.maps.LatLngBounds,r=!1,e.forEach(function(){return function(e){return e?(r||(r=!0),n.extend(e.getPosition())):void 0}}(this)),r)?t.fitBounds(n):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,n){var r,i,o,a,s,l;return i=function(e,t,n){return e===t||-1!==n.indexOf(e)},r=function(e){return i(e,!1,["false","FALSE",0,"n","N","no","NO"])},a=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},s=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},o=function(e){return e?Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},l=function(e){if(t.isUndefined(e))return!1;if(_.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&_.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return e&&t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(e,n){return e?(Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e):void 0},getLabelPositionPoint:function(e){var t,n;return void 0===e?void 0:(e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0)},createWindowOptions:function(r,i,a,s){var l;return null!=a&&null!=s&&null!=n?(l=t.extend({},s,{content:this.buildContent(i,s,a),position:null!=s.position?s.position:t.isObject(r)?r.getPosition():o(i.coords)}),null!=r&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):s?s:(e.error("infoWindow defaults not defined"),a?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,r){var i,o;return null!=t.content?o=t.content:null!=n?(r=r.replace(/^\s+|\s+$/g,""),i=""===r?"":n(r)(e),i.length>0&&(o=i[0])):o=r,o},defaultDelay:50,isTrue:function(e){return i(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:r,isFalsy:function(e){return i(e,!1,[void 0,null])||r(e)},getCoords:o,validateCoords:l,equalCoords:function(e,t){return a(e)===a(t)&&s(e)===s(t)},validatePath:function(e){var n,r,i,o;if(r=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;r<e.length;){if(!(t.isDefined(e[r].latitude)&&t.isDefined(e[r].longitude)||"function"==typeof e[r].lat&&"function"==typeof e[r].lng))return!1;r++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;n=e.coordinates[0]}else if("MultiPolygon"===e.type){if(o={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},o),i=e.coordinates[o.index],n=i[0],n.length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;n=e.coordinates}for(;r<n.length;){if(2!==n[r].length)return!1;r++}return!0},convertPathPoints:function(e){var n,r,i,o,a;if(r=0,o=new google.maps.MVCArray,t.isUndefined(e.type))for(;r<e.length;)t.isDefined(e[r].latitude)&&t.isDefined(e[r].longitude)?i=new google.maps.LatLng(e[r].latitude,e[r].longitude):"function"==typeof e[r].lat&&"function"==typeof e[r].lng&&(i=e[r]),o.push(i),r++;else for("Polygon"===e.type?n=e.coordinates[0]:"MultiPolygon"===e.type?(a={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},a),n=e.coordinates[a.index][0]):"LineString"===e.type&&(n=e.coordinates);r<n.length;)o.push(new google.maps.LatLng(n[r][1],n[r][0])),r++;return o},extendMapBounds:function(e,t){var n,r;for(n=new google.maps.LatLngBounds,r=0;r<t.length;)n.extend(t.getAt(r)),r++;return e.fitBounds(n)},getPath:function(e,t){var n;return null!=t&&_.isString(t)?(n=e,_.each(t.split("."),function(e){return n?n=n[e]:void 0}),n):t},validateBoundPoints:function(e){return t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude)?!1:!0},convertBoundPoints:function(e){var t;return t=new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,r,i,o,a,s;return r=0,s=[],i=1,o=50,a=function(){return e.all(s)},n=function(e,s){return t(function(){return i>=o&&e.reject("Your maps are not found we have checked the maximum amount of times. :)"),i+=1,r!==s?n(e,s):e.resolve(a())},100)},{spawn:function(){var t;return t=e.defer(),s.push(t.promise),r+=1,{instance:r,deferred:t}},promises:a,instances:function(){return r},promise:function(t){var r;return null==t&&(t=1),r=e.defer(),n(r,t),r.promise},reset:function(){r=0,s.length=0},decrement:function(){r>0&&(r-=1),s.length&&(s.length-=1)}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){var n;return n=function(t){function n(e,t,n,r){this.scope=e,this.element=t,this.attrs=n,this.ctrls=r}return e(n,t),n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["$log",function(e){var t,n,r,i;return t={log:1,info:2,debug:3,warn:4,error:5,none:6},i=function(e,t,n){return e>=t?n():void 0},r=function(t,n){return null!=e?e[t](n):console[t](n)},new(n=function(){function n(){var e;this.doLog=!0,e={},["log","info","debug","warn","error"].forEach(function(n){return function(o){return e[o]=function(e){return n.doLog?i(t[o],n.currentLevel,function(){return r(o,e)}):void 0}}}(this)),this.LEVELS=t,this.currentLevel=t.error,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error}return n.prototype.spawn=function(){return new n},n.prototype.setLog=function(t){return e=t},n}())}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(r,i){var o;return o=function(r){function o(t){this.scope=t,this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.onDestroy=e(this.onDestroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),o.__super__.constructor.call(this),this["interface"]={},this["interface"].scopeKeys=[],this.defaultIdKey="id",this.idKey=void 0}return n(o,r),o.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(_.isFunction(t)&&(t=t()),i.getPath(e,t)):void 0},o.prototype.modelKeyComparison=function(e,t){var n,r,o;if(n=_.contains(this["interface"].scopeKeys,"coords"),(n&&null!=this.scope.coords||!n)&&(o=this.scope),null==o)throw"No scope set!";return n&&(r=i.equalCoords(this.scopeOrModelVal("coords",o,e),this.scopeOrModelVal("coords",o,t)),!r)?r:r=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(r){return n.scopeOrModelVal(o[r],o,e)===n.scopeOrModelVal(o[r],o,t)}}(this))},o.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},o.prototype.setVal=function(e,t,n){var r;return r=this.modelOrKey(e,t),r=n,e},o.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?i.getPath(e,t):e:void 0},o.prototype.getProp=function(e,t,n){return this.scopeOrModelVal(e,t,n)},o.prototype.getChanges=function(e,t,n){var r,i,o;n&&(t=_.pick(t,n),e=_.pick(e,n)),i={},o={},r={};for(o in e)t&&t[o]===e[o]||(_.isArray(e[o])?i[o]=e[o]:_.isObject(e[o])?(r=this.getChanges(e[o],t?t[o]:null),_.isEmpty(r)||(i[o]=r)):i[o]=e[o]);return i},o.prototype.scopeOrModelVal=function(e,t,n,r){var i,o,a,s;return null==r&&(r=!1),i=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},s=t[e],_.isFunction(s)?i(!0,s(n),r):_.isObject(s)?i(!0,s,r):_.isString(s)?(o=s,a=o?"self"===o?n:n[o]:n[e],_.isFunction(a)?i(!1,a(),r):i(!1,a,r)):i(!0,s,r)},o.prototype.setChildScope=function(e,t,n){return _.each(e,function(e){return function(r){var i,o;return i=e.scopeOrModelVal(r,t,n,!0),null!=(null!=i?i.value:void 0)&&(o=i.value,o!==t[r])?t[r]=o:void 0}}(this)),t.model=n},o.prototype.onDestroy=function(){},o.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},o.prototype.modelsLength=function(e){var n,r;return null==e&&(e=void 0),n=0,r=e?e:this.scope.models,null==r?n:n=t.isArray(r)||null!=r.length?r.length:Object.keys(r).length},o}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,r){return{didQueueInitPromise:function(e,n){return 0===n.models.length?(t.promiseLock(e,r.promiseTypes.init,null,null,function(){return function(){return r.resolve()}}(this)),!0):!1},figureOutState:function(t,n,r,i){var o,a,s,l,u;return o=[],s={},l=[],u=[],n.models.forEach(function(a){var l;return null==a[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(s[a[t]]={},null==r.get(a[t])?o.push(a):(l=r.get(a[t]),i(a,l.clonedModel,n)?void 0:u.push({model:a,child:l})))}),a=r.values(),a.forEach(function(n){var r;return null==n?void e.error("child undefined in ModelsWatcher."):null==n.model?void e.error("child.model undefined in ModelsWatcher."):(r=n.model[t],null==s[r]?l.push(n):void 0)}),{adds:o,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,n){var r,i,o,a,s,l,u,c,d,p,f;return d={create:"create",update:"update","delete":"delete",init:"init"},c={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},f=function(){var e;return e={},e[""+c.IN_PROGRESS]="in-progress",e[""+c.RESOLVED]="resolved",e[""+c.REJECTED]="rejected",e}(),a=function(e){return e.$$state?e.$$state.status===c.IN_PROGRESS:e.hasOwnProperty("$$v")?void 0:!0},s=function(e){return e.$$state?e.$$state.status===c.RESOLVED:e.hasOwnProperty("$$v")?!0:void 0},u=function(e){return f[e]||"done w error"},r=function(t){var n,r,i;return n=e.defer(),r=e.all([t,n.promise]),i=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),i.notify(e)}),r.then(function(e){return i.resolve(e[0]||e[1])},function(e){return i.reject(e)}),i.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},i.promise.notify=function(e){return null==e&&(e="cancel safe"),i.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(i.promise.promiseType=t.promiseType),i.promise},i=function(e,t){return{promise:e,promiseType:t}},o=function(){return e.defer()},p=function(){var t;return t=e.defer(),t.resolve.apply(void 0,arguments),t.promise},l=function(r){var i;return _.isFunction(r)?(i=e.defer(),t(function(){var e;return e=r(),i.resolve(e)}),i.promise):void n.error("uiGmapPromise.promise() only accepts functions")},{defer:o,promise:l,resolve:p,promiseTypes:d,isInProgress:a,isResolved:s,promiseStatus:u,ExposedPromise:r,SniffedPromise:i}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var t;return t=function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var n;return null==t&&(t=!1),t&&!this.get(e)?void 0:(n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n)},t.prototype.valuesOrKeys=function(e){var t,n;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(n=[],t=[],_.each(this.dict,function(e,r){return n.push(e),t.push(r)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map(function(e){return function(t){return e.remove(t)}}(this))},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return _.each(this.dict,function(t){return e(t)})},t.prototype.map=function(e){return _.map(this.dict,function(t){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(){var e;return e=function(e){return this.setIfChange=function(t,n){var r;return r=this.exp,_.isEqual(n,t)?void 0:e(r,t)},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(n,r,i){var o;return o=function(){function o(t,r,a,s){null==r&&(r={}),this.opt_options=null!=a?a:{},this.opt_events=s,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=o.type,this.clusterer=new NgMapMarkerClusterer(t,r,this.opt_options),this.propMapGMarkers=new i,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return o.type="ClustererMarkerManager",o.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",n.error(t)):void 0},o.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},o.prototype.update=function(e){return this.remove(e),this.add(e)},o.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},o.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},o.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},o.prototype.draw=function(){return this.clusterer.repaint()},o.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},o.prototype.attachEvents=function(e,r){var i,o,a;if(t.isDefined(e)&&null!=e&&t.isObject(e)){a=[];for(o in e)i=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(r+": Attaching event: "+o+" to clusterer"),a.push(google.maps.event.addListener(this.clusterer,o,e[o]))):a.push(void 0);return a}},o.prototype.clearEvents=function(e,r){var i,o,a;if(t.isDefined(e)&&null!=e&&t.isObject(e)){a=[];for(o in e)i=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(r+": Clearing event: "+o+" to clusterer"),a.push(google.maps.event.clearListeners(this.clusterer,o))):a.push(void 0);return a}},o.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},o.prototype.fit=function(){return r.fit(this.getGMarkers(),this.clusterer.getMap())},o.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},o.prototype.checkSync=function(){},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,r){var i;return i=function(){function i(n){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=i.type,this.gMap=n,this.gMarkers=new r,this.$log=t,this.$log.info(this)}return i.type="MarkerManager",i.prototype.add=function(e,n){var r,i;if(null==n&&(n=!0),null==e.key)throw i="gMarker.key undefined and it is REQUIRED!!",t.error(i),i;return r=this.gMarkers.get(e.key),r?void 0:(this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e))},i.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},i.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},i.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},i.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},i.prototype.draw=function(){var e;return e=[],this.gMarkers.each(function(t){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)}}(this)),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},i.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new r},i.prototype.handleOptDraw=function(e,t,n){return t===!0?(e.setMap(n?this.gMap:null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)},i.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},i.prototype.getGMarkers=function(){return this.gMarkers.values()},i}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n,r;return n=function(t,n,r){return google.maps.event.addListener(t,n,function(){return r.apply(this,arguments),e(function(){},!0)})},r=function(e,r,i){var o;return i?n(e,r,i):(o=[],t.forEach(r,function(t,r){return o.push(n(e,r,t))}),function(){return t.forEach(o,function(e){return google.maps.event.removeListener(e)}),o=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,r,i,o){var a,s,l,u,c,d,p,f,h;return u=!1,f=r.$eval(i),r["static"]||(c={set_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?(f[e].latitude=t.lat(),f[e].longitude=t.lng()):f[e]=t},insert_at:function(e){var t;
if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?f.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):f.splice(e,0,t)},remove_at:function(e){return u?void 0:f.splice(e,1)}},"Polygon"===f.type?a=f.coordinates[0]:"LineString"===f.type&&(a=f.coordinates),s={set_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return a[e][1]=t.lat(),a[e][0]=t.lng()},insert_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return a.splice(e,0,[t.lng(),t.lat()])},remove_at:function(e){return u?void 0:a.splice(e,1)}},p=e(n,t.isUndefined(f.type)?c:s)),d=function(e){var t,r,i,a,s,l,c,d;if(u=!0,l=n,t=!1,e){for(r=0,c=l.getLength(),a=e.length,i=Math.min(c,a),s=void 0;i>r;)d=l.getAt(r),s=e[r],"function"==typeof s.equals?s.equals(d)||(l.setAt(r,s),t=!0):(d.lat()!==s.latitude||d.lng()!==s.longitude)&&(l.setAt(r,new google.maps.LatLng(s.latitude,s.longitude)),t=!0),r++;for(;a>r;)s=e[r],l.push("function"==typeof s.lat&&"function"==typeof s.lng?s:new google.maps.LatLng(s.latitude,s.longitude)),t=!0,r++;for(;c>r;)l.pop(),t=!0,r++}return u=!1,t?o(l):void 0},l=function(e){var t,r,i,a,s,l,c,d,p;if(u=!0,c=n,r=!1,e){for("Polygon"===f.type?t=e.coordinates[0]:"LineString"===f.type&&(t=e.coordinates),i=0,d=c.getLength(),s=t.length,a=Math.min(d,s),l=void 0;a>i;)p=c.getAt(i),l=t[i],(p.lat()!==l[1]||p.lng()!==l[0])&&(c.setAt(i,new google.maps.LatLng(l[1],l[0])),r=!0),i++;for(;s>i;)l=t[i],c.push(new google.maps.LatLng(l[1],l[0])),r=!0,i++;for(;d>i;)c.pop(),r=!0,i++}return u=!1,r?o(c):void 0},r["static"]||(h=t.isUndefined(f.type)?r.$watchCollection(i,d):r.$watch(i,l,!0)),function(){return p&&(p(),p=null),h?(h(),h=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,n,r;return e=["length","forEach","map"],t=[],n=function(t){return t.forEach=function(n){return _.each(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(n),r=function(t){return t.map=function(n){return _.map(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(r),{slapMap:r,slapForEach:n,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(r,i,o){var a;return a=function(r){function o(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,r),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},o.prototype.buildOpts=function(e,n,r){var o,a,s;return null==e&&(e={}),null==r&&(r={}),this.scope?this.map?(o=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,o),a=t.extend(e,this.DEFAULTS,{map:this.map,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),t.forEach(t.extend(r,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(r,i){var s;return s=n?n[i]:e.scopeOrModelVal(i,e.scope,o),a[i]=t.isUndefined(s)?r:o[i]}}(this)),a["static"]&&(a.editable=!1),a):void i.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void i.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){return null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0]?(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions):void 0}}(this))},o}(o)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var r;return r=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,n),r.prototype.buildOpts=function(e,n,i){var o,a;return a=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,a),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),r.__super__.buildOpts.call(this,e,n,i)},r}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,r){return n.__super__.buildOpts.call(this,{center:e,radius:t},r)},n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,n){return _.extend(n,{createOptions:function(e,r,i,o){var a;return null==i&&(i={}),a=t.extend({},i,{position:null!=i.position?i.position:n.getCoords(e),visible:null!=i.visible?i.visible:n.validateCoords(e)}),(null!=i.icon||null!=r)&&(a=t.extend(a,{icon:null!=i.icon?i.icon:r})),null!=o&&(a.map=o),a},isLabel:function(e){return null==e?!1:null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(r,i,o,a,s){return function(r,i){var l;return l=function(r){function l(n,r,a,l,u){var c;this.scope=n,this.attrs=r,this.map=a,this.defaults=l,this.model=u,this.clean=e(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return _.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},c=function(e){return function(){var n,r;if(!e.isDragging)return r=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),null!=e.scope.model&&(n=e.scope),r.length>0&&(e.gObject=i(e.buildOpts(r,n))),e.gObject?(e.scope.fit&&e.extendMapBounds(e.map,r),o(e.gObject.getPath(),e.scope,"path",function(t){return e.scope.fit?e.extendMapBounds(e.map,t):void 0}),t.isDefined(e.scope.events)&&t.isObject(e.scope.events)&&(e.listeners=e.model?s.setEvents(e.gObject,e.scope,e.model):s.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?s.setEvents(e.gObject,{events:e.internalEvents},e.model):s.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0}}(this),c(),this.scope.$watch("path",function(e){return function(t,n){return _.isEqual(t,n)&&e.gObject?void 0:c()}}(this),!0),!this.scope["static"]&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setEditable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setDraggable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(e){return function(t,n){var r;return t!==n&&(t=!e.isFalse(t)),null!=(r=e.gObject)?r.setVisible(t):void 0}}(this),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this))}return n(l,r),l.include(a),l.prototype.clean=function(){var e;return s.removeEvents(this.listeners),s.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},l}(r)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var n,r;return n=function(e,t,n){var r,i;return i=new google.maps.Polyline({map:e,clickable:!1}),r=google.maps.event.addListener(e,"mousemove",function(e){return i.getPath().push(e.latLng)}),void google.maps.event.addListenerOnce(e,"mouseup",function(){var o;return google.maps.event.removeListener(r),o=i.getPath(),i.setMap(null),t.push(new google.maps.Polygon({map:e,path:o})),i=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()})},r=function(r,i){var o,a;return this.map=r,o=function(t){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},e.info("disabling map move"),t.map.setOptions(n)}}(this),a=function(e){return function(){var t,n;return t={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(n=e.deferred)&&n.resolve(),_.defer(function(){return e.map.setOptions(_.extend(t,i.options))})}}(this),this.engage=function(r){return function(i){return r.polys=i,r.deferred=t.defer(),o(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(r.map.getDiv(),"mousedown",function(){return n(r.map,r.polys,a)}),r.deferred.promise}}(this),this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(t,r,i,o,a,s,l,u,c){var d;return d=function(t){function d(t,n,r,o,s,l,u,f,h,m){var g;this.model=n,this.keys=r,this.gMap=o,this.defaults=s,this.doClick=l,this.gManager=u,this.doDrawSelf=null!=f?f:!0,this.trackModel=null!=h?h:!0,this.needRedraw=null!=m?m:!1,this.internalEvents=e(this.internalEvents,this),this.setLabelOptions=e(this.setLabelOptions,this),this.setOptions=e(this.setOptions,this),this.setIcon=e(this.setIcon,this),this.setCoords=e(this.setCoords,this),this.isNotValid=e(this.isNotValid,this),this.maybeSetScopeValue=e(this.maybeSetScopeValue,this),this.createMarker=e(this.createMarker,this),this.setMyScope=e(this.setMyScope,this),this.updateModel=e(this.updateModel,this),this.handleModelChanges=e(this.handleModelChanges,this),this.destroy=e(this.destroy,this),this.clonedModel=_.extend({},this.model),this.deferred=c.defer(),_.each(this.keys,function(e){return function(t,n){var r;return r=e.keys[n],null!=r&&!_.isFunction(r)&&_.isString(r)?e[n+"Key"]=r:void 0}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),d.__super__.constructor.call(this,t),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){return t!==n?e.handleModelChanges(t,n):void 0}}(this),!0)):(g=new a(function(e){return function(n){return e.firstTime?void 0:e.setMyScope(n,t)}}(this),!1),_.each(this.keys,function(e,n){return t.$watch(n,g.sic,!0)})),this.scope.$on("$destroy",function(e){return function(){return p(e)}}(this)),this.createMarker(this.model),i.info(this)}var p;return n(d,t),d.include(r),d.include(o),d.include(s),p=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},d.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},d.prototype.handleModelChanges=function(e,t){var n,r,i;return n=this.getChanges(e,t,l.keys),this.firstTime?void 0:(r=0,i=_.keys(n).length,_.each(n,function(n){return function(o,a){var s;return r+=1,s=i===r,n.setMyScope(a,e,t,!1,!0,s),n.needRedraw=!0}}(this)))},d.prototype.updateModel=function(e){return this.clonedModel=_.extend({},e),this.setMyScope("all",e,this.model)},d.prototype.renderGMarker=function(e,t){var n;if(null==e&&(e=!0),n=this.getProp("coords",this.scope,this.model),null!=n){if(!this.validateCoords(n))return void i.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=t&&t(),e&&this.gObject)return this.gManager.add(this.gObject)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},d.prototype.setMyScope=function(e,t,n,r,i){var o;switch(null==n&&(n=void 0),null==r&&(r=!1),null==i&&(i=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,i),o=!0),e){case"all":return _.each(this.keys,function(e){return function(o,a){return e.setMyScope(a,t,n,r,i)}}(this));case"icon":return this.maybeSetScopeValue("icon",t,n,this.iconKey,this.evalModelHandle,r,this.setIcon,i);case"coords":return this.maybeSetScopeValue("coords",t,n,this.coordsKey,this.evalModelHandle,r,this.setCoords,i);case"options":if(!o)return this.createMarker(t,n,r,i)}},d.prototype.createMarker=function(e,t,n,r){return null==t&&(t=void 0),null==n&&(n=!1),null==r&&(r=!0),this.maybeSetScopeValue("options",e,t,this.optionsKey,this.evalModelHandle,n,this.setOptions,r),this.firstTime=!1},d.prototype.maybeSetScopeValue=function(e,t,n,r,i,o,a,s){return null==a&&(a=void 0),null==s&&(s=!0),null!=a?a(this.scope,s):void 0},d.doDrawSelf&&doDraw&&d.gManager.draw(),d.prototype.isNotValid=function(e,t){var n,r;return null==t&&(t=!0),r=t?void 0===this.gObject:!1,n=this.trackModel?!1:e.$id!==this.scope.$id,n||r},d.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return r=t.getProp("coords",e,t.model),n=t.getCoords(r),i=t.gObject.getPosition(),null==i||null==n||n.lng()!==i.lng()||n.lat()!==i.lat()?(t.gObject.setPosition(n),t.gObject.setVisible(t.validateCoords(r))):void 0}}(this))},d.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return i=t.gObject.getIcon(),r=t.getProp("icon",e,t.model),i!==r?(t.gObject.setIcon(r),n=t.getProp("coords",e,t.model),t.gObject.setPosition(t.getCoords(n)),t.gObject.setVisible(t.validateCoords(n))):void 0}}(this))},d.prototype.setOptions=function(e,t){var n;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(t){return function(){var n,r,i;return r=t.getProp("coords",e,t.model),i=t.getProp("icon",e,t.model),n=t.getProp("options",e,t.model),t.opts=t.createOptions(r,i,n),t.isLabel(t.gObject)!==t.isLabel(t.opts)&&null!=t.gObject&&(t.gManager.remove(t.gObject),t.gObject=void 0),null!=t.gObject&&t.gObject.setOptions(t.setLabelOptions(t.opts)),t.gObject||(t.gObject=t.isLabel(t.opts)?new MarkerWithLabel(t.setLabelOptions(t.opts)):new google.maps.Marker(t.opts),_.extend(t.gObject,{model:t.model})),t.externalListeners&&t.removeEvents(t.externalListeners),t.internalListeners&&t.removeEvents(t.internalListeners),t.externalListeners=t.setEvents(t.gObject,t.scope,t.model,["dragend"]),t.internalListeners=t.setEvents(t.gObject,{events:t.internalEvents(),$evalAsync:function(){}},t.model),null!=t.id?t.gObject.key=t.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==u.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(n=this.gObject)?n.getMap():0)&&this.gManager.type===u.type||(i.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},d.prototype.setLabelOptions=function(e){return e.labelAnchor&&(e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor)),e},d.prototype.internalEvents=function(){return{dragend:function(e){return function(t,n,r,i){var o,a,s;return a=e.trackModel?e.scope.model:e.model,s=e.setCoordsFromEvent(e.modelOrKey(a,e.coordsKey),e.gObject.getPosition()),a=e.setVal(r,e.coordsKey,s),o=e.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(t,n,a,i),e.scope.$apply()}}(this),click:function(e){return function(t,n,r,i){var o;return o=e.getProp("click",e.scope,e.model),e.doClick&&null!=o?e.scope.$evalAsync(o(t,n,e.model,i)):void 0}}(this)}},d}(t)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,n){var r,i,o;return o=function(e){return new google.maps.Polygon(e)},i=new t(n,o),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,n){var r,i,o;return o=function(e){return new google.maps.Polyline(e)},i=t(n,o),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(i,o,a,s,l,u,c,d){var p;return p=function(i){function p(e,t,r,i,o,s,l,u,c){var d;this.model=e,this.scope=t,this.opts=r,this.isIconVisibleOnClick=i,this.mapCtrl=o,this.markerScope=s,this.element=l,this.needToManualDestroy=null!=u?u:!1,this.markerIsVisibleAfterWindowClose=null!=c?c:!0,this.updateModel=n(this.updateModel,this),this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)&&null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),d=this.getGmarker(),null!=d&&d.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),a.info(this)}return r(p,i),p.include(o),p.include(d),p.prototype.doShow=function(e){return this.scope.show===!0||e?this.showWindow():this.hideWindow()},p.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},p.prototype.watchElement=function(){return this.scope.$watch(function(e){return function(){var t,n;if(e.element||e.html)return e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),n=e.gObject.isOpen(),e.remove(),e.createGWin(n)):void 0}}(this))},p.prototype.createGWin=function(t){var n,r,i,o,a;return null==t&&(t=!1),i=this.getGmarker(),r={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),r=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),n=this.scope.options?this.scope.options:r,this.opts=this.createWindowOptions(i,this.markerScope||this.scope,this.html,n),null!=this.opts?(this.gObject||(this.gObject=this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?new e.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return i&&(i.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&_.delay(function(){return i.setVisible(!1),i.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(a=o.options)?a.forceClick:void 0)||t),this.doShow(this.gObject.isOpen())):void 0},p.prototype.watchCoords=function(){var e;return e=null!=this.markerScope?this.markerScope:this.scope,e.$watch("coords",function(e){return function(t,n){var r;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void a.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(r=e.getCoords(t),e.doShow(),e.gObject.setPosition(r),e.opts)return e.opts.position=r}}}(this),!0)},p.prototype.watchOptions=function(){return this.scope.$watch("options",function(e){return function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}}(this),!0)},p.prototype.handleClick=function(e){var t,n;if(null!=this.gObject)return n=this.getGmarker(),t=function(e){return function(){return null==e.gObject&&e.createGWin(),e.showWindow(),null!=n?(e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)):void 0}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0},p.prototype.showWindow=function(){var e,n,r;return null!=this.gObject?(n=function(e){return function(){var t,n,r;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(r=e.gObject.getPosition()),n&&(r=n.getPosition()),!r)return;if(e.gObject.open(e.mapCtrl,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t}}}(this),this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then(function(e){return function(r){var i,o;return o=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(o.parameter=e.scope.templateParameter),i=s(r.data)(o),e.gObject.setContent(i[0]),n()}}(this)):this.scope.template?(r=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(r.parameter=this.scope.templateParameter),e=s(this.scope.template)(r),this.gObject.setContent(e[0]),n()):n()):void 0},p.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},p.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},p.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},p.prototype.destroy=function(e){var t;return null==e&&(e=!1),this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},p.prototype.updateModel=function(e){return this.clonedModel=_.extend({},e),_.extend(this.model,this.clonedModel)},p}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise",function(r,i,o,a,s,l,u){return function(r,c,d){var p;return p=function(o){function p(t,n,o,a,l){this.element=n,this.attrs=o,this.gMap=a,this.defaults=l,this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),p.__super__.constructor.call(this,t),this["interface"]=r,this.$log=i,this.plurals=new s,_.each(r.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return n(p,o),p.include(a),p.prototype.watchModels=function(e){return e.$watchCollection("models",function(t){return function(n,r){return n!==r?t.doINeedToWipe(n)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1):void 0}}(this))},p.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},p.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},p.prototype.onDestroy=function(){return p.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,u.promiseTypes["delete"],void 0,void 0,function(e){return function(){return l.each(e.plurals.values(),function(e){return e.destroy(!0)},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},p.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},p.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create "+d+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},p.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},p.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,l.promiseLock(this,u.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return l.each(e.models,function(e){var r;return r=t.createChild(e,t.gMap),n&&(i.debug("createNew should fall through safely"),r.isEnabled=!1),n},l.chunkSizeFrom(e.chunk)).then(function(){return t.firstTime=!1})}}(this)))},p.prototype.pieceMeal=function(e,t){var n,r;return null==t&&(t=!0),e.$$destroyed?void 0:(n=null,r=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,u.promiseTypes.update,"pieceMeal",function(e){return n=e},function(t){return function(){return u.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(o){return r=o,r.updates.length&&i.info("polygons updates: "+r.updates.length+" will be missed"),l.each(r.removals,function(e){return null!=e?(e.destroy(),t.plurals.remove(e.model[t.idKey]),n):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(r.adds,function(e){return n&&i.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),n},l.chunkSizeFrom(e.chunk))})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},p.prototype.createChild=function(e,t){var n,i;return i=this.scope.$new(!1),this.setChildScope(r.scopeKeys,i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),i["static"]=this.scope["static"],n=new c(i,this.attrs,t,this.defaults,e),null==e[this.idKey]?void this.$log.error(d+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},p}(o)}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;
t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,r,i,o,a){var s;return s=function(r){function a(e,r,o,a,s){var l,u,c;this.attrs=o,this.map=a,this.DEFAULTS=s,this.scope=e,c=null,l=function(e){return function(){return c=null,null!=e.listeners?(e.removeEvents(e.listeners),e.listeners=void 0):void 0}}(this),u=new google.maps.Circle(this.buildOpts(i.getCoords(e.center),e.radius)),this.setMyOptions=function(t){return function(n,r){return _.isEqual(n,r)?void 0:u.setOptions(t.buildOpts(i.getCoords(e.center),e.radius))}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return u}),l(),this.listeners=this.setEvents(u,e,e,["radius_changed"]),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"radius_changed",function(){var n,r;return n=u.getRadius(),n!==c?(c=n,r=function(){var t,r;return n!==e.radius&&(e.radius=n),(null!=(t=e.events)?t.radius_changed:void 0)&&_.isFunction(null!=(r=e.events)?r.radius_changed:void 0)?e.events.radius_changed(u,"radius_changed",e,arguments):void 0},t.mock?r():e.$evalAsync(function(){return r()})):void 0})),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"center_changed",function(){return e.$evalAsync(function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=u.getCenter().lat(),e.center.coordinates[0]=u.getCenter().lng()):(e.center.latitude=u.getCenter().lat(),e.center.longitude=u.getCenter().lng())})})),e.$on("$destroy",function(){return function(){return l(),u.setMap(null)}}(this)),n.info(this)}return e(a,r),a.include(i),a.include(o),a}(a)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,n,r,i){var o;return o=function(t){function n(e,t,n,r){var i,o;this.scope=e,this.attrs=n,this.map=r,i=new google.maps.drawing.DrawingManager(this.scope.options),i.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return i}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(e){return null!=i?i.setOptions(e):void 0},!0),null!=this.scope.events&&(o=this.setEvents(i,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=o&&e.removeEvents(o),o=e.setEvents(i,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(e){return function(){return null!=o&&e.removeEvents(o),i.setMap(null),i=null}}(this))}return e(n,t),n.include(i),n}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(r,i){var o;return o=function(r){function o(n,r,a,s){if(this.scope=n,this.element=r,this.attrs=a,this.map=s,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=i,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(e){return function(){return e.onDestroy(e.scope)}}(this))}return n(o,r),o.prototype.DEFAULTS={},o.prototype.validateScope=function(e){var t;return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=null!=e.coords,t?t:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(e,t,n){return null==n&&(n=!0),t.$watch(e,function(n){return function(r,i){return _.isEqual(r,i)?void 0:n.onWatch(e,t,r,i)}}(this),n)},o.prototype.onWatch=function(){},o}(r)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,n,r){var i;return i=function(t){function i(e,t,n,o,a,s,l,u){i.__super__.constructor.call(this,e),this.$log=r,this.$timeout=a,this.$compile=s,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return e(i,t),i.include(n),i.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},i}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(r,i){var o;return o=function(r){function o(n,r,o,a,s,l){return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=l?l:i,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,e.gObject.setMap(t?e.gMap:null)):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return t!==n?(e.gObject.setMap(null),e.gObject=null,e.createGoogleLayer()):void 0}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)))}return n(o,r),o.prototype.createGoogleLayer=function(){var e;return this.gObject=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(r,i){var o;return o=function(r){function o(n,r,o,a,s){return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.$log=null!=s?s:i,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.showOverlay():e.hideOverlay()):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null}}(this)))}return n(o,r),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(n,r){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(r))}}(this))},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger",function(r,i,o,a,s,l,u,c,d,p,f){var h,m;return m=function(e,t){return t.plurals=new o,t.scope.plurals=t.plurals,t},h=function(r){function c(t,n,r,i){this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this);var a;c.__super__.constructor.call(this,t,n,r,i),this["interface"]=d,a=this,m(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(t,n){if(!_.isEqual(t,n)||!e.modelsRendered){if(0===t.length&&0===n.length)return;return e.modelsRendered=!0,e.onWatch("models",e.scope,t,n)}}}(this),!this.isTrue(r.modelsbyref)),this.watch("doCluster",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return n(c,r),c.include(f),c.include(i),c.prototype.onWatch=function(e,t,n,r){return"idKey"===e&&n!==r&&(this.idKey=n),this.doRebuildAll||"doCluster"===e?this.rebuildAll(t):this.pieceMeal(t)},c.prototype.validateScope=function(e){var n;return n=t.isUndefined(e.models)||void 0===e.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,e)||n},c.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},c.prototype.createAllNew=function(e){var n,r,i,o,a;return null!=this.gManager&&(this.gManager.clear(),delete this.gManager),e.doCluster?(e.clusterEvents&&(a=this,this.origClusterEvents?t.extend(e.clusterEvents,this.origClusterEvents):this.origClusterEvents={click:null!=(r=e.clusterEvents)?r.click:void 0,mouseout:null!=(i=e.clusterEvents)?i.mouseout:void 0,mouseover:null!=(o=e.clusterEvents)?o.mouseover:void 0},t.extend(e.clusterEvents,{click:function(e){return a.maybeExecMappedEvent(e,"click")},mouseout:function(e){return a.maybeExecMappedEvent(e,"mouseout")},mouseover:function(e){return a.maybeExecMappedEvent(e,"mouseover")}})),this.gManager=new l(this.map,void 0,e.clusterOptions,e.clusterEvents)):this.gManager=new u(this.map),this.didQueueInitPromise(this,e)?void 0:(n=null,s.promiseLock(this,p.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return s.each(e.models,function(r){return t.newChildMarker(r,e),n},s.chunkSizeFrom(e.chunk)).then(function(){return t.modelsRendered=!0,e.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},s.chunkSizeFrom(e.chunk))}}(this)))},c.prototype.rebuildAll=function(e){var t;if(e.doRebuild||void 0===e.doRebuild)return(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e)},c.prototype.pieceMeal=function(e){var t,n;if(!e.$$destroyed)return t=null,n=null,this.modelsLength()&&this.scope.plurals.length?s.promiseLock(this,p.promiseTypes.update,"pieceMeal",function(e){return t=e},function(r){return function(){return p.promise(function(){return r.figureOutState(r.idKey,e,r.scope.plurals,r.modelKeyComparison)}).then(function(i){return n=i,s.each(n.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),r.scope.plurals.remove(e.id),t):void 0},s.chunkSizeFrom(e.chunk))}).then(function(){return s.each(n.adds,function(n){return r.newChildMarker(n,e),t},s.chunkSizeFrom(e.chunk))}).then(function(){return s.each(n.updates,function(e){return r.updateChild(e.child,e.model),t},s.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(e.plurals=r.scope.plurals,e.fit&&r.gManager.fit(),r.gManager.draw()),r.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(e))},c.prototype.newChildMarker=function(e,t){var n,r,i,o;return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),r=t.$new(!1),r.events=t.events,o={},d.scopeKeys.forEach(function(e){return o[e]=t[e]}),n=new a(r,e,o,this.map,this.DEFAULTS,this.doClick,this.gManager,i=!1),this.scope.plurals.put(e[this.idKey],n),n)},c.prototype.onDestroy=function(e){return c.__super__.onDestroy.call(this,e),s.promiseLock(this,p.promiseTypes["delete"],void 0,void 0,function(e){return function(){return s.each(e.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},s.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return null!=e.gManager&&e.gManager.clear(),e.plurals.removeAll(),e.plurals!==e.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),e.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(e,t){var n,r;return _.isFunction(null!=(r=this.scope.clusterEvents)?r[t]:void 0)&&(n=this.mapClusterToPlurals(e),this.origClusterEvents[t])?this.origClusterEvents[t](n.cluster,n.mapped):void 0},c.prototype.mapClusterToPlurals=function(e){var t;return t=e.getMarkers().map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)),{cluster:e,mapped:t}},c.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},c}(r)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,n,r){return t(r,n,e)}])})}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,n,r,i){var o;return o=function(i){function o(e,n,r,i,o){var a,s,l,u,c,d,p,f,h,m,g;this.scope=e,this.attrs=r,this.map=i,this.DEFAULTS=o,a=void 0,u=!1,h=[],f=void 0,c=function(e){return function(){return e.isTrue(e.attrs.fit)?e.fitMapBounds(e.map,a):void 0}}(this),l=function(e){return function(){var n,r,i;return null!=e.scope.bounds&&null!=(null!=(n=e.scope.bounds)?n.sw:void 0)&&null!=(null!=(r=e.scope.bounds)?r.ne:void 0)&&e.validateBoundPoints(e.scope.bounds)?(a=e.convertBoundPoints(e.scope.bounds),t.info("new new bounds created: "+JSON.stringify(a))):null!=e.scope.bounds.getNorthEast&&null!=e.scope.bounds.getSouthWest?a=e.scope.bounds:null!=e.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(i=e.scope)?i.bounds:void 0)):void 0}}(this),l(),d=new google.maps.Rectangle(this.buildOpts(a)),t.info("gObject (rectangle) created: "+d),m=!1,g=function(e){return function(){var t,n,r;return t=d.getBounds(),n=t.getNorthEast(),r=t.getSouthWest(),m?void 0:e.scope.$evalAsync(function(e){return null!=e.bounds&&null!=e.bounds.sw&&null!=e.bounds.ne&&(e.bounds.ne={latitude:n.lat(),longitude:n.lng()},e.bounds.sw={latitude:r.lat(),longitude:r.lng()}),null!=e.bounds.getNorthEast&&null!=e.bounds.getSouthWest?e.bounds=t:void 0})}}(this),p=function(e){return function(){return c(),e.removeEvents(h),h.push(google.maps.event.addListener(d,"dragstart",function(){return u=!0})),h.push(google.maps.event.addListener(d,"dragend",function(){return u=!1,g()})),h.push(google.maps.event.addListener(d,"bounds_changed",function(){return u?void 0:g()}))}}(this),s=function(e){return function(){return e.removeEvents(h),null!=f&&e.removeEvents(f),d.setMap(null)}}(this),null!=a&&p(),this.scope.$watch("bounds",function(e,t){var n;if(!(_.isEqual(e,t)&&null!=a||u))return m=!0,null==e?void s():(null==a?n=!0:c(),l(),d.setBounds(a),m=!1,n&&null!=a?p():void 0)},!0),this.setMyOptions=function(e){return function(t,n){return _.isEqual(t,n)||null==a||null==t?void 0:d.setOptions(e.buildOpts(a))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(f=this.setEvents(d,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=f&&e.removeEvents(f),f=e.setEvents(d,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(){return function(){return s()}}(this)),t.info(this)}return e(o,i),o.include(n),o.include(r),o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(r,i,o){var a;return a=function(r){function a(n,r,o,a,s,l,u){var c;return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.ctrlPosition=s,this.template=l,this.$log=null!=u?u:i,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=t.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())}return n(a,r),a.include(o),a.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(e){return function(n){return t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible)?e.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this))},a.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},a.prototype.addToParentDiv=function(){return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},a.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},a.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(e.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(e)},a.prototype.getBounds=function(){return this.gObject.getBounds()},a.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?e===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):e===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},a}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(r,i,o,a,s,l,u,c,d,p,f,h,m,g,v){var y;return y=function(r){function y(t,n,r,i,a,l){this.gMap=a,this.markersScope=l,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),y.__super__.constructor.call(this,t,n,r,i,c,d,p,f),this["interface"]=g,this.plurals=new o,_.each(g.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new s(t,n,r,i),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return n(y,r),y.include(i),y.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,e.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.createChildScopes()},y.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,function(t){return function(n,r){var i;return!_.isEqual(n,r)||t.firstWatchModels?(t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(i=0===t.plurals.length,null!=t.existingPieces?_.last(t.existingPieces._content).then(function(){return t.createChildScopes(i)}):t.createChildScopes(i))):void 0}}(this),!0)},y.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},y.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},y.prototype.onDestroy=function(){return y.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,m.promiseTypes["delete"],void 0,void 0,function(e){return function(){return l.each(e.plurals.values(),function(e){return e.destroy()},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},y.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}}(this))},y.prototype.watchOurScope=function(e){return _.each(g.scopeKeys,function(t){return function(n){var r;return r=n+"Key",t[r]="function"==typeof e[n]?e[n]():e[n]}}(this))},y.prototype.createChildScopes=function(e){var n,r,i;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=t.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(r=this.markersScope)?r.plurals:void 0)&&void 0!==(null!=(i=this.markersScope)?i.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},y.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},y.prototype.createAllNew=function(e,t,n,r){var i;return null==n&&(n="models"),null==r&&(r=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(i=null,l.promiseLock(this,m.promiseTypes.create,"createAllNew",function(e){return i=e},function(r){return function(){return l.each(e.models,function(o){var a,s;return a=t&&null!=(s=r.getItem(e,n,o[r.idKey]))?s.gObject:void 0,i||(!a&&r.markersScope&&u.error("Unable to get gMarker from markersScope!"),r.createWindow(o,a,r.gMap)),i},l.chunkSizeFrom(e.chunk)).then(function(){return r.firstTime=!1})}}(this)))},y.prototype.pieceMeal=function(e,t,n,r){var i,o;return null==n&&(n="models"),null==r&&(r=!0),e.$$destroyed?void 0:(i=null,o=null,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,m.promiseTypes.update,"pieceMeal",function(e){return i=e},function(t){return function(){return m.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return o=n,l.each(o.removals,function(e){return null!=e?(t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),i):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(o.adds,function(r){var o,a;if(o=null!=(a=t.getItem(e,n,r[t.idKey]))?a.gObject:void 0,!o)throw"Gmarker undefined";return t.createWindow(r,o,t.gMap),i})}).then(function(){return l.each(o.updates,function(e){return t.updateChild(e.child,e.model),i},l.chunkSizeFrom(e.chunk))})}}(this)):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},y.prototype.setContentKeys=function(e){return this.modelsLength(e)?this.contentKeys=Object.keys(e[0]):void 0},y.prototype.createWindow=function(e,t,n){var r,i,o,s,l,u;return i=this.linked.scope.$new(!1),this.setChildScope(i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),o={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},s=this.createWindowOptions(t,i,o.html(),this.DEFAULTS),r=new a(e,i,s,this.isIconVisibleOnClick,n,null!=(l=this.markersScope)&&null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0,o,!1,!0),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],r),r)},y.prototype.setChildScope=function(e,t){return _.each(g.scopeKeys,function(n){return function(r){var i,o;return i=r+"Key",o="self"===n[i]?t:t[n[i]],o!==e[r]?e[r]=o:void 0}}(this)),e.model=t},y.prototype.interpolateContent=function(e,t){var n,r,i,o,a,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=h(e),i={},s=this.contentKeys,r=0,a=s.length;a>r;r++)o=s[r],i[o]=t[o];return n(i)}},y.prototype.modelKeyComparison=function(e,t){var n,r;if(r=null!=this.scope.coords?this.scope:this.parentScope,null==r)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(e,r.coords),this.evalModelHandle(t,r.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(i){return n.evalModelHandle(e,r[i])===n.evalModelHandle(t,r[i])}}(this)):n},y}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return _.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(){return function(i){return new t(e,n,r,i)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(r,i,o,a,s,l){var u;return u=function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.link=function(e,n,u,c){return l.then(function(n){return function(l){var u,d;return t.isUndefined(e.template)?void n.$log.error("mapControl: could not find a valid template property"):(u=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,d=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[d]?r.mapPromise(e,c).then(function(r){var l,c;return l=void 0,c=t.element("<div></div>"),i.get(e.template,{cache:o}).success(function(n){var r,i;return i=e.$new(),c.append(n),t.isDefined(e.controller)&&(r=s(e.controller,{$scope:i}),c.children().data("$ngControllerController",r)),l=a(c.children())(i),u?l[0].index=u:void 0
}).error(function(){return n.$log.error("mapControl: template could not be found")}).then(function(){return r.controls[google.maps.ControlPosition[d]].push(l[0])})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,n){return t.ctrlType="uiGmapDragZoom",_.extend(this,e.handle(t,n))}],link:function(n,r,i,o){return e.mapPromise(n,o).then(function(e){var r,i,o;return r=function(t){return e.enableKeyDragZoom(t),n.spec?n.spec.enableKeyDragZoom(t):void 0},i=new t(function(e,t){return t?r({key:t}):r()}),o=new t(function(e,t){return t?r(t):void 0}),n.$watch("keyboardkey",i.sic),i.sic(n.keyboardkey),n.$watch("options",o.sic),o.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return _.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return new t(e,n,r,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,r,i,o,a){var s;return s=function(r){function s(){return this.link=e(this.link,this),s.__super__.constructor.apply(this,arguments)}return n(s,r),s.include(i),s.prototype.restrict="EMA",s.prototype.replace=!0,s.prototype.require="^uiGmapGoogleMap",s.prototype.scope={polygons:"=",draw:"="},s.prototype.link=function(e,n,r,i){return this.mapPromise(e,i).then(function(){return function(n){var r,s;return e.polygons?_.isArray(e.polygons)?(r=new o(n,i.getScope()),s=void 0,e.draw=function(){return"function"==typeof s&&s(),r.engage(e.polygons).then(function(){var t;return t=!0,s=e.$watchCollection("polygons",function(e,n){var r;return t||e===n?void(t=!1):(r=a.differenceObjects(n,e),r.forEach(function(e){return e.setMap(null)}))})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},s}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var e;return e={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r){var i;return i=function(t){function i(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return e(i,t),i.extend(r),i.prototype.link=function(){throw new Exception("Not implemented!!")},i}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,n){var r;return r=function(t){function r(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return e(r,t),r.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},r.scopeKeys=_.keys(r.scope),r.keys=r.scopeKeys,r.extend(n),r}(t)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r,i){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(i),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=r,o}(n)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r,i){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(i),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=r,o}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var e;return e={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,n,r){var i;return i=function(t){function i(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return e(i,t),i.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},i.scopeKeys=_.keys(i.scope),i.include(n),i.extend(r),i}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(i,o,a,s,l,u,c,d,p,f,h,m,g){var v,y,b;return v=void 0,b=[h,p,f],y=function(o){function l(){this.link=e(this.link,this);var t,n;t=function(e){var t,n;return n=void 0,e.$on("$destroy",function(){return c.decrement()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return b.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},n=_.extend(this,t)},this.controller=["$scope",t],n=this}return r(l,o),l.include(s),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container"></div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(e,r,o){var s,l;return s=[],e.$on("$destroy",function(){return g.removeEvents(s)}),e.idleAndZoomChanged=!1,null==e.center?void(l=e.$watch("center",function(t){return function(){return e.center?(l(),t.link(e,r,o)):void 0}}(this))):m.then(function(l){return function(u){var p,f,h,m,y,b,$,w,E,x,C,k,T,S,M,A,N;if(v={mapTypeId:u.MapTypeId.ROADMAP},S=c.spawn(),k=function(){return S.deferred.resolve({instance:S.instance,map:p})},!l.validateCoords(e.center))return void a.error("angular-google-maps: could not find a valid center property");if(!t.isDefined(e.zoom))return void a.error("angular-google-maps: map zoom property not set");if(y=t.element(r),y.addClass("angular-google-map"),x={options:{}},o.options&&(x.options=e.options),o.styles&&(x.styles=e.styles),o.type&&(M=o.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(M)?x.mapTypeId=google.maps.MapTypeId[o.type.toUpperCase()]:a.error("angular-google-maps: invalid map type '"+o.type+"'")),w=t.extend({},v,x,{center:l.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),p=new google.maps.Map(y.find("div")[1],w),p.uiGmap_id=d.generate(),m=!1,s.push(google.maps.event.addListenerOnce(p,"idle",function(){return e.deferred.resolve(p),k()})),h=o.events&&null!=(null!=(C=e.events)?C.blacklist:void 0)?e.events.blacklist:[],_.isString(h)&&(h=[h]),E=function(t,n,r){return _.contains(h,t)?void 0:(r&&r(),s.push(google.maps.event.addListener(p,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:n()})))},_.contains(h,"all")||(E("dragstart",function(){return m=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=m:void 0})}),E("dragend",function(){return m=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=m:void 0})}),A=function(n,r){if(null==n&&(n=p.center),null==r&&(r=e),!_.contains(h,"center"))if(t.isDefined(r.center.type)){if(r.center.coordinates[1]!==n.lat()&&(r.center.coordinates[1]=n.lat()),r.center.coordinates[0]!==n.lng())return r.center.coordinates[0]=n.lng()}else if(r.center.latitude!==n.lat()&&(r.center.latitude=n.lat()),r.center.longitude!==n.lng())return r.center.longitude=n.lng()},T=!1,E("idle",function(){var t,r,i;return t=p.getBounds(),r=t.getNorthEast(),i=t.getSouthWest(),T=!0,e.$evalAsync(function(t){return A(),null===t.bounds||t.bounds===n||void 0===t.bounds||_.contains(h,"bounds")||(t.bounds.northeast={latitude:r.lat(),longitude:r.lng()},t.bounds.southwest={latitude:i.lat(),longitude:i.lng()}),_.contains(h,"zoom")||(t.zoom=p.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),T=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){$=function(t){return function(){return e.events[t].apply(e,[p,t,arguments])}},f=[];for(b in e.events)e.events.hasOwnProperty(b)&&t.isFunction(e.events[b])&&f.push(google.maps.event.addListener(p,b,$(b)));s.concat(f)}return p.getOptions=function(){return w},e.map=p,null!=o.control&&null!=e.control&&(e.control.refresh=function(e){var t,n,r;if(null!=p)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(r=n.event)?r.trigger:void 0)&&null!=p&&google.maps.event.trigger(p,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=l.getCoords(e),l.isTrue(o.pan)?p.panTo(t):p.setCenter(t)):void 0},e.control.getGMap=function(){return p},e.control.getMapOptions=function(){return w},e.control.getCustomEventListeners=function(){return f},e.control.removeEvents=function(e){return g.removeEvents(e)}),e.$watch("center",function(t,n){var r,i;if(t!==n&&!T&&(r=l.getCoords(e.center),r.lat()!==p.center.lat()||r.lng()!==p.center.lng()))return i=!0,m||(l.validateCoords(t)||a.error("Invalid center for newValue: "+JSON.stringify(t)),l.isTrue(o.pan)&&e.zoom===p.zoom?p.panTo(r):p.setCenter(r)),i=!1},!0),N=null,e.$watch("zoom",function(t,n){var r,o,a;if(null!=t&&!_.isEqual(t,n)&&(null!=p?p.getZoom():void 0)!==(null!=e?e.zoom:void 0)&&!T)return a=!0,null!=N&&i.cancel(N),N=i(function(){return p.setZoom(t),a=!1},(null!=(r=e.eventOpts)&&null!=(o=r.debounce)?o.zoomMs:void 0)+20,!1)}),e.$watch("bounds",function(e,t){var n,r,i,o,s,l,u;if(e!==t)return null==(null!=e&&null!=(i=e.northeast)?i.latitude:void 0)||null==(null!=e&&null!=(o=e.northeast)?o.longitude:void 0)||null==(null!=e&&null!=(s=e.southwest)?s.latitude:void 0)||null==(null!=e&&null!=(l=e.southwest)?l.longitude:void 0)?void a.error("Invalid map bounds for new value: "+JSON.stringify(e)):(r=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),u=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(u,r),p.fitBounds(n))}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,t){var n;return n=this.exp,_.isEqual(e,t)?void 0:("options"===n?x.options=e:x.options[n]=e,null!=p?p.setOptions(x):void 0)},!0)})}}(this))},l}(l)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,r,i,o){var a;return a=function(a){function s(){this.link=e(this.link,this),s.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return n(s,a),s.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Marker",_.extend(this,t.handle(e,n))}],s.prototype.link=function(e,n,o,a){var s;return s=t.mapPromise(e,a),s.then(function(){return function(n){var o,a,s,l,u,c;return s=new i(n),l=_.object(t.keys,t.keys),u=new r(e,e,l,n,{},o=!0,s,a=!1,c=!1),u.deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=s.getGMarkers:void 0}}(this)),e.$on("$destroy",function(){return function(){var e;return"undefined"!=typeof e&&null!==e&&e.clear(),e=null}}(this))},s}(t)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,n,r,i,o){var a;return a=function(i){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',n.extend(this,{doCluster:"=docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref"}),o.info(this)}return e(a,i),a.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Markers",_.extend(this,t.handle(e,n))}],a.prototype.link=function(e,i,o,a){var s,l;return s=void 0,l=function(){return e.deferred.resolve()},t.mapPromise(e,a).then(function(t){var u;return u=a.getScope(),u.$watch("idleAndZoomChanged",function(){return _.defer(s.gManager.draw)}),s=new r(e,i,o,t),n.link(e,s),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=s.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return s.plurals}),_.last(s.existingPieces._content).then(function(){return l()})})},a}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==!0},e.control.managerDraw=function(){var t;return e.control.hasManager()&&null!=(t=e.control.getManager())?t.draw():void 0}):void 0},{extend:function(e,t){return _.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonChildModel",function(t,r,i,o){var a;return a=function(r){function i(){return this.link=e(this.link,this),i.__super__.constructor.apply(this,arguments)}return n(i,r),i.prototype.link=function(e,n,r,i){var a,s;return a=[],s=t.mapPromise(e,i),null!=e.control&&(e.control.getInstance=this,e.control.polygons=a,e.control.promise=s),s.then(function(t){return function(n){return a.push(new o(e,r,n,t.DEFAULTS))}}(this))},i}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonsParentModel","uiGmapPlural",function(r,i,o,a,s){var l;return l=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(o){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polygons: no valid path attribute found"),e.models||i.$log.warn("polygons: no models found to create from"),s.link(e,new a(e,n,r,o,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylineChildModel",function(r,i,o,a){var s;return s=function(i){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.link=function(e,n,i,o){return r.mapPromise(e,o).then(function(n){return function(r){return(t.isUndefined(e.path)||null===e.path||!n.validatePath(e.path))&&n.$log.warn("polyline: no valid path attribute found"),new a(e,i,r,n.DEFAULTS)}}(this))},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylinesParentModel","uiGmapPlural",function(r,i,o,a,s){var l;return l=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(o){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polylines: no valid path attribute found"),e.models||i.$log.warn("polylines: no models found to create from"),s.link(e,new a(e,n,r,o,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,n,r){return _.extend(n,{link:function(e,t,n,i){return i.getScope().deferred.promise.then(function(){return function(i){return new r(e,t,n,i)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(r,i,o,a,s){var l;return l=function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return n(u,l),u.include(i),u.prototype.link=function(e,n,i,o){var a,s;return a=o.length>1&&null!=o[1]?o[1]:void 0,s=null!=a?a.getScope():void 0,this.mapPromise=r.mapPromise(e,o[0]),this.mapPromise.then(function(r){return function(o){var l;return l=!0,t.isDefined(i.isiconvisibleonclick)&&(l=e.isIconVisibleOnClick),a?s.deferred.promise.then(function(){return r.init(e,n,l,o,s)}):void r.init(e,n,l,o)}}(this))},u.prototype.init=function(e,t,n,r,i){var s,l,u,c,d;return l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=i?i.getGMarker:void 0)&&(u=i.getGMarker()),d=c?this.createWindowOptions(u,e,t.html(),l):l,null!=r&&(s=new o({},e,d,n,r,i,t),this.childWindows.push(s),e.$on("$destroy",function(e){return function(){return e.childWindows=a.withoutObjects(e.childWindows,[s],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=s?this.onChildCreation(s):void 0},u}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,r,i,o,a){var s;return s=function(t){function s(){this.init=e(this.init,this),this.link=e(this.link,this),s.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',r.extend(this),a.debug(this)}return n(s,t),s.prototype.link=function(e,t,n,r){var i,a,s;return i=r[0].getScope(),a=r.length>1&&null!=r[1]?r[1]:void 0,s=null!=a?a.getScope():void 0,i.deferred.promise.then(function(i){return function(a){var l,u;return l=(null!=s&&null!=(u=s.deferred)?u.promise:void 0)||o.resolve(),l.then(function(){var o,l;return o=null!=(l=i.parentModel)?l.existingPieces:void 0,o?o.then(function(){return i.init(e,t,n,r,a,s)}):i.init(e,t,n,r,a,s)})}}(this))},s.prototype.init=function(e,t,n,o,a,s){var l;return l=new i(e,t,n,o,a,s),r.link(e,l),null!=e.control?(e.control.getGWindows=function(){return function(){return l.plurals.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(){return function(){return l.plurals}}(this)):void 0},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,r,i){return new i(e,t,n,r)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,r,i,o){return new o(e,t,n,r,i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(){return function(i){return null!=e.onCreated?new r(e,t,n,i,e.onCreated):new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(){return function(i){return new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,r,i,o,a,s){var l;return new(l=function(){function l(){this.link=e(this.link,this),this.$log=r,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,r,l,u){return n.then(function(n){return function(c){return o.get(e.template,{cache:a}).success(function(o){return t.isUndefined(e.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(a){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new i(e,r,l,a,u,s(o)(e)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(r,i){var o,a,s;return o=function(t,n){return e[t](i,"ng-hide").then(function(){return n()})},a=function(t,n){return e[t](i,"ng-hide",n)},s=function(e,r){return t.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?a(e,r):o(e,r)},r.$watch("uiGmapShow",function(e){return e&&s("removeClass",r.uiGmapAfterShow),e?void 0:s("addClass",r.uiGmapAfterHide)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(e,n,r,i){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(a,s){return e.then(function(){return function(){var e,l,u,c,d,p,f,h,m,g;return h=void 0,g=void 0,u=!1,p=void 0,f=null,m=null,e=function(){return i.removeEvents(p),null!=h&&(h.unbind("position"),h.setVisible(!1)),null!=g?(null!=(null!=g?g.setVisible:void 0)&&g.setVisible(!1),g=void 0):void 0},d=function(e,n){var r;return r=google.maps.geometry.spherical.computeHeading(e,n),u=!0,a.radius=a.radius||50,m=t.extend({heading:r,zoom:1,pitch:0},a.povoptions||{}),f=f=t.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:e,pov:m,visible:!0},a.options||{}),u=!1},l=function(){var t;return a.focalcoord?a.radius?(e(),null==g&&(g=new google.maps.StreetViewService),a.events&&(p=i.setEvents(g,a,a)),t=r.getCoords(a.focalcoord),g.getPanoramaByLocation(t,a.radius,function(e,n){var r,i,o;return null!=a.imagestatus&&(a.imagestatus=n),null!=(null!=(o=a.events)?o.image_status_changed:void 0)&&a.events.image_status_changed(g,"image_status_changed",a,n),"OK"===n?(i=e.location.latLng,d(i,t),r=s[0],h=new google.maps.StreetViewPanorama(r,f)):void 0})):void n.error(o+": needs a radius to set the camera view from its focal target."):void n.error(o+": focalCoord needs to be defined")},null!=a.control&&(a.control.getOptions=function(){return f},a.control.getPovOptions=function(){return m},a.control.getGObject=function(){return g},a.control.getGPano=function(){return h}),a.$watch("options",function(e,t){return e===t||e===f||u?void 0:l()
}),c=!0,a.$watch("focalcoord",function(e,t){return e===t&&!c||null==e?void 0:(c=!1,l())}),a.$on("$destroy",function(){return e()})}}(this))}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){/*
 Version: core-1.0
 The MIT License: Copyright (c) 2012 LiosK.
*/
function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?0/0:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):0/0},e._ha=function(e,t){for(var n=e.toString(16),r=t-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){/**
 * @name InfoBox
 * @version 1.1.13 [March 19, 2014]
 * @author Gary Little (inspired by proof-of-concept code from Pamela Fox of Google)
 * @copyright Copyright 2010 Gary Little [gary at luxcentral.com]
 * @fileoverview InfoBox extends the Google Maps JavaScript API V3 <tt>OverlayView</tt> class.
 *  <p>
 *  An InfoBox behaves like a <tt>google.maps.InfoWindow</tt>, but it supports several
 *  additional properties for advanced styling. An InfoBox can also be used as a map label.
 *  <p>
 *  An InfoBox also fires the same events as a <tt>google.maps.InfoWindow</tt>.
 */
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&(e.visible="undefined"==typeof e.isHidden?!0:!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}/**
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(e,t){e.getMarkerClusterer().extend(r,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function i(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new r(this,e.getStyles())}function o(e,t,r){this.extend(o,google.maps.OverlayView),t=t||[],r=r||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=r.gridSize||60,this.minClusterSize_=r.minimumClusterSize||2,this.maxZoom_=r.maxZoom||null,this.styles_=r.styles||[],this.title_=r.title||"",this.zoomOnClick_=!0,r.zoomOnClick!==n&&(this.zoomOnClick_=r.zoomOnClick),this.averageCenter_=!1,r.averageCenter!==n&&(this.averageCenter_=r.averageCenter),this.ignoreHidden_=!1,r.ignoreHidden!==n&&(this.ignoreHidden_=r.ignoreHidden),this.enableRetinaIcons_=!1,r.enableRetinaIcons!==n&&(this.enableRetinaIcons_=r.enableRetinaIcons),this.imagePath_=r.imagePath||o.IMAGE_PATH,this.imageExtension_=r.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=r.imageSizes||o.IMAGE_SIZES,this.calculator_=r.calculator||o.CALCULATOR,this.batchSize_=r.batchSize||o.BATCH_SIZE,this.batchSizeIE_=r.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}/**
 * @name MarkerWithLabel for V3
 * @version 1.1.10 [April 8, 2014]
 * @author Gary Little (inspired by code from Marc Ridey of Google).
 * @copyright Copyright 2012 Gary Little [gary at luxcentral.com]
 * @fileoverview MarkerWithLabel extends the Google Maps JavaScript API V3
 *  <code>google.maps.Marker</code> class.
 *  <p>
 *  MarkerWithLabel allows you to define markers with associated labels. As you would expect,
 *  if the marker is draggable, so too will be the label. In addition, a marker with a label
 *  responds to all mouse events in the same manner as a regular marker. It also fires mouse
 *  events and "property changed" events just as a regular marker would. Version 1.1 adds
 *  support for the raiseOnDrag feature introduced in API V3.3.
 *  <p>
 *  If you drag a marker by its label, you can cancel the drag and return the marker to its
 *  original position by pressing the <code>Esc</code> key. This doesn't work if you drag the marker
 *  itself because this feature is not (yet) supported in the <code>google.maps.Marker</code> class.
 */
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(t)}function l(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new s(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}t.prototype=new google.maps.OverlayView,t.prototype.createInfoBoxDiv_=function(){var e,t,n,r=this,i=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},o=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),r.enableEventPropagation_||i(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],i));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},t.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},t.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},t.prototype.panBox_=function(e){var t,n,r=0,i=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),n=t.getBounds();var o=t.getDiv(),a=o.offsetWidth,s=o.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,p=this.infoBoxClearance_.width,f=this.infoBoxClearance_.height,h=this.getProjection().fromLatLngToContainerPixel(this.position_);if(h.x<-l+p?r=h.x+l-p:h.x+c+l+p>a&&(r=h.x+c+l+p-a),this.alignBottom_?h.y<-u+f+d?i=h.y+u-f-d:h.y+u+f>s&&(i=h.y+u+f-s):h.y<-u+f?i=h.y+u-f:h.y+d+u+f>s&&(i=h.y+d+u+f-s),0!==r||0!==i){{t.getCenter()}t.panBy(r,i)}}},t.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},t.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},t.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},t.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},t.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},t.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},t.prototype.getContent=function(){return this.content_},t.prototype.getPosition=function(){return this.position_},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},t.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},t.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},t.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},t.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){function t(e,t){var n=this,r=new google.maps.OverlayView;r.onAdd=function(){n.init_(e,t)},r.draw=function(){},r.onRemove=function(){},r.setMap(e),this.prjov_=r}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},r=function(e){var t,r={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return r.top=parseInt(t.borderTopWidth,10)||0,r.bottom=parseInt(t.borderBottomWidth,10)||0,r.left=parseInt(t.borderLeftWidth,10)||0,r.right=parseInt(t.borderRightWidth,10)||0,r}else if(document.documentElement.currentStyle&&e.currentStyle)return r.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,r.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,r.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,r.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,r;return r.top=parseInt(e.style["border-top-width"],10)||0,r.bottom=parseInt(e.style["border-bottom-width"],10)||0,r.left=parseInt(e.style["border-left-width"],10)||0,r.right=parseInt(e.style["border-right-width"],10)||0,r},i={x:0,y:0},o=function(){i.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,i.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var a=function(t){var n=0,r=0;return t=t||e.event,"undefined"!=typeof t.pageX?(n=t.pageX,r=t.pageY):"undefined"!=typeof t.clientX&&(n=t.clientX+i.x,r=t.clientY+i.y),{left:n,top:r}},s=function(t){for(var n=t.offsetLeft,r=t.offsetTop,i=t.offsetParent;null!==i;){i!==document.body&&i!==document.documentElement&&(n-=i.scrollLeft,r-=i.scrollTop);var o=i,a=o.offsetLeft,s=o.offsetTop;if(!a&&!s&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");a+=parseInt(u[4],10)||0,s+=parseInt(u[5],10)||0}}n+=a,r+=s,i=i.offsetParent}return{left:n,top:r}},l=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e,t){"undefined"!=typeof t&&(e.style.opacity=t),"undefined"!=typeof e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var i,a=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=r(this.map_.getDiv()),this.veilDiv_=[],i=0;4>i;i++)this.veilDiv_[i]=document.createElement("div"),this.veilDiv_[i].onselectstart=function(){return!1},l(this.veilDiv_[i].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[i].style,n.paneStyle),l(this.veilDiv_[i].style,n.veilStyle),l(this.veilDiv_[i].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[i].style.MozUserSelect="none"),u(this.veilDiv_[i]),"transparent"===this.veilDiv_[i].style.backgroundColor&&(this.veilDiv_[i].style.backgroundColor="white",u(this.veilDiv_[i],0)),this.map_.getDiv().appendChild(this.veilDiv_[i]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=r(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){a.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){a.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){a.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){a.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){a.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,r=this;return t=document.createElement("div"),t.className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){r.hotKeyDown_=!r.hotKeyDown_,r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on,r.activatedByControl_=!0,google.maps.event.trigger(r,"activate")):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off,google.maps.event.trigger(r,"deactivate")),r.onMouseMove_(e)},t.onmouseover=function(){r.buttonDiv_.firstChild.style.left=-(1*r.visualSize_.width)+"px"},t.onmouseout=function(){r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(t=t||e.event,n=t.shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_,!n)switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,r=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,i=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=r+"px",this.veilDiv_[3].style.top=r+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(r+o)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=a(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),n=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},t.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=a(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),i=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,r-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,i-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+i+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+i)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+i),new google.maps.Point(t+r,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var r=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y),s=!0;s&&(r+=this.borderWidths_.left,i+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(r,i+a)),c=l.fromContainerPixelToLatLng(new google.maps.Point(r+o,i)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<t&&this.map_.setZoom(t);var p=l.fromLatLngToContainerPixel(u),f=l.fromLatLngToContainerPixel(c);s&&(p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top,f.x-=this.borderWidths_.left,f.y-=this.borderWidths_.top),this.boxDiv_.style.left=p.x+"px",this.boxDiv_.style.top=f.y+"px",this.boxDiv_.style.width=Math.abs(f.x-p.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(f.y-p.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(){var e,t,n,r,i,o,a,s,l=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),i=Math.abs(this.startPt_.y-this.endPt_.y),o=this.prjov_.getProjection(),a=o.fromContainerPixelToLatLng(new google.maps.Point(t,n+i)),s=o.fromContainerPixelToLatLng(new google.maps.Point(t+r,n)),l=new google.maps.LatLngBounds(a,s)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",l)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),r.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(r){if(e=!1,!t){var i,o,a=n.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",n.cluster_),google.maps.event.trigger(a,"clusterclick",n.cluster_),a.getZoomOnClick()&&(o=a.getMaxZoom(),i=n.cluster_.getBounds(),a.getMap().fitBounds(i),setTimeout(function(){a.getMap().fitBounds(i),null!==o&&a.getMap().getZoom()>o&&a.getMap().setZoom(o+1)},100)),r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},r.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},r.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},r.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},r.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},r.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},r.prototype.setCenter=function(e){this.center_=e},r.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},r.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},i.prototype.getSize=function(){return this.markers_.length},i.prototype.getMarkers=function(){return this.markers_},i.prototype.getCenter=function(){return this.center_},i.prototype.getMap=function(){return this.map_},i.prototype.getMarkerClusterer=function(){return this.markerClusterer_},i.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},i.prototype.addMarker=function(e){var t,n,r;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,o=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,a=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,r=this.markerClusterer_.getMaxZoom(),null!==r&&this.map_.getZoom()>r)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},i.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},i.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},i.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(r),this.clusterIcon_.show()},i.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},o.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},o.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},o.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(e){this.gridSize_=e},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(e){this.maxZoom_=e},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(e){this.styles_=e},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(e){this.title_=e},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(e){this.averageCenter_=e},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(e){this.imageExtension_=e},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(e){this.imagePath_=e},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(e){this.imageSizes_=e},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(e){this.calculator_=e},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(e){this.clusterClass_=e},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},o.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},o.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},o.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},o.prototype.removeMarkers=function(e,t){var n,r,i=!1;for(n=0;n<e.length;n++)r=this.removeMarker_(e[n]),i=i||r;return!t&&i&&this.repaint(),i},o.prototype.removeMarker_=function(e){var t,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){n=t;break}return-1===n?!1:(e.setMap(null),this.markers_.splice(n,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},o.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),r=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),i=t.fromLatLngToDivPixel(n);i.x+=this.gridSize_,i.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(r);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=t.fromDivPixelToLatLng(i),s=t.fromDivPixelToLatLng(o);return e.extend(a),e.extend(s),e},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null)},o.prototype.distanceBetweenPoints_=function(e,t){var n=6371,r=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2),a=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),s=n*a;return s},o.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},o.prototype.addToClosestCluster_=function(e){var t,n,r,o,a=4e4,s=null;for(t=0;t<this.clusters_.length;t++)r=this.clusters_[t],o=r.getCenter(),o&&(n=this.distanceBetweenPoints_(o,e.getPosition()),a>n&&(a=n,s=r));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(r=new i(this),r.addMarker(e),this.clusters_.push(r))},o.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(r),a=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;a>t;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){i.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},o.CALCULATOR=function(e,t){for(var n=0,r="",i=e.length.toString(),o=i;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,t),{text:i,index:n,title:r}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],a(s,google.maps.OverlayView),s.getSharedCross=function(e){var t;return"undefined"==typeof s.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,s.getSharedCross.crossDiv=t),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var e,t,n,r,i,o,a,l=this,u=!1,c=!1,d=20,p="url("+this.handCursorURL_+")",f=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},h=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=p),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),f(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(i){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(h,1406)}catch(o){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),r=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(r){var s;u&&(c?(r.latLng=new google.maps.LatLng(r.latLng.lat()-t,r.latLng.lng()-n),s=l.getProjection().fromLatLngToDivPixel(r.latLng),i&&(l.crossDiv_.style.left=s.x+"px",l.crossDiv_.style.top=s.y+"px",l.crossDiv_.style.display="",s.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(s)),i&&(l.eventDiv_.style.top=s.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",r)):(t=r.latLng.lat()-l.marker_.getPosition().lat(),n=r.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),o=l.marker_.getPosition(),a=l.marker_.getMap().getCenter(),i=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),r.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",r)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(i=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(r?r=!1:(google.maps.event.trigger(l.marker_,"click",e),f(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),f(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(){c||(i=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){c||i&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){c||i&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()
}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},s.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},s.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")&&this.marker_.getVisible()?"block":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},a(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},e.InfoBox=t,e.Cluster=i,e.ClusterIcon=r,e.MarkerClusterer=o,e.MarkerLabel_=s,e.MarkerWithLabel=l})}}),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,r){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:r(1).Graph,Queue:r(1).Queue}})},function(e,t,n){(function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(e){(function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,r,i,o,a;if(r=this._nodes[e]){o=r._outEdges;for(i in o)n.call(o,i)&&this.removeEdge(e,i);a=r._inEdges;for(t in a)n.call(a,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],r}},e.prototype.addEdge=function(e,t,n){var r,i,o;return null==n&&(n=1),!this.getEdge(e,t)&&(i=this._nodes[e],o=this._nodes[t],i&&o)?(r={weight:n},i._outEdges[t]=r,o._inEdges[e]=r,this.edgeSize++,r):void 0},e.prototype.getEdge=function(e,t){var n,r;return n=this._nodes[e],r=this._nodes[t],n&&r?n._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var n,r,i;return r=this._nodes[e],i=this._nodes[t],(n=this.getEdge(e,t))?(delete r._outEdges[t],delete i._inEdges[e],this.edgeSize--,n):void 0},e.prototype.getInEdgesOf=function(e){var t,r,i,o;i=this._nodes[e],r=[],o=null!=i?i._inEdges:void 0;for(t in o)n.call(o,t)&&r.push(this.getEdge(t,e));return r},e.prototype.getOutEdgesOf=function(e){var t,r,i,o;t=this._nodes[e],r=[],o=null!=t?t._outEdges:void 0;for(i in o)n.call(o,i)&&r.push(this.getEdge(e,i));return r},e.prototype.getAllEdgesOf=function(e){var t,n,r,i,o,a,s;if(n=this.getInEdgesOf(e),r=this.getOutEdgesOf(e),0===n.length)return r;for(i=this.getEdge(e,e),t=o=0,a=n.length;a>=0?a>o:o>a;t=a>=0?++o:--o)if(n[t]===i){s=[n[n.length-1],n[t]],n[t]=s[0],n[n.length-1]=s[1],n.pop();break}return n.concat(r)},e.prototype.forEachNode=function(e){var t,r,i;i=this._nodes;for(t in i)n.call(i,t)&&(r=i[t],e(r,t))},e.prototype.forEachEdge=function(e){var t,r,i,o,a,s;a=this._nodes;for(r in a)if(n.call(a,r)){i=a[r],s=i._outEdges;for(o in s)n.call(s,o)&&(t=s[o],e(t))}},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,r,i;t=function(){function e(e){var t,n,r,i,o,a;for(null==e&&(e=[]),this._data=[void 0],r=0,o=e.length;o>r;r++)n=e[r],null!=n&&this._data.push(n);if(this._data.length>1)for(t=i=2,a=this._data.length;a>=2?a>i:i>a;t=a>=2?++i:--i)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t,n;for(t=this._data[e];this._data[e]<this._data[r(e)]&&e>1;)n=[this._data[r(e)],this._data[e]],this._data[e]=n[0],this._data[r(e)]=n[1],e=r(e)},e.prototype._downHeap=function(){var e,t,r;for(e=1;n(e<this._data.length)&&(t=n(e),t<this._data.length-1&&this._data[i(e)]<this._data[t]&&(t=i(e)),this._data[t]<this._data[e]);)r=[this._data[e],this._data[t]],this._data[t]=r[0],this._data[e]=r[1],e=t},e}(),r=function(e){return e>>1},n=function(e){return e<<1},i=function(e){return(e<<1)+1},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,r,i,o;if(-this.size<=e&&e<this.size){if(e=this._adjust(e),2*e<this.size)for(t=this.head,n=r=1;e>=r;n=r+=1)t=t.next;else for(t=this.tail,n=i=1,o=this.size-e-1;o>=i;n=i+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,r,i,o,a;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(r={value:e},t=this._adjust(t),0===this.size?this.head=r:0===t?(i=[r,this.head,r],this.head.prev=i[0],r.next=i[1],this.head=i[2]):(n=this.at(t-1),o=[n.next,r,r,n],r.next=o[0],null!=(a=n.next)?a.prev=o[1]:void 0,n.next=o[2],r.prev=o[3]),t===this.size&&(this.tail=r),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,n,r;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(e),n=t.value,t.prev.next=t.next,null!=(r=t.next)&&(r.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,r;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),r=t;n&&n.value!==e;)n=n.next,r++;return r===this.size?-1:r},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,r,i,o={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,r;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(n in t)o.call(t,n)&&(r=t[n],this.set(n,r))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var o,a;return null==t&&(t=!1),a=r(e),i(e)?(o=n+this._id,t&&!e[o]&&(e[o]=this._itemId++),o+"_"+e[o]):a+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype["delete"]=function(e){var t;return t=this.hash(e),t in this._content?(delete this._content[t],i(e)&&delete e[n+this._id],this.size--,!0):!1},e.prototype.forEach=function(e){var t,n,r;r=this._content;for(t in r)o.call(r,t)&&(n=r[t],e(n[1],n[0]))},e}(),i=function(e){var t,n,i,o,a;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],i=r(e),o=0,a=t.length;a>o;o++)if(n=t[o],i===n)return!1;return!0},r=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;if(0!==this.size)return this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,r,i,o,a,s,l,u,c,d,p,f,h,m;n=0,r=1,i=2,s=3,o=1,t=2,a=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root,this.size=0,n=0,r=e.length;r>n;n++)t=e[n],null!=t&&this.add(t)}return e.prototype.add=function(e){var a,d,p,f;if(null!=e){if(this.size++,p={value:e,_color:o},this._root){if(d=l(this._root,function(t){return e===t.value?n:e<t.value?t._left?r:(p._parent=t,t._left=p,s):t._right?i:(p._parent=t,t._right=p,s)}),null!=d)return}else this._root=p;for(a=p;;){if(a===this._root){a._color=t;break}if(a._parent._color===t)break;{if((null!=(f=m(a))?f._color:void 0)!==o){!c(a)&&c(a._parent)?(this._rotateLeft(a._parent),a=a._left):c(a)&&!c(a._parent)&&(this._rotateRight(a._parent),a=a._right),a._parent._color=t,u(a)._color=o,c(a)?this._rotateRight(u(a)):this._rotateLeft(u(a));break}a._parent._color=t,m(a)._color=t,u(a)._color=o,a=u(a)}}return e}},e.prototype.has=function(e){var t;return t=l(this._root,function(t){return e===t.value?n:e<t.value?r:i}),t?!0:!1},e.prototype.peekMin=function(){var e;return null!=(e=f(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=p(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=l(this._root,function(t){return e===t.value?n:e<t.value?r:i}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=f(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=p(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,n){var r,i,a,s,l,u,p,m,g,v;if(n._left&&n._right&&(i=f(n._right),n.value=i.value,n=i),i=n._left||n._right,i||(i={color:t,_right:void 0,_left:void 0,isLeaf:!0}),i._parent=n._parent,null!=(a=n._parent)&&(a[d(n)]=i),n._color===t)if(i._color===o)i._color=t,i._parent||(this._root=i);else for(;;){if(!i._parent){this._root=i.isLeaf?void 0:i;break}if(r=h(i),(null!=r?r._color:void 0)===o&&(i._parent._color=o,r._color=t,c(i)?this._rotateLeft(i._parent):this._rotateRight(i._parent)),r=h(i),i._parent._color!==t||r&&(r._color!==t||r._left&&r._left._color!==t||r._right&&r._right._color!==t)){if(!(i._parent._color!==o||r&&(r._color!==t||r._left&&(null!=(s=r._left)?s._color:void 0)!==t||r._right&&(null!=(l=r._right)?l._color:void 0)!==t))){null!=r&&(r._color=o),i._parent._color=t;break}if((null!=r?r._color:void 0)===t){!c(i)||r._right&&r._right._color!==t||(null!=(u=r._left)?u._color:void 0)!==o?c(i)||r._left&&r._left._color!==t||(null!=(m=r._right)?m._color:void 0)!==o||(r._color=o,null!=(g=r._right)&&(g._color=t),this._rotateLeft(r)):(r._color=o,null!=(p=r._left)&&(p._color=t),this._rotateRight(r));break}r=h(i),r._color=i._parent._color,c(i)?(r._right._color=t,this._rotateRight(i._parent)):(r._left._color=t,this._rotateLeft(i._parent))}else null!=r&&(r._color=o),i.isLeaf&&(i._parent[d(i)]=void 0),i=i._parent}return i.isLeaf&&null!=(v=i._parent)?v[d(i)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e.prototype._rotateRight=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),c=function(e){return e===e._parent._left},d=function(e){return c(e)?"_left":"_right"},l=function(e,t){var o,a,l;for(a=e,l=void 0;a;){if(o=t(a),o===n){l=a;break}if(o===r)a=a._left;else if(o===i)a=a._right;else if(o===s)break}return l},f=function(e){return l(e,function(e){return e._left?r:n})},p=function(e){return l(e,function(e){return e._right?i:n})},u=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},m=function(e){return u(e)?c(e._parent)?u(e)._right:u(e)._left:void 0},h=function(e){return c(e)?e._parent._right:e._parent._left},e.exports=a}).call(this)},function(e,t,n){(function(){var t,r,i,o,a={}.hasOwnProperty;t=n(6),i="end",r=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root={},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,r,o;if(null!=e){for(this.size++,t=this._root,r=0,o=e.length;o>r;r++)n=e[r],null==t[n]&&(t[n]={}),t=t[n];return t[i]=!0,e}},e.prototype.has=function(e){var t,n,r,o;if(null==e)return!1;for(t=this._root,r=0,o=e.length;o>r;r++){if(n=e[r],null==t[n])return!1;t=t[n]}return t[i]?!0:!1},e.prototype.longestPrefixOf=function(e){var t,n,r,i,o;if(null==e)return"";for(t=this._root,r="",i=0,o=e.length;o>i&&(n=e[i],null!=t[n]);i++)r+=n,t=t[n];return r},e.prototype.wordsWithPrefix=function(e){var n,r,o,s,l,u,c,d,p,f;if(null==e)return[];for(null!=e||(e=""),c=[],r=this._root,d=0,p=e.length;p>d;d++)if(o=e[d],r=r[o],null==r)return[];for(l=new t,l.enqueue([r,""]);0!==l.size;){f=l.dequeue(),s=f[0],n=f[1],s[i]&&c.push(e+n);for(o in s)a.call(s,o)&&(u=s[o],l.enqueue([u,n+o]))}return c},e.prototype.remove=function(e){var t,n,r,a,s,l,u,c;if(null!=e){for(t=this._root,a=[],s=0,u=e.length;u>s;s++){if(r=e[s],null==t[r])return;t=t[r],a.push([r,t])}if(t[i]){if(this.size--,delete t[i],o(t,1))return e;for(n=l=c=a.length-1;(1>=c?1>=l:l>=1)&&!o(a[n][1],1);n=1>=c?++l:--l)delete a[n-1][1][a[n][0]];return o(this._root[a[0][0]],1)||delete this._root[a[0][0]],e}}},e}(),o=function(e,t){var n,r;if(0===t)return!0;r=0;for(n in e)if(a.call(e,n)&&(r++,r>=t))return!0;return!1},e.exports=r}).call(this)}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,n){return{init:_.once(function(){(function(){var r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function r(e){r.__super__.constructor.call(this,e),this.markers_=new n}return i(r,e),r.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var r=this.markers_.get(e.key);if(r.getPosition().lat()==e.getPosition().lat()&&r.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,o=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,a=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},r.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},r.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new n,delete this.markers_},r}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,r,i){t.__super__.constructor.call(this,e,r,i),this.markers_=new n}return i(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new n},t.prototype.removeMarker_=function(e){return this.markers_.get(e.key)?(e.setMap(null),this.markers_.remove(e.key),!0):!1},t.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(r),a=Math.min(e+this.batchSize_,this.markers_.length),s=this.markers_.values();for(t=e;a>t;t++)n=s[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){i.createClusters_(a)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,n,r,i,o=4e4,a=null;for(t=0;t<this.clusters_.length;t++)r=this.clusters_[t],i=r.getCenter(),i&&(n=this.distanceBetweenPoints_(i,e.getPosition()),o>n&&(o=n,a=r));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(r=new NgMapCluster(this),r.addMarker(e),this.clusters_.push(r))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])}(window,angular),angular.module("ngGeolocation",[]).factory("$geolocation",["$rootScope","$window","$q",function(e,t,n){function r(){return"geolocation"in t.navigator}var i={getCurrentPosition:function(o){var a=n.defer();return r()?t.navigator.geolocation.getCurrentPosition(function(t){e.$apply(function(){i.position.coords=t.coords,i.position.timestamp=t.timestamp,a.resolve(t)})},function(t){e.$apply(function(){a.reject({error:t})})},o):a.reject({error:{code:2,message:"This web browser does not support HTML5 Geolocation"}}),a.promise},watchPosition:function(n){r()?this.watchId||(this.watchId=t.navigator.geolocation.watchPosition(function(t){e.$apply(function(){i.position.coords=t.coords,i.position.timestamp=t.timestamp,delete i.position.error,e.$broadcast("$geolocation.position.changed",t)})},function(t){e.$apply(function(){i.position.error=t,delete i.position.coords,delete i.position.timestamp,e.$broadcast("$geolocation.position.error",t)})},n)):i.position={error:{code:2,message:"This web browser does not support HTML5 Geolocation"}}},clearWatch:function(){this.watchId&&(t.navigator.geolocation.clearWatch(this.watchId),delete this.watchId)},position:{}};return i}]),/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 */
function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+n/r*100,a=Math.max(1-(1-e)/t*(100-o),e),s=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return d[i]||(p.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",p.cssRules.length),d[i]=1),i}function r(e,t){var n,r,i=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<c.length;r++)if(n=c[r]+t,void 0!==i[n])return n;return void 0!==i[t]?t:void 0}function i(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function a(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=o(e||{},s.defaults,f)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,r){function o(){return i(n("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function s(e,s,l){t(p,t(i(o(),{rotation:360/r.lines*e+"deg",left:~~s}),t(i(n("roundrect",{arcsize:r.corners}),{width:u,height:r.width,left:r.radius,top:-r.width>>1,filter:l}),n("fill",{color:a(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,u=r.length+r.width,c=2*u,d=2*-(r.width+r.length)+"px",p=i(o(),{position:"absolute",top:d,left:d});if(r.shadow)for(l=1;l<=r.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)s(l);return t(e,p)},s.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var u,c=["webkit","Moz","ms","O"],d={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};s.defaults={},o(s.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,o=n.el=i(e(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex});if(i(o,{left:r.left,top:r.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!u){var a,s=0,l=(r.lines-1)*(1-r.direction)/2,c=r.fps,d=c/r.speed,p=(1-r.opacity)/(d*r.trail/100),f=d/r.lines;!function h(){s++;for(var e=0;e<r.lines;e++)a=Math.max(1-(s+(r.lines-e)*f)%d*p,r.opacity),n.opacity(o,e*r.direction+l,a,r);n.timeout=n.el&&setTimeout(h,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,o){function s(t,n){return i(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*c+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var l,c=0,d=(o.lines-1)*(1-o.direction)/2;c<o.lines;c++)l=i(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:u&&n(o.opacity,o.trail,d+c*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,i(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,s(a(o.color,c),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var h=i(e("group"),{behavior:"url(#default#VML)"});return!r(h,"transform")&&h.adj?l():u=r(h,"animation"),s}),/**
 * angular-spinner version 0.6.1
 * License: MIT.
 * Copyright (C) 2013, 2014, Uri Shaked and contributors.
 */
function(e){"use strict";function t(e,t){return e.module("angularSpinner",[]).provider("usSpinnerConfig",function(){var e={};return{setDefaults:function(t){e=t||e},$get:function(){return{config:e}}}}).factory("usSpinnerService",["$rootScope",function(e){var t={};return t.spin=function(t){e.$broadcast("us-spinner:spin",t)},t.stop=function(t){e.$broadcast("us-spinner:stop",t)},t}]).directive("usSpinner",["$window","usSpinnerConfig",function(n,r){return{scope:!0,link:function(i,o,a){function s(){i.spinner&&i.spinner.stop()}var l=t||n.Spinner;i.spinner=null,i.key=e.isDefined(a.spinnerKey)?a.spinnerKey:!1,i.startActive=e.isDefined(a.spinnerStartActive)?i.$eval(a.spinnerStartActive):i.key?!1:!0,i.spin=function(){i.spinner&&i.spinner.spin(o[0])},i.stop=function(){i.startActive=!1,s()},i.$watch(a.usSpinner,function(e){s(),e=e||{};for(var t in r.config)void 0===e[t]&&(e[t]=r.config[t]);i.spinner=new l(e),(!i.key||i.startActive)&&i.spinner.spin(o[0])},!0),i.$on("us-spinner:spin",function(e,t){t===i.key&&i.spin()}),i.$on("us-spinner:stop",function(e,t){t===i.key&&i.stop()}),i.$on("$destroy",function(){i.stop(),i.spinner=null})}}}])}"function"==typeof define&&define.amd?define(["angular","spin"],t):t(e.angular)}(window),/*! ngTable v0.5.3 by Vitalii Savchuk(esvit666@gmail.com) - https://github.com/esvit/ng-table - New BSD License */
!function(e,t){"use strict";return"function"==typeof define&&define.amd?void define(["angular"],function(e){return t(e)}):t(e)}(angular||null,function(e){"use strict";var t=e.module("ngTable",[]);return t.value("ngTableDefaults",{params:{},settings:{}}),t.factory("NgTableParams",["$q","$log","ngTableDefaults",function(t,n,r){var i=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o=function(o,a){var s=this,l=function(){c.debugMode&&n.debug&&n.debug.apply(this,arguments)};this.data=[],this.parameters=function(t,n){if(n=n||!1,e.isDefined(t)){for(var r in t){var o=t[r];if(n&&r.indexOf("[")>=0){for(var a=r.split(/\[(.*)\]/).reverse(),s="",c=0,d=a.length;d>c;c++){var p=a[c];if(""!==p){var f=o;o={},o[s=p]=i(f)?parseFloat(f):f}}"sorting"===s&&(u[s]={}),u[s]=e.extend(u[s]||{},o[s])}else u[r]=i(t[r])?parseFloat(t[r]):t[r]}return l("ngTable: set parameters",u),this}return u},this.settings=function(t){return e.isDefined(t)?(e.isArray(t.data)&&(t.total=t.data.length),c=e.extend(c,t),l("ngTable: set settings",c),this):c},this.page=function(t){return e.isDefined(t)?this.parameters({page:t}):u.page},this.total=function(t){return e.isDefined(t)?this.settings({total:t}):c.total},this.count=function(t){return e.isDefined(t)?this.parameters({count:t,page:1}):u.count},this.filter=function(t){return e.isDefined(t)?this.parameters({filter:t,page:1}):u.filter},this.sorting=function(t){if(2==arguments.length){var n={};return n[t]=arguments[1],this.parameters({sorting:n}),this}return e.isDefined(t)?this.parameters({sorting:t}):u.sorting},this.isSortBy=function(t,n){return e.isDefined(u.sorting[t])&&e.equals(u.sorting[t],n)},this.orderBy=function(){var e=[];for(var t in u.sorting)e.push(("asc"===u.sorting[t]?"+":"-")+t);return e},this.getData=function(t,n){return t.resolve(e.isArray(this.data)&&e.isObject(n)?this.data.slice((n.page()-1)*n.count(),n.page()*n.count()):[]),t.promise},this.getGroups=function(n,r){var i=t.defer();return i.promise.then(function(t){var i={};e.forEach(t,function(t){var n=e.isFunction(r)?r(t):t[r];i[n]=i[n]||{data:[]},i[n].value=n,i[n].data.push(t)});var o=[];for(var a in i)o.push(i[a]);l("ngTable: refresh groups",o),n.resolve(o)}),this.getData(i,s)},this.generatePagesArray=function(e,t,n){var r,i,o,a,s,l;if(r=11,l=[],s=Math.ceil(t/n),s>1){l.push({type:"prev",number:Math.max(1,e-1),active:e>1}),l.push({type:"first",number:1,active:e>1,current:1===e}),o=Math.round((r-5)/2),a=Math.max(2,e-o),i=Math.min(s-1,e+2*o-(e-a)),a=Math.max(2,a-(2*o-(i-a)));for(var u=a;i>=u;)l.push(u===a&&2!==u||u===i&&u!==s-1?{type:"more",active:!1}:{type:"page",number:u,active:e!==u,current:e===u}),u++;l.push({type:"last",number:s,active:e!==s,current:e===s}),l.push({type:"next",number:Math.min(s,e+1),active:s>e})}return l},this.url=function(t){t=t||!1;var n=t?[]:{};for(var r in u)if(u.hasOwnProperty(r)){var i=u[r],o=encodeURIComponent(r);if("object"==typeof i){for(var a in i)if(!e.isUndefined(i[a])&&""!==i[a]){var s=o+"["+encodeURIComponent(a)+"]";t?n.push(s+"="+i[a]):n[s]=i[a]}}else e.isFunction(i)||e.isUndefined(i)||""===i||(t?n.push(o+"="+encodeURIComponent(i)):n[o]=encodeURIComponent(i))}return n},this.reload=function(){var e=t.defer(),n=this,r=null;return c.$scope?(c.$loading=!0,r=c.groupBy?c.getGroups(e,c.groupBy,this):c.getData(e,this),l("ngTable: reload data"),r||(r=e.promise),r.then(function(e){return c.$loading=!1,l("ngTable: current scope",c.$scope),c.groupBy?(n.data=e,c.$scope&&(c.$scope.$groups=e)):(n.data=e,c.$scope&&(c.$scope.$data=e)),c.$scope&&(c.$scope.pages=n.generatePagesArray(n.page(),n.total(),n.count())),c.$scope.$emit("ngTableAfterReloadData"),e})):void 0},this.reloadPages=function(){var e=this;c.$scope.pages=e.generatePagesArray(e.page(),e.total(),e.count())};var u=this.$params={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};e.extend(u,r.params);var c={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],sortingIndicator:"span",getGroups:this.getGroups,getData:this.getData};return e.extend(c,r.settings),this.settings(a),this.parameters(o,!0),this};return o}]),t.factory("ngTableParams",["NgTableParams",function(e){return e}]),t.controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn",function(t,n,r,i,o,a,s,l){function u(){t.params.$params.page=1}var c=!0;t.$filterRow={},t.$loading=!1,t.hasOwnProperty("params")||(t.params=new n,t.params.isNullInstance=!0),t.params.settings().$scope=t;var d=function(){var e=0;return function(t,n){r.cancel(e),e=r(t,n)}}();t.$watch("params.$params",function(n,r){if(n!==r){if(t.params.settings().$scope=t,e.equals(n.filter,r.filter))t.params.reload();else{var i=c?e.noop:u;d(function(){i(),t.params.reload()},t.params.settings().filterDelay)}t.params.isNullInstance||(c=!1)}},!0),this.compileDirectiveTemplates=function(){if(!s.hasClass("ng-table")){t.templates={header:a.templateHeader?a.templateHeader:"ng-table/header.html",pagination:a.templatePagination?a.templatePagination:"ng-table/pager.html"},s.addClass("ng-table");var n=null;0===s.find("> thead").length&&(n=e.element(document.createElement("thead")).attr("ng-include","templates.header"),s.prepend(n));var r=e.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});s.after(r),n&&o(n)(t),o(r)(t)}},this.loadFilterData=function(n){e.forEach(n,function(n){var r;return r=n.filterData(t,{$column:n}),r?e.isObject(r)&&e.isObject(r.promise)?(delete n.filterData,r.promise.then(function(t){e.isArray(t)||e.isFunction(t)||e.isObject(t)?e.isArray(t)&&t.unshift({title:"-",id:""}):t=[],n.data=t})):n.data=r:void delete n.filterData})},this.buildColumns=function(e){return e.map(function(e){return l.buildColumn(e,t)})},this.setupBindingsToInternalScope=function(n){var r=i(n);t.$watch(r,function(n){e.isUndefined(n)||(t.paramsModel=r,t.params=n)},!1),a.showFilter&&t.$parent.$watch(a.showFilter,function(e){t.show_filter=e}),a.disableFilter&&t.$parent.$watch(a.disableFilter,function(e){t.$filterRow.disabled=e})},t.sortBy=function(e,n){var r=e.sortable&&e.sortable();if(r){var i=t.params.settings().defaultSort,o="asc"===i?"desc":"asc",a=t.params.sorting()&&t.params.sorting()[r]&&t.params.sorting()[r]===i,s=n.ctrlKey||n.metaKey?t.params.sorting():{};s[r]=a?o:i,t.params.parameters({sorting:s})}}}]),t.factory("ngTableColumn",[function(){function t(t,r){var i=Object.create(t);for(var o in n)void 0===i[o]&&(i[o]=n[o]),e.isFunction(i[o])||!function(e){i[e]=function(){return t[e]}}(o),function(e){var n=i[e];i[e]=function(){return 0===arguments.length?n.call(t,r):n.apply(t,arguments)}}(o);return i}var n={"class":function(){return""},filter:function(){return!1},filterData:e.noop,headerTemplateURL:function(){return!1},headerTitle:function(){return" "},sortable:function(){return!1},show:function(){return!0},title:function(){return" "},titleAlt:function(){return""}};return{buildColumn:t}}]),t.directive("ngTable",["$q","$parse",function(t,n){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(t){var r=[],i=0,o=null;return e.forEach(e.element(t.find("tr")),function(t){t=e.element(t),t.hasClass("ng-table-group")||o||(o=t)}),o?(e.forEach(o.find("td"),function(t){var o=e.element(t);if(!o.attr("ignore-cell")||"true"!==o.attr("ignore-cell")){var a=function(e){return o.attr("x-data-"+e)||o.attr("data-"+e)||o.attr(e)},s=function(t){var i=a(t);return i?function(t,o){return n(i)(t,e.extend(o||{},{$columns:r}))}:void 0},l=a("title-alt")||a("title");l&&o.attr("data-title-text","{{"+l+"}}"),r.push({id:i++,title:s("title"),titleAlt:s("title-alt"),headerTitle:s("header-title"),sortable:s("sortable"),"class":s("header-class"),filter:s("filter"),headerTemplateURL:s("header"),filterData:s("filter-data"),show:o.attr("ng-show")?function(e){return n(o.attr("ng-show"))(e)}:void 0})}}),function(e,t,n,i){e.$columns=r=i.buildColumns(r),i.setupBindingsToInternalScope(n.ngTable),i.loadFilterData(r),i.compileDirectiveTemplates()}):void 0}}}]),t.directive("ngTableDynamic",["$parse",function(t){function n(e){if(!e||e.indexOf(" with ")>-1){var t=e.split(/\s+with\s+/);return{tableParams:t[0],columns:t[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")}return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(r){var i;return e.forEach(e.element(r.find("tr")),function(t){t=e.element(t),t.hasClass("ng-table-group")||i||(i=t)}),i?(e.forEach(i.find("td"),function(t){var n=e.element(t),r=function(e){return n.attr("x-data-"+e)||n.attr("data-"+e)||n.attr(e)},i=r("title");i||n.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}");var o=n.attr("ng-show");o||n.attr("ng-show","$columns[$index].show(this)")}),function(e,r,i,o){var a=n(i.ngTableDynamic),s=t(a.columns)(e)||[];e.$columns=o.buildColumns(s),o.setupBindingsToInternalScope(a.tableParams),o.loadFilterData(e.$columns),o.compileDirectiveTemplates()}):void 0}}}]),t.directive("ngTablePagination",["$compile",function(t){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(n,r){n.params.settings().$scope.$on("ngTableAfterReloadData",function(){n.pages=n.params.generatePagesArray(n.params.page(),n.params.total(),n.params.count())},!0),n.$watch("templateUrl",function(i){if(!e.isUndefined(i)){var o=e.element(document.createElement("div"));o.attr({"ng-include":"templateUrl"}),r.append(o),t(o)(n)}})}}}]),e.module("ngTable").run(["$templateCache",function(e){e.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" ng-show="filter==\'select-multiple\'" class="filter filter-select-multiple form-control" name="{{name}}"> </select>'),e.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-show="filter==\'select\'" class="filter filter-select form-control" name="{{name}}"> </select>'),e.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-if="filter==\'text\'" class="input-filter form-control"/>'),e.put("ng-table/header.html",'<tr> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-show="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" ng-show="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-show="template" ng-include="template"></div> </th> </tr> <tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-show="$column.show(this)" class="filter"> <div ng-repeat="(name, filter) in $column.filter(this)"> <div ng-if="filter.indexOf(\'/\') !==-1" ng-include="filter"></div> <div ng-if="filter.indexOf(\'/\')===-1" ng-include="\'ng-table/filters/\' + filter + \'.html\'"></div> </div> </th> </tr> '),e.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> ')}]),t}),/*!
 * Bootstrap-select v1.7.2 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2015 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(){!function(e){"use strict";function t(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,function(){t=t.replace(this.re,this.ch)}),t}function n(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",r=new RegExp(n),i=new RegExp(n,"g"),o=null==e?"":""+e;return r.test(o)?o.replace(i,function(e){return t[e]}):o}function r(t,n){var r=arguments,o=t,a=n;[].shift.apply(r);var s,l=this.each(function(){var t=e(this);if(t.is("select")){var n=t.data("selectpicker"),l="object"==typeof o&&o;if(n){if(l)for(var u in l)l.hasOwnProperty(u)&&(n.options[u]=l[u])}else{var c=e.extend({},i.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),l);t.data("selectpicker",n=new i(this,c,a))}"string"==typeof o&&(s=n[o]instanceof Function?n[o].apply(n,r):n.options[o])}});return"undefined"!=typeof s?s:l}String.prototype.includes||!function(){var e={}.toString,t=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),n="".indexOf,r=function(t){if(null==this)throw TypeError();var r=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=r.length,o=String(t),a=o.length,s=arguments.length>1?arguments[1]:void 0,l=s?Number(s):0;l!=l&&(l=0);var u=Math.min(Math.max(l,0),i);return a+u>i?!1:-1!=n.call(r,o,l)};t?t(String.prototype,"includes",{value:r,configurable:!0,writable:!0}):String.prototype.includes=r}(),String.prototype.startsWith||!function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),t={}.toString,n=function(e){if(null==this)throw TypeError();var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var r=n.length,i=String(e),o=i.length,a=arguments.length>1?arguments[1]:void 0,s=a?Number(a):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),r);if(o+l>r)return!1;for(var u=-1;++u<o;)if(n.charCodeAt(l+u)!=i.charCodeAt(u))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(e,t,n){n=[];for(t in e)n.hasOwnProperty.call(e,t)&&n.push(t);return n}),e.expr[":"].icontains=function(t,n,r){var i=e(t),o=(i.data("tokens")||i.text()).toUpperCase();return o.includes(r[3].toUpperCase())},e.expr[":"].ibegins=function(t,n,r){var i=e(t),o=(i.data("tokens")||i.text()).toUpperCase();return o.startsWith(r[3].toUpperCase())},e.expr[":"].aicontains=function(t,n,r){var i=e(t),o=(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase();return o.includes(r[3].toUpperCase())},e.expr[":"].aibegins=function(t,n,r){var i=e(t),o=(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase();return o.startsWith(r[3].toUpperCase())};var i=function(t,n,r){r&&(r.stopPropagation(),r.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=i.prototype.val,this.render=i.prototype.render,this.refresh=i.prototype.refresh,this.setStyle=i.prototype.setStyle,this.selectAll=i.prototype.selectAll,this.deselectAll=i.prototype.deselectAll,this.destroy=i.prototype.remove,this.remove=i.prototype.remove,this.show=i.prototype.show,this.hide=i.prototype.hide,this.init()};i.VERSION="1.7.2",i.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},i.prototype={constructor:i,init:function(){var t=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof n&&(this.$button.attr("data-id",n),e('label[for="'+n+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on("hide.bs.dropdown",function(e){t.$element.trigger("hide.bs.select",e)}),this.$newElement.on("hidden.bs.dropdown",function(e){t.$element.trigger("hidden.bs.select",e)}),this.$newElement.on("show.bs.dropdown",function(e){t.$element.trigger("show.bs.select",e)}),this.$newElement.on("shown.bs.dropdown",function(e){t.$element.trigger("shown.bs.select",e)}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple?" show-tick":"",r=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+"></div>":"",s=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",u='<div class="btn-group bootstrap-select'+t+r+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+o+a+s+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return e(u)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var r=this,i=[],o=0,a=document.createElement("option"),s=-1,l=function(e,t,n,r){return"<li"+("undefined"!=typeof n&""!==n?' class="'+n+'"':"")+("undefined"!=typeof t&null!==t?' data-original-index="'+t+'"':"")+("undefined"!=typeof r&null!==r?'data-optgroup="'+r+'"':"")+">"+e+"</li>"},u=function(e,i,o,a){return'<a tabindex="0"'+("undefined"!=typeof i?' class="'+i+'"':"")+("undefined"!=typeof o?' style="'+o+'"':"")+(r.options.liveSearchNormalize?' data-normalized-text="'+t(n(e))+'"':"")+("undefined"!=typeof a||null!==a?' data-tokens="'+a+'"':"")+">"+e+'<span class="'+r.options.iconBase+" "+r.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(s--,!this.$element.find(".bs-title-option").length)){var c=this.$element[0];a.className="bs-title-option",a.appendChild(document.createTextNode(this.options.title)),a.value="",c.insertBefore(a,c.firstChild),null===c.options[c.selectedIndex].getAttribute("selected")&&(a.selected=!0)}return this.$element.find("option").each(function(t){var n=e(this);if(s++,!n.hasClass("bs-title-option")){var a=this.className||"",c=this.style.cssText,d=n.data("content")?n.data("content"):n.html(),p=n.data("tokens")?n.data("tokens"):null,f="undefined"!=typeof n.data("subtext")?'<small class="text-muted">'+n.data("subtext")+"</small>":"",h="undefined"!=typeof n.data("icon")?'<span class="'+r.options.iconBase+" "+n.data("icon")+'"></span> ':"",m=this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled;if(""!==h&&m&&(h="<span>"+h+"</span>"),r.options.hideDisabled&&m)return void s--;if(n.data("content")||(d=h+'<span class="text">'+d+f+"</span>"),"OPTGROUP"===this.parentElement.tagName&&n.data("divider")!==!0){if(0===n.index()){o+=1;var g=this.parentElement.label,v="undefined"!=typeof n.parent().data("subtext")?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"",y=n.parent().data("icon")?'<span class="'+r.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"",b=" "+this.parentElement.className||"";g=y+'<span class="text">'+g+v+"</span>",0!==t&&i.length>0&&(s++,i.push(l("",null,"divider",o+"div"))),s++,i.push(l(g,null,"dropdown-header"+b,o))}i.push(l(u(d,"opt "+a+b,c,p),t,"",o))}else n.data("divider")===!0?i.push(l("",t,"divider")):n.data("hidden")===!0?i.push(l(u(d,a,c,p),t,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(s++,i.push(l("",null,"divider",o+"div"))),i.push(l(u(d,a,c,p),t)));r.liObj[t]=s}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),i.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var n,r=this;t!==!1&&this.$element.find("option").each(function(e){var t=r.findLis().eq(r.liObj[e]);r.setDisabled(e,this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,t),r.setSelected(e,this.selected,t)}),this.tabIndex();var i=this.$element.find("option").map(function(){if(this.selected){if(r.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled))return!1;var t,n=e(this),i=n.data("icon")&&r.options.showIcon?'<i class="'+r.options.iconBase+" "+n.data("icon")+'"></i> ':"";return t=r.options.showSubtext&&n.data("subtext")&&!r.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"","undefined"!=typeof n.attr("title")?n.attr("title"):n.data("content")&&r.options.showContent?n.data("content"):i+n.html()+t}}).toArray(),o=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&i.length>a[1]||1==a.length&&i.length>=2){n=this.options.hideDisabled?", [disabled]":"";var s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,s):this.options.countSelectedText;o=l.replace("{0}",i.length.toString()).replace("{1}",s.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",e.trim(o.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e?e:this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(t){if(t||this.options.size!==!1&&!this.sizeInfo){var n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("ul"),o=document.createElement("li"),a=document.createElement("li"),s=document.createElement("a"),l=document.createElement("span"),u=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,d=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",n.className=this.$menu[0].parentNode.className+" open",r.className="dropdown-menu open",i.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),a.appendChild(s),i.appendChild(a),i.appendChild(o),u&&r.appendChild(u),c){var f=document.createElement("span");c.className="bs-searchbox",f.className="form-control",c.appendChild(f),r.appendChild(c)}d&&r.appendChild(d),r.appendChild(i),p&&r.appendChild(p),n.appendChild(r),document.body.appendChild(n);var h=s.offsetHeight,m=u?u.offsetHeight:0,g=c?c.offsetHeight:0,v=d?d.offsetHeight:0,y=p?p.offsetHeight:0,b=e(o).outerHeight(!0),$=getComputedStyle?getComputedStyle(r):!1,w=$?e(r):null,E=parseInt($?$.paddingTop:w.css("paddingTop"))+parseInt($?$.paddingBottom:w.css("paddingBottom"))+parseInt($?$.borderTopWidth:w.css("borderTopWidth"))+parseInt($?$.borderBottomWidth:w.css("borderBottomWidth")),_=E+parseInt($?$.marginTop:w.css("marginTop"))+parseInt($?$.marginBottom:w.css("marginBottom"))+2;document.body.removeChild(n),this.sizeInfo={liHeight:h,headerHeight:m,searchHeight:g,actionsHeight:v,doneButtonHeight:y,dividerHeight:b,menuPadding:E,menuExtras:_}}},setSize:function(){this.findLis(),this.liHeight();var t,n,r,i,o=this,a=this.$menu,s=this.$menuInner,l=e(window),u=this.$newElement[0].offsetHeight,c=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,p=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,v=this.sizeInfo.menuExtras,y=this.options.hideDisabled?".disabled":"",b=function(){r=o.$newElement.offset().top-l.scrollTop(),i=l.height()-r-u};if(b(),this.options.header&&a.css("padding-top",0),"auto"===this.options.size){var $=function(){var l,u=function(t,n){return function(r){return n?r.classList?r.classList.contains(t):e(r).hasClass(t):!(r.classList?r.classList.contains(t):e(r).hasClass(t))}},m=o.$menuInner[0].getElementsByTagName("li"),y=Array.prototype.filter?Array.prototype.filter.call(m,u("hidden",!1)):o.$lis.not(".hidden"),$=Array.prototype.filter?Array.prototype.filter.call(y,u("dropdown-header",!0)):y.filter(".dropdown-header");b(),t=i-v,o.options.container?(a.data("height")||a.data("height",a.height()),n=a.data("height")):n=a.height(),o.options.dropupAuto&&o.$newElement.toggleClass("dropup",r>i&&n>t-v),o.$newElement.hasClass("dropup")&&(t=r-v),l=y.length+$.length>3?3*c+v-2:0,a.css({"max-height":t+"px",overflow:"hidden","min-height":l+d+p+f+h+"px"}),s.css({"max-height":t-d-p-f-h-g+"px","overflow-y":"auto","min-height":Math.max(l-g,0)+"px"})};$(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",$),l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",$)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(y).length>this.options.size){var w=this.$lis.not(".divider").not(y).children().slice(0,this.options.size).last().parent().index(),E=this.$lis.slice(0,w+1).filter(".divider").length;t=c*this.options.size+E*m+g,o.options.container?(a.data("height")||a.data("height",a.height()),n=a.data("height")):n=a.height(),o.options.dropupAuto&&this.$newElement.toggleClass("dropup",r>i&&n>t-v),a.css({"max-height":t+d+p+f+h+"px",overflow:"hidden","min-height":""}),s.css({"max-height":t-g+"px","overflow-y":"auto","min-height":""})}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),r=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(n,r)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t,n,r=this,i="<div />",o=e(i),a=function(e){o.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),n=e.hasClass("dropup")?0:e[0].offsetHeight,o.css({top:t.top+n,left:t.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){r.isDisabled()||(a(e(this)),o.appendTo(r.options.container),o.toggleClass("open",!e(this).hasClass("open")),o.append(r.$menu))}),e(window).on("resize scroll",function(){a(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),o.detach()})},setSelected:function(e,t,n){if(!n)var n=this.findLis().eq(this.liObj[e]);n.toggleClass("selected",t)},setDisabled:function(e,t,n){if(!n)var n=this.findLis().eq(this.liObj[e]);t?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this,n=e(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),n.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")&&(e.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("click",function(){t.setSize(),t.$element.on("shown.bs.select",function(){if(t.options.liveSearch||t.multiple){if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if("number"!=typeof e)return;var n=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=n}}else t.$menu.find(".selected a").focus()})}),this.$menu.on("click","li a",function(n){var r=e(this),i=r.parent().data("originalIndex"),o=t.$element.val(),a=t.$element.prop("selectedIndex");if(t.multiple&&n.stopPropagation(),n.preventDefault(),!t.isDisabled()&&!r.parent().hasClass("disabled")){var s=t.$element.find("option"),l=s.eq(i),u=l.prop("selected"),c=l.parent("optgroup"),d=t.options.maxOptions,p=c.data("maxOptions")||!1;if(t.multiple){if(l.prop("selected",!u),t.setSelected(i,!u),r.blur(),d!==!1||p!==!1){var f=d<s.filter(":selected").length,h=p<c.find("option:selected").length;if(d&&f||p&&h)if(d&&1==d)s.prop("selected",!1),l.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);else if(p&&1==p){c.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=r.parent().data("optgroup");t.$menu.find('[data-optgroup="'+m+'"]').removeClass("selected"),t.setSelected(i,!0)}else{var g="function"==typeof t.options.maxOptionsText?t.options.maxOptionsText(d,p):t.options.maxOptionsText,v=g[0].replace("{n}",d),y=g[1].replace("{n}",p),b=e('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][d>1?0:1]),y=y.replace("{var}",g[2][p>1?0:1])),l.prop("selected",!1),t.$menu.append(b),d&&f&&(b.append(e("<div>"+v+"</div>")),t.$element.trigger("maxReached.bs.select")),p&&h&&(b.append(e("<div>"+y+"</div>")),t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(i,!1)},10),b.delay(750).fadeOut(300,function(){e(this).remove()})}}}else s.prop("selected",!1),l.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus(),(o!=t.$element.val()&&t.multiple||a!=t.$element.prop("selectedIndex")&&!t.multiple)&&(t.$element.change(),t.$element.trigger("changed.bs.select",[i,l.prop("selected"),u]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll(),t.$element.change()}),this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var r=this,i=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){r.$menuInner.find(".active").removeClass("active"),r.$searchbox.val()&&(r.$searchbox.val(""),r.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove()),r.multiple||r.$menuInner.find(".selected").addClass("active"),setTimeout(function(){r.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(r.$searchbox.val()){var o=r.$lis.not(".is-hidden").removeClass("hidden").children("a");o=o.not(r.options.liveSearchNormalize?":a"+r._searchStyle()+"("+t(r.$searchbox.val())+")":":"+r._searchStyle()+"("+r.$searchbox.val()+")"),o.parent().addClass("hidden"),r.$lis.filter(".dropdown-header").each(function(){var t=e(this),n=t.data("optgroup");0===r.$lis.filter("[data-optgroup="+n+"]").not(t).not(".hidden").length&&(t.addClass("hidden"),r.$lis.filter("[data-optgroup="+n+"div]").addClass("hidden"))});var a=r.$lis.not(".hidden");a.each(function(t){var n=e(this);n.hasClass("divider")&&(n.index()===a.eq(0).index()||n.index()===a.last().index()||a.eq(t+1).hasClass("divider"))&&n.addClass("hidden")}),r.$lis.not(".hidden, .no-results").length?i.parent().length&&i.remove():(i.parent().length&&i.remove(),i.html(r.options.noneResultsText.replace("{0}",'"'+n(r.$searchbox.val())+'"')).show(),r.$menuInner.append(i))}else r.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove();r.$lis.filter(".active").removeClass("active"),r.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),e(this).focus()})},_searchStyle:function(){var e="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":e="ibegins";break;case"contains":}return e},val:function(e){return"undefined"!=typeof e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(n){var r,i,o,a,s,l,u,c,d,p=e(this),f=p.is("input")?p.parent().parent():p.parent(),h=f.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(h.options.liveSearch&&(f=p.parent().parent()),h.options.container&&(f=h.$menu),r=e("[role=menu] li a",f),d=h.$menu.parent().hasClass("open"),!d&&(n.keyCode>=48&&n.keyCode<=57||event.keyCode>=65&&event.keyCode<=90)&&(h.options.container?h.$newElement.trigger("click"):(h.setSize(),h.$menu.parent().addClass("open"),d=!0),h.$searchbox.focus()),h.options.liveSearch&&(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&0===h.$menu.find(".active").length&&(n.preventDefault(),h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus()),r=e("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",f),p.val()||/(38|40)/.test(n.keyCode.toString(10))||0===r.filter(".active").length&&(r=h.$newElement.find("li"),r=r.filter(h.options.liveSearchNormalize?":a"+h._searchStyle()+"("+t(g[n.keyCode])+")":":"+h._searchStyle()+"("+g[n.keyCode]+")"))),r.length){if(/(38|40)/.test(n.keyCode.toString(10)))i=r.index(r.filter(":focus")),a=r.parent(m).first().data("originalIndex"),s=r.parent(m).last().data("originalIndex"),o=r.eq(i).parent().nextAll(m).eq(0).data("originalIndex"),l=r.eq(i).parent().prevAll(m).eq(0).data("originalIndex"),u=r.eq(o).parent().prevAll(m).eq(0).data("originalIndex"),h.options.liveSearch&&(r.each(function(t){e(this).hasClass("disabled")||e(this).data("index",t)}),i=r.index(r.filter(".active")),a=r.first().data("index"),s=r.last().data("index"),o=r.eq(i).nextAll().eq(0).data("index"),l=r.eq(i).prevAll().eq(0).data("index"),u=r.eq(o).prevAll().eq(0).data("index")),c=p.data("prevIndex"),38==n.keyCode?(h.options.liveSearch&&(i-=1),i!=u&&i>l&&(i=l),a>i&&(i=a),i==c&&(i=s)):40==n.keyCode&&(h.options.liveSearch&&(i+=1),-1==i&&(i=0),i!=u&&o>i&&(i=o),i>s&&(i=s),i==c&&(i=a)),p.data("prevIndex",i),h.options.liveSearch?(n.preventDefault(),p.hasClass("dropdown-toggle")||(r.removeClass("active").eq(i).addClass("active").children("a").focus(),p.focus())):r.eq(i).focus();else if(!p.is("input")){var v,y,b=[];r.each(function(){e(this).parent().hasClass("disabled")||e.trim(e(this).text().toLowerCase()).substring(0,1)==g[n.keyCode]&&b.push(e(this).parent().index())}),v=e(document).data("keycount"),v++,e(document).data("keycount",v),y=e.trim(e(":focus").text().toLowerCase()).substring(0,1),y!=g[n.keyCode]?(v=1,e(document).data("keycount",v)):v>=b.length&&(e(document).data("keycount",0),v>b.length&&(v=1)),r.eq(b[v-1]).focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&h.options.selectOnTab)&&d){if(/(32)/.test(n.keyCode.toString(10))||n.preventDefault(),h.options.liveSearch)/(32)/.test(n.keyCode.toString(10))||(h.$menu.find(".active a").click(),p.focus());else{var $=e(":focus");$.click(),$.focus(),n.preventDefault(),e(document).data("spaceSelect",!0)}e(document).data("keycount",0)}(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&(h.multiple||h.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!d)&&(h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var o=e.fn.selectpicker;e.fn.selectpicker=r,e.fn.selectpicker.Constructor=i,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=o,this},e(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',i.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);r.call(t,t.data())})})}(jQuery)}),/**
 * @license ngResize.js v1.1.0
 * (c) 2014 Daniel Smith http://www.danmasta.com
 * License: MIT
 */
function(e,t){"use strict";var n=t.module("ngResize",[]);n.provider("resize",[function(){this.throttle=100,this.initBind=1,this.$get=["$rootScope","$window","$interval",function(e,n,r){function i(e){u.throttle=e}function o(){return u.throttle}function a(t){var t=t||e;t.$broadcast("resize",{width:n.innerWidth,height:n.innerHeight})}function s(){if(!c){var e=t.element(n);e.on("resize",function(){p||(d=r(function(){p&&(p=0,r.cancel(d),a())},u.throttle)),p=1}),c=1,e.triggerHandler("resize")}}function l(){if(c){var e=t.element(n);e.off("resize"),c=0}}var u=this,c=0,d=0,p=0;return u.initBind&&s(),{getThrottle:o,setThrottle:i,trigger:a,bind:s,unbind:l}}]}]),n.directive("ngResize",["$parse","$timeout","resize",function(e,t){return{compile:function(n,r){var i=e(r.ngResize);return function(e){e.$on("resize",function(n,r){t(function(){e.$apply(function(){i(e,{$event:r})})})})}}}}])}(window,window.angular);var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,r,i,o,a,s){"use strict";var l={},u=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},c=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return c(e)||u(e)?e:e[0]};l.duScrollTo=function(t,n,r){var i;if(angular.isElement(t)?i=this.duScrollToElement:angular.isDefined(r)&&(i=this.duScrollToAnimated),i)return i.apply(this,arguments);var o=d(this);return u(o)?e.scrollTo(t,n):(o.scrollLeft=t,void(o.scrollTop=n))};var p,f;l.duScrollToAnimated=function(e,o,a,l){a&&!l&&(l=i);var u=this.duScrollLeft(),c=this.duScrollTop(),d=Math.round(e-u),h=Math.round(o-c),m=null,g=0,v=this,y=function(e){(!e||g&&e.which>0)&&(s&&v.unbind(s,y),n(p),f.reject(),p=null)};if(p&&y(),f=t.defer(),0===a||!d&&!h)return 0===a&&v.duScrollTo(e,o),f.resolve(),f.promise;var b=function(e){null===m&&(m=e),g=e-m;var t=g>=a?1:l(g/a);v.scrollTo(u+Math.ceil(d*t),c+Math.ceil(h*t)),1>t?p=r(b):(s&&v.unbind(s,y),p=null,f.resolve())};return v.duScrollTo(u,c),s&&v.bind(s,y),p=r(b),f.promise},l.duScrollToElement=function(e,t,n,r){var i=d(this);(!angular.isNumber(t)||isNaN(t))&&(t=a);var o=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return c(i)&&(o-=i.getBoundingClientRect().top),this.duScrollTo(0,o,n,r)},l.duScrollLeft=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,r);var i=d(this);return u(i)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:i.scrollLeft},l.duScrollTop=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,r);var i=d(this);return u(i)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:i.scrollTop},l.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||o,r)},l.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||o,n)},l.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||o,n)},angular.forEach(l,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,r){if(e[n])return e[n];for(var i,o=n.substr(0,1).toUpperCase()+n.substr(1),a=0;a<t.length;a++)if(i=t[a]+o,e[i])return e[i];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,r=function(e){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),o=t(function(){e(r+i)},i);return n=r+i,o};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy",function(e,t,n,r,i,o,a,s){"use strict";var l=function(i){var l=!1,u=!1,c=function(){u=!1;var t,a=i.container,l=a[0],c=0;"undefined"!=typeof HTMLElement&&l instanceof HTMLElement||l.nodeType&&l.nodeType===l.ELEMENT_NODE?(c=l.getBoundingClientRect().top,t=Math.round(l.scrollTop+l.clientHeight)>=l.scrollHeight):t=Math.round(n.pageYOffset+n.innerHeight)>=r[0].body.scrollHeight;var d,p,f,h,m,g,v=s&&t?"bottom":"top";for(h=i.spies,p=i.currentlyActive,f=void 0,d=0;d<h.length;d++)m=h[d],g=m.getTargetPosition(),g&&(s&&t||g.top+m.offset-c<20&&(o||-1*g.top+c)<g.height)&&(!f||f[v]<g[v])&&(f={spy:m},f[v]=g[v]);f&&(f=f.spy),p===f||o&&!f||(p&&(p.$element.removeClass("active"),e.$broadcast("duScrollspy:becameInactive",p.$element)),f&&(f.$element.addClass("active"),e.$broadcast("duScrollspy:becameActive",f.$element)),i.currentlyActive=f)};return a?function(){l?u=!0:(c(),l=t(function(){l=!1,u&&c()},a,!1))}:c},u={},c=function(e){var t=e.$id,n={spies:[]};return n.handler=l(n),u[t]=n,e.$on("$destroy",function(){d(e)}),t},d=function(e){var t=e.$id,n=u[t],r=n.container;r&&r.off("scroll",n.handler),delete u[t]},p=c(e),f=function(e){return u[e.$id]?u[e.$id]:e.$parent?f(e.$parent):u[p]},h=function(e){var t,n,r=e.$scope;if(r)return f(r);for(n in u)if(t=u[n],-1!==t.spies.indexOf(e))return t},m=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},g=function(e){var t=h(e);t&&(t.spies.push(e),t.container&&m(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=i.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},v=function(e){var t=h(e);e===t.currentlyActive&&(t.currentlyActive=null);var n=t.spies.indexOf(e);-1!==n&&t.spies.splice(n,1),e.$element=null};return{addSpy:g,removeSpy:v,createContext:c,destroyContext:d,getContextForScope:f}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var r=e.$id;return t[r]=n,r},r=function(e){return t[e.$id]?e.$id:e.$parent?r(e.$parent):void 0},i=function(n){var i=r(n);return i?t[i]:e},o=function(e){var n=r(e);n&&delete t[n]};return{getContainerId:r,getContainer:i,setContainer:n,removeContainer:o}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(r,i,o){i.on("click",function(i){if(o.href&&-1!==o.href.indexOf("#")||""!==o.duSmoothScroll){var a=o.href?o.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):o.duSmoothScroll,s=document.getElementById(a)||document.getElementsByName(a)[0];if(s&&s.getBoundingClientRect){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();var l=o.offset?parseInt(o.offset,10):t,u=o.duration?parseInt(o.duration,10):e,c=n.getContainer(r);c.duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(u)?0:u)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,n,r){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,e.setContainer(t,r),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,r){"use strict";var i=function(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r};return i.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},i.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},i.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(o,a,s){var l,u=s.ngHref||s.href;u&&-1!==u.indexOf("#")?l=u.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l&&n(function(){var n=new i(l,o,a,-(s.offset?parseInt(s.offset,10):t));e.addSpy(n),o.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var u=r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));o.$on("$destroy",function(){e.removeSpy(n),u()})},0,!1)}}}]),!function(){"use strict";function e(t,r){function i(e,t){return function(){return e.apply(t,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,u=a.length;u>l;l++)s[a[l]]=i(s[a[l]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(e){o(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=r&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,s,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(u=e.changedTouches[0],c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=c.tagName.toLowerCase(),"label"===s){if(t=this.findControl(c)){if(this.focus(c),n)return!1;c=t}}else if(this.needsFocus(c))return e.timeStamp-a>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,e),r&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return r&&!i&&(l=c.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(c)||(e.preventDefault(),this.sendClick(c,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),angular.module("ng-fastclick",[]).run(function(){FastClick.attach(document.body)}),//! license : MIT
//! momentjs.com
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ir.apply(null,arguments)}function t(e){Ir=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,r){return St(e,t,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=s(0/0);return null!=e?a(u(t),e):u(t).userInvalidated=!0,t}function p(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=u(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Rr.length>0)for(n in Rr)r=Rr[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),Lr===!1&&(Lr=!0,e.updateOffset(this),Lr=!1)}function h(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function v(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&g(e[r])!==g(t[r]))&&a++;return a+o}function y(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function $(e){for(var t,n,r,i,o=0;o<e.length;){for(i=b(e[o]).split("-"),t=i.length,n=b(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=w(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&v(i,n,!0)>=t-1)break;t--}o++}return null}function w(e){var t=null;if(!Hr[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Pr._abbr,require("./locale/"+e),E(t)}catch(n){}return Hr[e]}function E(e,t){var n;return e&&(n="undefined"==typeof t?x(e):_(e,t),n&&(Pr=n)),Pr._abbr}function _(e,t){return null!==t?(t.abbr=e,Hr[e]=Hr[e]||new y,Hr[e].set(t),E(e),Hr[e]):(delete Hr[e],null)}function x(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Pr;if(!n(e)){if(t=w(e))return t;e=[e]}return $(e)}function C(e,t){var n=e.toLowerCase();jr[n]=jr[n+"s"]=jr[t]=e}function k(e){return"string"==typeof e?jr[e]||jr[e.toLowerCase()]:void 0}function T(e){var t,n,r={};for(n in e)o(e,n)&&(t=k(n),t&&(r[t]=e[n]));return r}function S(t,n){return function(r){return null!=r?(A(this,t,r),e.updateOffset(this,n),this):M(this,t)}}function M(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function A(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function N(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=k(e),"function"==typeof this[e])return this[e](t);return this}function O(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function D(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(qr[e]=i),t&&(qr[t[0]]=function(){return O(i.apply(this,arguments),t[1],t[2])}),n&&(qr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,n,r=e.match(Fr);for(t=0,n=r.length;n>t;t++)r[t]=qr[r[t]]?qr[r[t]]:I(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function R(e,t){return e.isValid()?(t=L(t,e.localeData()),Wr[t]=Wr[t]||P(t),Wr[t](e)):e.localeData().invalidDate()}function L(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Br.lastIndex=0;r>=0&&Br.test(e);)e=e.replace(Br,n),Br.lastIndex=0,r-=1;return e}function H(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function j(e,t,n){ii[e]=H(t)?t:function(e){return e&&n?n:t}}function F(e,t){return o(ii,e)?ii[e](t._strict,t._locale):new RegExp(B(e))}function B(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)oi[e[n]]=r}function q(e,t){W(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function U(e,t,n){null!=t&&o(oi,e)&&oi[e](t,n._a,n,e)}function G(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function V(e){return this._months[e.month()]}function z(e){return this._monthsShort[e.month()]}function K(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Y(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),G(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function X(t){return null!=t?(Y(this,t),e.updateOffset(this,!0),this):M(this,"Month")}function Z(){return G(this.year(),this.month())}function J(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[si]<0||n[si]>11?si:n[li]<1||n[li]>G(n[ai],n[si])?li:n[ui]<0||n[ui]>24||24===n[ui]&&(0!==n[ci]||0!==n[di]||0!==n[pi])?ui:n[ci]<0||n[ci]>59?ci:n[di]<0||n[di]>59?di:n[pi]<0||n[pi]>999?pi:-1,u(e)._overflowDayOfYear&&(ai>t||t>li)&&(t=li),u(e).overflow=t),e}function Q(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function et(e,t){var n=!0;return a(function(){return n&&(Q(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function tt(e,t){mi[e]||(Q(t),mi[e]=!0)}function nt(e){var t,n,r=e._i,i=gi.exec(r);if(i){for(u(e).iso=!0,t=0,n=vi.length;n>t;t++)if(vi[t][1].exec(r)){e._f=vi[t][0];break}for(t=0,n=yi.length;n>t;t++)if(yi[t][1].exec(r)){e._f+=(i[6]||" ")+yi[t][0];break}r.match(ti)&&(e._f+="Z"),wt(e)}else e._isValid=!1}function rt(t){var n=bi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(nt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function it(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function ot(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function at(e){return st(e)?366:365}function st(e){return e%4===0&&e%100!==0||e%400===0}function lt(){return st(this.year())}function ut(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=Mt(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ct(e){return ut(e,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function pt(){return this._week.doy}function ft(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ht(e){var t=ut(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function mt(e,t,n,r,i){var o,a=6+i-r,s=ot(e,0,1+a),l=s.getUTCDay();return i>l&&(l+=7),n=null!=n?1*n:i,o=1+a+7*(t-1)-l+n,{year:o>0?e:e-1,dayOfYear:o>0?o:at(e-1)+o}}function gt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function vt(e,t,n){return null!=e?e:null!=t?t:n}function yt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function bt(e){var t,n,r,i,o=[];if(!e._d){for(r=yt(e),e._w&&null==e._a[li]&&null==e._a[si]&&$t(e),e._dayOfYear&&(i=vt(e._a[ai],r[ai]),e._dayOfYear>at(i)&&(u(e)._overflowDayOfYear=!0),n=ot(i,0,e._dayOfYear),e._a[si]=n.getUTCMonth(),e._a[li]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ui]&&0===e._a[ci]&&0===e._a[di]&&0===e._a[pi]&&(e._nextDay=!0,e._a[ui]=0),e._d=(e._useUTC?ot:it).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ui]=24)}}function $t(e){var t,n,r,i,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=vt(t.GG,e._a[ai],ut(Mt(),1,4).year),r=vt(t.W,1),i=vt(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=vt(t.gg,e._a[ai],ut(Mt(),o,a).year),r=vt(t.w,1),null!=t.d?(i=t.d,o>i&&++r):i=null!=t.e?t.e+o:o),s=mt(n,r,i,a,o),e._a[ai]=s.year,e._dayOfYear=s.dayOfYear}function wt(t){if(t._f===e.ISO_8601)return void nt(t);t._a=[],u(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,c=0;for(i=L(t._f,t._locale).match(Fr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(F(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&u(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),qr[o]?(r?u(t).empty=!1:u(t).unusedTokens.push(o),U(o,r,t)):t._strict&&!r&&u(t).unusedTokens.push(o);u(t).charsLeftOver=l-c,s.length>0&&u(t).unusedInput.push(s),u(t).bigHour===!0&&t._a[ui]<=12&&t._a[ui]>0&&(u(t).bigHour=void 0),t._a[ui]=Et(t._locale,t._a[ui],t._meridiem),bt(t),J(t)}function Et(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function _t(e){var t,n,r,i,o;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)o=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],wt(t),c(t)&&(o+=u(t).charsLeftOver,o+=10*u(t).unusedTokens.length,u(t).score=o,(null==r||r>o)&&(r=o,n=t));a(e,n||t)}function xt(e){if(!e._d){var t=T(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],bt(e)}}function Ct(e){var t=new f(J(kt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function kt(e){var t=e._i,i=e._f;return e._locale=e._locale||x(e._l),null===t||void 0===i&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),h(t)?new f(J(t)):(n(i)?_t(e):i?wt(e):r(t)?e._d=t:Tt(e),e))}function Tt(t){var o=t._i;void 0===o?t._d=new Date:r(o)?t._d=new Date(+o):"string"==typeof o?rt(t):n(o)?(t._a=i(o.slice(0),function(e){return parseInt(e,10)}),bt(t)):"object"==typeof o?xt(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function St(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Ct(o)}function Mt(e,t,n,r){return St(e,t,n,r,!1)}function At(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Mt();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}function Nt(){var e=[].slice.call(arguments,0);return At("isBefore",e)}function Ot(){var e=[].slice.call(arguments,0);return At("isAfter",e)}function Dt(e){var t=T(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=x(),this._bubble()}function It(e){return e instanceof Dt}function Pt(e,t){D(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)})}function Rt(e){var t=(e||"").match(ti)||[],n=t[t.length-1]||[],r=(n+"").match(xi)||["-",0,0],i=+(60*r[1])+g(r[2]);return"+"===r[0]?i:-i}function Lt(t,n){var i,o;return n._isUTC?(i=n.clone(),o=(h(t)||r(t)?+t:+Mt(t))-+i,i._d.setTime(+i._d+o),e.updateOffset(i,!1),i):Mt(t).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function jt(t,n){var r,i=this._offset||0;return null!=t?("string"==typeof t&&(t=Rt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Ht(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?tn(this,Xt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ht(this)}function Ft(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Bt(e){return this.utcOffset(0,e)}function Wt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this}function qt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Rt(this._i)),this}function Ut(e){return e=e?Mt(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Gt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(p(e,this),e=kt(e),e._a){var t=e._isUTC?s(e._a):Mt(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function zt(){return!this._isUTC}function Kt(){return this._isUTC}function Yt(){return this._isUTC&&0===this._offset}function Xt(e,t){var n,r,i,a=e,s=null;return It(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=Ci.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:g(s[li])*n,h:g(s[ui])*n,m:g(s[ci])*n,s:g(s[di])*n,ms:g(s[pi])*n}):(s=ki.exec(e))?(n="-"===s[1]?-1:1,a={y:Zt(s[2],n),M:Zt(s[3],n),d:Zt(s[4],n),h:Zt(s[5],n),m:Zt(s[6],n),s:Zt(s[7],n),w:Zt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=Qt(Mt(a.from),Mt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Dt(a),It(e)&&o(e,"_locale")&&(r._locale=e._locale),r}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qt(e,t){var n;return t=Lt(t,e),e.isBefore(t)?n=Jt(e,t):(n=Jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function en(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(tt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Xt(n,r),tn(this,i,e),this}}function tn(t,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i?!0:i,o&&t._d.setTime(+t._d+o*r),a&&A(t,"Date",M(t,"Date")+a*r),s&&Y(t,M(t,"Month")+s*r),i&&e.updateOffset(t,a||s)}function nn(e,t){var n=e||Mt(),r=Lt(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,Mt(n)))}function rn(){return new f(this)}function on(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:Mt(e),+this>+e):(n=h(e)?+e:+Mt(e),n<+this.clone().startOf(t))}function an(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:Mt(e),+e>+this):(n=h(e)?+e:+Mt(e),+this.clone().endOf(t)<n)}function sn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ln(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=h(e)?e:Mt(e),+this===+e):(n=+Mt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function un(e,t,n){var r,i,o=Lt(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=k(t),"year"===t||"month"===t||"quarter"===t?(i=cn(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:m(i)}function cn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function dn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fn(t){var n=R(this,t||e.defaultFormat);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.from(Mt(),e)}function gn(e,t){return this.isValid()?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vn(e){return this.to(Mt(),e)}function yn(e){var t;return void 0===e?this._locale._abbr:(t=x(e),null!=t&&(this._locale=t),this)}function bn(){return this._locale}function $n(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function wn(e){return e=k(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function En(){return+this._d-6e4*(this._offset||0)}function _n(){return Math.floor(+this/1e3)}function xn(){return this._offset?new Date(+this):this._d}function Cn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tn(){return c(this)}function Sn(){return a({},u(this))}function Mn(){return u(this).overflow}function An(e,t){D(0,[e,e.length],0,t)}function Nn(e,t,n){return ut(Mt([e,11,31+t-n]),t,n).week}function On(e){var t=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Dn(e){var t=ut(this,1,4).year;return null==e?t:this.add(e-t,"y")}function In(){return Nn(this.year(),1,4)}function Pn(){var e=this.localeData()._week;return Nn(this.year(),e.dow,e.doy)}function Rn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ln(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Hn(e){return this._weekdays[e.day()]}function jn(e){return this._weekdaysShort[e.day()]}function Fn(e){return this._weekdaysMin[e.day()]}function Bn(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Mt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Wn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ln(e,this.localeData()),this.add(e-t,"d")):t}function qn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Un(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Gn(e,t){D(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vn(e,t){return t._meridiemParse}function zn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Kn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Yn(e,t){t[pi]=g(1e3*("0."+e))}function Xn(){return this._isUTC?"UTC":""}function Zn(){return this._isUTC?"Coordinated Universal Time":""}function Jn(e){return Mt(1e3*e)}function Qn(){return Mt.apply(null,arguments).parseZone()}function er(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function tr(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function nr(){return this._invalidDate}function rr(e){return this._ordinal.replace("%d",e)}function ir(e){return e}function or(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function ar(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function sr(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lr(e,t,n,r){var i=x(),o=s().set(r,t);return i[n](o,e)}function ur(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return lr(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=lr(e,o,n,i);return a}function cr(e,t){return ur(e,t,"months",12,"month")}function dr(e,t){return ur(e,t,"monthsShort",12,"month")}function pr(e,t){return ur(e,t,"weekdays",7,"day")}function fr(e,t){return ur(e,t,"weekdaysShort",7,"day")}function hr(e,t){return ur(e,t,"weekdaysMin",7,"day")}function mr(){var e=this._data;return this._milliseconds=Yi(this._milliseconds),this._days=Yi(this._days),this._months=Yi(this._months),e.milliseconds=Yi(e.milliseconds),e.seconds=Yi(e.seconds),e.minutes=Yi(e.minutes),e.hours=Yi(e.hours),e.months=Yi(e.months),e.years=Yi(e.years),this}function gr(e,t,n,r){var i=Xt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function vr(e,t){return gr(this,e,t,1)}function yr(e,t){return gr(this,e,t,-1)}function br(e){return 0>e?Math.floor(e):Math.ceil(e)}function $r(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*br(Er(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=m(o/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,a+=m(n/24),i=m(wr(a)),s+=i,a-=br(Er(i)),r=m(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function wr(e){return 4800*e/146097}function Er(e){return 146097*e/4800}function _r(e){var t,n,r=this._milliseconds;if(e=k(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+wr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Er(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function xr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Cr(e){return function(){return this.as(e)}}function kr(e){return e=k(e),this[e+"s"]()}function Tr(e){return function(){return this._data[e]}}function Sr(){return m(this.days()/7)}function Mr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Ar(e,t,n){var r=Xt(e).abs(),i=po(r.as("s")),o=po(r.as("m")),a=po(r.as("h")),s=po(r.as("d")),l=po(r.as("M")),u=po(r.as("y")),c=i<fo.s&&["s",i]||1===o&&["m"]||o<fo.m&&["mm",o]||1===a&&["h"]||a<fo.h&&["hh",a]||1===s&&["d"]||s<fo.d&&["dd",s]||1===l&&["M"]||l<fo.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Mr.apply(null,c)}function Nr(e,t){return void 0===fo[e]?!1:void 0===t?fo[e]:(fo[e]=t,!0)}function Or(e){var t=this.localeData(),n=Ar(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Dr(){var e,t,n,r=ho(this._milliseconds)/1e3,i=ho(this._days),o=ho(this._months);e=m(r/60),t=m(e/60),r%=60,e%=60,n=m(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Ir,Pr,Rr=e.momentProperties=[],Lr=!1,Hr={},jr={},Fr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Br=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wr={},qr={},Ur=/\d/,Gr=/\d\d/,Vr=/\d{3}/,zr=/\d{4}/,Kr=/[+-]?\d{6}/,Yr=/\d\d?/,Xr=/\d{1,3}/,Zr=/\d{1,4}/,Jr=/[+-]?\d{1,6}/,Qr=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ii={},oi={},ai=0,si=1,li=2,ui=3,ci=4,di=5,pi=6;D("M",["MM",2],"Mo",function(){return this.month()+1}),D("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),D("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),j("M",Yr),j("MM",Yr,Gr),j("MMM",ri),j("MMMM",ri),W(["M","MM"],function(e,t){t[si]=g(e)-1}),W(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[si]=i:u(n).invalidMonth=e});var fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var gi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=et("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),D(0,["YY",2],0,function(){return this.year()%100}),D(0,["YYYY",4],0,"year"),D(0,["YYYYY",5],0,"year"),D(0,["YYYYYY",6,!0],0,"year"),C("year","y"),j("Y",ei),j("YY",Yr,Gr),j("YYYY",Zr,zr),j("YYYYY",Jr,Kr),j("YYYYYY",Jr,Kr),W(["YYYYY","YYYYYY"],ai),W("YYYY",function(t,n){n[ai]=2===t.length?e.parseTwoDigitYear(t):g(t)}),W("YY",function(t,n){n[ai]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var $i=S("FullYear",!1);D("w",["ww",2],"wo","week"),D("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),j("w",Yr),j("ww",Yr,Gr),j("W",Yr),j("WW",Yr,Gr),q(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=g(e)});var wi={dow:0,doy:6};D("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),j("DDD",Xr),j("DDDD",Vr),W(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var Ei=et("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Mt.apply(null,arguments);return this>e?this:e}),_i=et("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Mt.apply(null,arguments);return e>this?this:e});Pt("Z",":"),Pt("ZZ",""),j("Z",ti),j("ZZ",ti),W(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(e)});var xi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ci=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ki=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xt.fn=Dt.prototype;var Ti=en(1,"add"),Si=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Mi=et("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});D(0,["gg",2],0,function(){return this.weekYear()%100}),D(0,["GG",2],0,function(){return this.isoWeekYear()%100}),An("gggg","weekYear"),An("ggggg","weekYear"),An("GGGG","isoWeekYear"),An("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),j("G",ei),j("g",ei),j("GG",Yr,Gr),j("gg",Yr,Gr),j("GGGG",Zr,zr),j("gggg",Zr,zr),j("GGGGG",Jr,Kr),j("ggggg",Jr,Kr),q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=g(e)}),q(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),D("Q",0,0,"quarter"),C("quarter","Q"),j("Q",Ur),W("Q",function(e,t){t[si]=3*(g(e)-1)}),D("D",["DD",2],"Do","date"),C("date","D"),j("D",Yr),j("DD",Yr,Gr),j("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],li),W("Do",function(e,t){t[li]=g(e.match(Yr)[0],10)});var Ai=S("Date",!0);D("d",0,"do","day"),D("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),D("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),D("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),D("e",0,0,"weekday"),D("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),j("d",Yr),j("e",Yr),j("E",Yr),j("dd",ri),j("ddd",ri),j("dddd",ri),q(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:u(n).invalidWeekday=e}),q(["d","e","E"],function(e,t,n,r){t[r]=g(e)});var Ni="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Oi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Di="Su_Mo_Tu_We_Th_Fr_Sa".split("_");D("H",["HH",2],0,"hour"),D("h",["hh",2],0,function(){return this.hours()%12||12}),Gn("a",!0),Gn("A",!1),C("hour","h"),j("a",Vn),j("A",Vn),j("H",Yr),j("h",Yr),j("HH",Yr,Gr),j("hh",Yr,Gr),W(["H","HH"],ui),W(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),W(["h","hh"],function(e,t,n){t[ui]=g(e),u(n).bigHour=!0});var Ii=/[ap]\.?m?\.?/i,Pi=S("Hours",!0);D("m",["mm",2],0,"minute"),C("minute","m"),j("m",Yr),j("mm",Yr,Gr),W(["m","mm"],ci);var Ri=S("Minutes",!1);D("s",["ss",2],0,"second"),C("second","s"),j("s",Yr),j("ss",Yr,Gr),W(["s","ss"],di);var Li=S("Seconds",!1);D("S",0,0,function(){return~~(this.millisecond()/100)}),D(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),D(0,["SSS",3],0,"millisecond"),D(0,["SSSS",4],0,function(){return 10*this.millisecond()}),D(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),D(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),D(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),D(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),D(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),j("S",Xr,Ur),j("SS",Xr,Gr),j("SSS",Xr,Vr);var Hi;for(Hi="SSSS";Hi.length<=9;Hi+="S")j(Hi,Qr);for(Hi="S";Hi.length<=9;Hi+="S")W(Hi,Yn);var ji=S("Milliseconds",!1);D("z",0,0,"zoneAbbr"),D("zz",0,0,"zoneName");var Fi=f.prototype;Fi.add=Ti,Fi.calendar=nn,Fi.clone=rn,Fi.diff=un,Fi.endOf=wn,Fi.format=fn,Fi.from=hn,Fi.fromNow=mn,Fi.to=gn,Fi.toNow=vn,Fi.get=N,Fi.invalidAt=Mn,Fi.isAfter=on,Fi.isBefore=an,Fi.isBetween=sn,Fi.isSame=ln,Fi.isValid=Tn,Fi.lang=Mi,Fi.locale=yn,Fi.localeData=bn,Fi.max=_i,Fi.min=Ei,Fi.parsingFlags=Sn,Fi.set=N,Fi.startOf=$n,Fi.subtract=Si,Fi.toArray=Cn,Fi.toObject=kn,Fi.toDate=xn,Fi.toISOString=pn,Fi.toJSON=pn,Fi.toString=dn,Fi.unix=_n,Fi.valueOf=En,Fi.year=$i,Fi.isLeapYear=lt,Fi.weekYear=On,Fi.isoWeekYear=Dn,Fi.quarter=Fi.quarters=Rn,Fi.month=X,Fi.daysInMonth=Z,Fi.week=Fi.weeks=ft,Fi.isoWeek=Fi.isoWeeks=ht,Fi.weeksInYear=Pn,Fi.isoWeeksInYear=In,Fi.date=Ai,Fi.day=Fi.days=Wn,Fi.weekday=qn,Fi.isoWeekday=Un,Fi.dayOfYear=gt,Fi.hour=Fi.hours=Pi,Fi.minute=Fi.minutes=Ri,Fi.second=Fi.seconds=Li,Fi.millisecond=Fi.milliseconds=ji,Fi.utcOffset=jt,Fi.utc=Bt,Fi.local=Wt,Fi.parseZone=qt,Fi.hasAlignedHourOffset=Ut,Fi.isDST=Gt,Fi.isDSTShifted=Vt,Fi.isLocal=zt,Fi.isUtcOffset=Kt,Fi.isUtc=Yt,Fi.isUTC=Yt,Fi.zoneAbbr=Xn,Fi.zoneName=Zn,Fi.dates=et("dates accessor is deprecated. Use date instead.",Ai),Fi.months=et("months accessor is deprecated. Use month instead",X),Fi.years=et("years accessor is deprecated. Use year instead",$i),Fi.zone=et("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ft);
var Bi=Fi,Wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},qi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ui="Invalid date",Gi="%d",Vi=/\d{1,2}/,zi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ki=y.prototype;Ki._calendar=Wi,Ki.calendar=er,Ki._longDateFormat=qi,Ki.longDateFormat=tr,Ki._invalidDate=Ui,Ki.invalidDate=nr,Ki._ordinal=Gi,Ki.ordinal=rr,Ki._ordinalParse=Vi,Ki.preparse=ir,Ki.postformat=ir,Ki._relativeTime=zi,Ki.relativeTime=or,Ki.pastFuture=ar,Ki.set=sr,Ki.months=V,Ki._months=fi,Ki.monthsShort=z,Ki._monthsShort=hi,Ki.monthsParse=K,Ki.week=ct,Ki._week=wi,Ki.firstDayOfYear=pt,Ki.firstDayOfWeek=dt,Ki.weekdays=Hn,Ki._weekdays=Ni,Ki.weekdaysMin=Fn,Ki._weekdaysMin=Di,Ki.weekdaysShort=jn,Ki._weekdaysShort=Oi,Ki.weekdaysParse=Bn,Ki.isPM=zn,Ki._meridiemParse=Ii,Ki.meridiem=Kn,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=et("moment.lang is deprecated. Use moment.locale instead.",E),e.langData=et("moment.langData is deprecated. Use moment.localeData instead.",x);var Yi=Math.abs,Xi=Cr("ms"),Zi=Cr("s"),Ji=Cr("m"),Qi=Cr("h"),eo=Cr("d"),to=Cr("w"),no=Cr("M"),ro=Cr("y"),io=Tr("milliseconds"),oo=Tr("seconds"),ao=Tr("minutes"),so=Tr("hours"),lo=Tr("days"),uo=Tr("months"),co=Tr("years"),po=Math.round,fo={s:45,m:45,h:22,d:26,M:11},ho=Math.abs,mo=Dt.prototype;mo.abs=mr,mo.add=vr,mo.subtract=yr,mo.as=_r,mo.asMilliseconds=Xi,mo.asSeconds=Zi,mo.asMinutes=Ji,mo.asHours=Qi,mo.asDays=eo,mo.asWeeks=to,mo.asMonths=no,mo.asYears=ro,mo.valueOf=xr,mo._bubble=$r,mo.get=kr,mo.milliseconds=io,mo.seconds=oo,mo.minutes=ao,mo.hours=so,mo.days=lo,mo.weeks=Sr,mo.months=uo,mo.years=co,mo.humanize=Or,mo.toISOString=Dr,mo.toString=Dr,mo.toJSON=Dr,mo.locale=yn,mo.localeData=bn,mo.toIsoString=et("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dr),mo.lang=Mi,D("X",0,0,"unix"),D("x",0,0,"valueOf"),j("x",ei),j("X",ni),W("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.6",t(Mt),e.fn=Bi,e.min=Nt,e.max=Ot,e.utc=s,e.unix=Jn,e.months=cr,e.isDate=r,e.locale=E,e.invalid=d,e.duration=Xt,e.isMoment=h,e.weekdays=pr,e.parseZone=Qn,e.localeData=x,e.isDuration=It,e.monthsShort=dr,e.weekdaysMin=hr,e.defineLocale=_,e.weekdaysShort=fr,e.normalizeUnits=k,e.relativeTimeThreshold=Nr;var go=e;return go}),function(){"use strict";function e(e,t){return e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(t,n,r,i,o){return function(a,s,l){function u(){var e;if(i.serverTime){var t=(new Date).getTime(),r=t-w+i.serverTime;e=n(r)}else e=n();return e}function c(){m&&(t.clearTimeout(m),m=null)}function d(e){var n=u().diff(e,"day"),r=b&&n>=b;if(s.text(r?e.format($):e.from(u(),v)),y&&!s.attr("title")&&s.attr("title",e.local().format(y)),!r){var i=Math.abs(u().diff(e,"minute")),o=3600;1>i?o=1:60>i?o=30:180>i&&(o=300),m=t.setTimeout(function(){d(e)},1e3*o)}}function p(e){x&&s.attr("datetime",e)}function f(){if(c(),h){var e=r.preprocessDate(h,E,g);d(e),p(e.toISOString())}}var h,m=null,g=o.format,v=i.withoutSuffix,y=i.titleFormat,b=i.fullDateThreshold,$=i.fullDateFormat,w=(new Date).getTime(),E=o.preprocess,_=l.amTimeAgo,x="TIME"===s[0].nodeName.toUpperCase();a.$watch(_,function(e){return"undefined"==typeof e||null===e||""===e?(c(),void(h&&(s.text(""),p(""),h=null))):(h=e,void f())}),e.isDefined(l.amWithoutSuffix)&&a.$watch(l.amWithoutSuffix,function(e){"boolean"==typeof e?(v=e,f()):v=i.withoutSuffix}),l.$observe("amFormat",function(e){"undefined"!=typeof e&&(g=e,f())}),l.$observe("amPreprocess",function(e){E=e,f()}),l.$observe("amFullDateThreshold",function(e){b=e,f()}),l.$observe("amFullDateFormat",function(e){$=e,f()}),a.$on("$destroy",function(){c()}),a.$on("amMoment:localeChanged",function(){f()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,r,i){this.preprocessors={utc:t.utc,unix:t.unix},this.changeLocale=function(r,i){var o=t.locale(r,i);return e.isDefined(r)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(e){i.timezone=e,n.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(n,o,a){return e.isUndefined(o)&&(o=i.preprocess),this.preprocessors[o]?this.preprocessors[o](n,a):(o&&r.warn("angular-moment: Ignoring unsupported value for preprocess: "+o),!isNaN(parseFloat(n))&&isFinite(n)?t(parseInt(n,10)):t(n,a))},this.applyTimezone=function(e,t){return t=t||i.timezone,e&&t&&(e.tz?e=e.tz(t):r.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),e}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,r);var i=e(n);return i.isValid()?t.applyTimezone(i).calendar():""}return r.$stateful=n.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r,i,o,a,s){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,a);var l=e(n);if(!l.isValid())return"";var u;if("undefined"==typeof r||null===r)u=e();else if(r=t.preprocessDate(r,s),u=e(r),!u.isValid())return"";return t.applyTimezone(l).diff(t.applyTimezone(u),i,o)}return r.$stateful=n.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r,i,o){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,i);var a=e(n);return a.isValid()?t.applyTimezone(a,o).format(r):""}return r.$stateful=n.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,t){function n(t,n,r){return"undefined"==typeof t||null===t?"":e.duration(t,n).humanize(r)}return n.$stateful=t.statefulFilters,n}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r,i){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,r);var o=e(n);return o.isValid()?t.applyTimezone(o).fromNow(i):""}return r.$stateful=n.statefulFilters,r}])}"function"==typeof define&&define.amd?define(["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports?(e(angular,require("moment")),module.exports="angularMoment"):e(angular,window.moment)}(),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){"object"===("undefined"==typeof e?"undefined":o(e))&&(t=e,e=void 0),t=t||{};var n,r=a(e),s=r.source,d=r.id,p=r.path,f=c[d]&&p in c[d].nsps,h=t.forceNew||t["force new connection"]||!1===t.multiplex||f;return h?(u("ignoring socket cache for %s",s),n=l(s,t)):(c[d]||(u("new io instance for %s",s),c[d]=l(s,t)),n=c[d]),r.query&&!t.query?t.query=r.query:t&&"object"===o(t.query)&&(t.query=i(t.query)),n.socket(r.path,t)}function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1),s=n(7),l=n(17),u=n(3)("socket.io-client");e.exports=t=r;var c=t.managers={};t.protocol=s.protocol,t.connect=r,t.Manager=n(17),t.Socket=n(44)},function(e,t,n){(function(t){"use strict";function r(e,n){var r=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":"),s=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}var i=n(2),o=n(3)("socket.io-client:url");e.exports=r}).call(t,function(){return this}())},function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=t.exec(e||""),s={},l=14;l--;)s[n[l]]=a[l]||"";return-1!=i&&-1!=o&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(r){function i(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function l(){try{return t.storage.debug}catch(e){}return"undefined"!=typeof r&&"env"in r?r.env.DEBUG:void 0}function u(){try{return window.localStorage}catch(e){}}t=e.exports=n(5),t.log=a,t.formatArgs=o,t.save=s,t.load=l,t.useColors=i,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(l())}).call(t,n(4))},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(n){try{return u.call(null,e,0)}catch(n){return u.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){h&&p&&(h=!1,p.length?f=p.concat(f):m=-1,f.length&&a())}function a(){if(!h){var e=r(o);h=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var p,f=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(){return t.colors[c++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,o=n-(u||n);e.diff=o,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var l=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"==typeof i){var o=a[l];n=i.call(e,o),a.splice(l,1),l--}return n}),a=t.formatArgs.apply(e,a);var c=i.log||t.log||console.log.bind(console);c.apply(e,a)}n.enabled=!1,i.enabled=!0;var o=t.enabled(e)?i:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;r>i;i++)n[i]&&(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;r>n;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;r>n;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i.debug=i,t.coerce=l,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(6),t.names=[],t.skips=[],t.formatters={};var u,c=0},function(e){function t(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function n(e){return e>=l?Math.round(e/l)+"d":e>=s?Math.round(e/s)+"h":e>=a?Math.round(e/a)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function r(e){return i(e,l,"day")||i(e,s,"hour")||i(e,a,"minute")||i(e,o,"second")||e+" ms"}function i(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var o=1e3,a=60*o,s=60*a,l=24*s,u=365.25*l;e.exports=function(e,i){i=i||{};var o=typeof e;if("string"===o&&e.length>0)return t(e);if("number"===o&&isNaN(e)===!1)return i["long"]?r(e):n(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(){}function i(e){var n="",r=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,n+=e.nsp),null!=e.id&&(r&&(n+=",",r=!1),n+=e.id),null!=e.data&&(r&&(n+=","),n+=p.stringify(e.data)),d("encoded %j as %s",e,n),n}function o(e,t){function n(e){var n=h.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}h.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var n={},r=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return c();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var i="";"-"!=e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!=e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==e.charAt(r+1))for(n.nsp="";++r;){var o=e.charAt(r);if(","==o)break;if(n.nsp+=o,r==e.length)break}else n.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var o=e.charAt(r);if(null==o||Number(o)!=o){--r;break}if(n.id+=e.charAt(r),r==e.length)break}n.id=Number(n.id)}return e.charAt(++r)&&(n=l(n,e.substr(r))),d("decoded %s as %j",e,n),n}function l(e,t){try{e.data=p.parse(t)}catch(n){return c()}return e}function u(e){this.reconPack=e,this.buffers=[]}function c(){return{type:t.ERROR,data:"parser error"}}var d=n(8)("socket.io-parser"),p=n(11),f=n(13),h=n(14),m=n(16);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a,r.prototype.encode=function(e,n){if(d("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)o(e,n);else{var r=i(e);n([r])}},f(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new u(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function s(){var e;try{e=t.storage.debug}catch(n){}return e}function l(){try{return window.localStorage}catch(e){}}t=e.exports=n(9),t.log=o,t.formatArgs=i,t.save=a,t.load=s,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(s())},function(e,t,n){function r(){return t.colors[c++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,o=n-(u||n);e.diff=o,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var o=a[s];n=i.call(e,o),a.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var l=i.log||t.log||console.log.bind(console);l.apply(e,a)}n.enabled=!1,i.enabled=!0;var o=t.enabled(e)?i:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;r>i;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;r>n;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;r>n;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i,t.coerce=l,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(10),t.names=[],t.skips=[],t.formatters={};var u,c=0},function(e){function t(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function n(e){return e>=l?Math.round(e/l)+"d":e>=s?Math.round(e/s)+"h":e>=a?Math.round(e/a)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function r(e){return i(e,l,"day")||i(e,s,"hour")||i(e,a,"minute")||i(e,o,"second")||e+" ms"}function i(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var o=1e3,a=60*o,s=60*a,l=24*s,u=365.25*l;e.exports=function(e,i){return i=i||{},"string"==typeof e?t(e):i["long"]?r(e):n(e)}},function(e,t,n){(function(e,n){var r=!1;(function(){function i(e,t){function n(e){if(n[e]!==g)return n[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,c="function"==typeof l&&b;if(c){(a=function(){return 1}).toJSON=a;try{c="0"===l(0)&&"0"===l(new r)&&'""'==l(new o)&&l(y)===g&&l(g)===g&&l()===g&&"1"===l(a)&&"[1]"==l([a])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,y,null])&&l({a:[a,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===l(null,a)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new u(-1))}catch(d){c=!1}}i=c}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){a=p(s);var f=5==a.a.length&&1===a.a[0];if(f){try{f=!p('"	"')}catch(d){}if(f)try{f=1!==p("01")}catch(d){}if(f)try{f=1!==p("1.")}catch(d){}}}}catch(d){f=!1}i=f}}return n[e]=!!i}e||(e=l.Object()),t||(t=l.Object());var r=e.Number||l.Number,o=e.String||l.String,s=e.Object||l.Object,u=e.Date||l.Date,c=e.SyntaxError||l.SyntaxError,d=e.TypeError||l.TypeError,p=e.Math||l.Math,f=e.JSON||l.JSON;"object"==typeof f&&f&&(t.stringify=f.stringify,t.parse=f.parse);var h,m,g,v=s.prototype,y=v.toString,b=new u(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch($){}if(!n("json")){var w="[object Function]",E="[object Date]",_="[object Number]",x="[object String]",C="[object Array]",k="[object Boolean]",T=n("bug-string-char-index");if(!b)var S=p.floor,M=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return M[t]+365*(e-1970)+S((e-1969+(t=+(t>1)))/4)-S((e-1901+t)/100)+S((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)h.call(r,i)&&o++;return n=r=null,o?m=2==o?function(e,t){var n,r={},i=y.call(e)==w;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=y.call(e)==w;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,o=y.call(e)==w,s=!o&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)o&&"prototype"==n||!s.call(e,n)||t(n);for(i=r.length;n=r[--i];s.call(e,n)&&t(n));}),m(e,t)},!n("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O="000000",D=function(e,t){return(O+(t||0)).slice(-e)},I="\\u00",P=function(e){for(var t='"',n=0,r=e.length,i=!T||r>10,o=i&&(T?e.split(""):e);r>n;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=N[a];break;default:if(32>a){t+=I+D(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},R=function(e,t,n,r,i,o,a){var s,l,u,c,p,f,v,b,$,w,T,M,N,O,I,L;try{s=t[e]}catch(H){}if("object"==typeof s&&s)if(l=y.call(s),l!=E||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(l!=_&&l!=x&&l!=C||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&1/0>s){if(A){for(p=S(s/864e5),u=S(p/365.2425)+1970-1;A(u+1,0)<=p;u++);for(c=S((p-A(u,0))/30.42);A(u,c+1)<=p;c++);p=1+p-A(u,c),f=(s%864e5+864e5)%864e5,v=S(f/36e5)%24,b=S(f/6e4)%60,$=S(f/1e3)%60,w=f%1e3}else u=s.getUTCFullYear(),c=s.getUTCMonth(),p=s.getUTCDate(),v=s.getUTCHours(),b=s.getUTCMinutes(),$=s.getUTCSeconds(),w=s.getUTCMilliseconds();s=(0>=u||u>=1e4?(0>u?"-":"+")+D(6,0>u?-u:u):D(4,u))+"-"+D(2,c+1)+"-"+D(2,p)+"T"+D(2,v)+":"+D(2,b)+":"+D(2,$)+"."+D(3,w)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(l=y.call(s),l==k)return""+s;if(l==_)return s>-1/0&&1/0>s?""+s:"null";if(l==x)return P(""+s);if("object"==typeof s){for(O=a.length;O--;)if(a[O]===s)throw d();if(a.push(s),T=[],I=o,o+=i,l==C){for(N=0,O=s.length;O>N;N++)M=R(N,s,n,r,i,o,a),T.push(M===g?"null":M);L=T.length?i?"[\n"+o+T.join(",\n"+o)+"\n"+I+"]":"["+T.join(",")+"]":"[]"}else m(r||s,function(e){var t=R(e,s,n,r,i,o,a);t!==g&&T.push(P(e)+":"+(i?" ":"")+t)}),L=T.length?i?"{\n"+o+T.join(",\n"+o)+"\n"+I+"}":"{"+T.join(",")+"}":"{}";return a.pop(),L}};t.stringify=function(e,t,n){var r,i,o,s;if(a[typeof t]&&t)if((s=y.call(t))==w)i=t;else if(s==C){o={};for(var l,u=0,c=t.length;c>u;l=t[u++],s=y.call(l),(s==x||s==_)&&(o[l]=1));}if(n)if((s=y.call(n))==_){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==x&&(r=n.length<=10?n:n.slice(0,10));return R("",(l={},l[""]=e,l),i,o,r,"",[])}}if(!n("json-parse")){var L,H,j=o.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},B=function(){throw L=H=null,c()},W=function(){for(var e,t,n,r,i,o=H,a=o.length;a>L;)switch(i=o.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?o.charAt(L):o[L],L++,e;case 34:for(e="@",L++;a>L;)if(i=o.charCodeAt(L),32>i)B();else if(92==i)switch(i=o.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=F[i],L++;break;case 117:for(t=++L,n=L+4;n>L;L++)i=o.charCodeAt(L),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||B();e+=j("0x"+o.slice(t,L));break;default:B()}else{if(34==i)break;for(i=o.charCodeAt(L),t=L;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++L);e+=o.slice(t,L)}if(34==o.charCodeAt(L))return L++,e;B();default:if(t=L,45==i&&(r=!0,i=o.charCodeAt(++L)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(L+1),i>=48&&57>=i)&&B(),r=!1;a>L&&(i=o.charCodeAt(L),i>=48&&57>=i);L++);if(46==o.charCodeAt(L)){for(n=++L;a>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==L&&B(),L=n}if(i=o.charCodeAt(L),101==i||69==i){for(i=o.charCodeAt(++L),43!=i&&45!=i||L++,n=L;a>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==L&&B(),L=n}return+o.slice(t,L)}if(r&&B(),"true"==o.slice(L,L+4))return L+=4,!0;if("false"==o.slice(L,L+5))return L+=5,!1;if("null"==o.slice(L,L+4))return L+=4,null;B()}return"$"},q=function(e){var t,n;if("$"==e&&B(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=W(),"]"!=e;n||(n=!0))n&&(","==e?(e=W(),"]"==e&&B()):B()),","==e&&B(),t.push(q(e));return t}if("{"==e){for(t={};e=W(),"}"!=e;n||(n=!0))n&&(","==e?(e=W(),"}"==e&&B()):B()),","!=e&&"string"==typeof e&&"@"==(T?e.charAt(0):e[0])&&":"==W()||B(),t[e.slice(1)]=q(W());return t}B()}return e},U=function(e,t,n){var r=G(e,t,n);r===g?delete e[t]:e[t]=r},G=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(y.call(i)==C)for(r=i.length;r--;)U(i,r,n);else m(i,function(e){U(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return L=0,H=""+e,n=q(W()),"$"!=W()&&B(),L=H=null,t&&y.call(t)==w?G((r={},r[""]=n,r),"",t):n}}}return t.runInContext=i,t}var o="function"==typeof r&&r.amd,a={"function":!0,object:!0},s=a[typeof t]&&t&&!t.nodeType&&t,l=a[typeof window]&&window||this,u=s&&a[typeof e]&&e&&!e.nodeType&&"object"==typeof n&&n;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(l=u),s&&!o)i(l,s);else{var c=l.JSON,d=l.JSON3,p=!1,f=i(l,l.JSON3={noConflict:function(){return p||(p=!0,l.JSON=c,l.JSON3=d,c=d=null),f}});l.JSON={parse:f.parse,stringify:f.stringify}}o&&r(function(){return f})}).call(this)}).call(t,n(12)(e),function(){return this}())},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e){function t(e){return e?n(e):void 0}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(15),i=n(16);t.deconstructPacket=function(e){function t(e){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var l in e)a[l]=t(e[l]);return a}return e}var n=[],o=e.data,a=e;return a.data=t(o),a.attachments=n.length,{packet:a,buffers:n}},t.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var i=t[e.num];return i}if(r(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var a in e)e[a]=n(e[a]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function o(t,l,u){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var c=new FileReader;c.onload=function(){u?u[l]=this.result:s=this.result,--a||n(s)},c.readAsArrayBuffer(t)}else if(r(t))for(var d=0;d<t.length;d++)o(t[d],d,t);else if(t&&"object"==typeof t&&!i(t))for(var p in t)o(t[p],p,t)}var a=0,s=t;o(s),a||n(s)}}).call(t,function(){return this}())},function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer
}e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){return this instanceof r?(e&&"object"===("undefined"==typeof e?"undefined":i(e))&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new l.Encoder,this.decoder=new l.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(18),a=n(44),s=n(35),l=n(7),u=n(46),c=n(47),d=n(3)("socket.io-client:manager"),p=n(42),f=n(48),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=u(t,"open",function(){n.onopen(),e&&e()}),i=u(t,"error",function(t){if(d("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;d("connect attempt will timeout after %d",a);var s=setTimeout(function(){d("connect attempt timed out after %d",a),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(i),this},r.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",c(this,"ondata"))),this.subs.push(u(e,"ping",c(this,"onping"))),this.subs.push(u(e,"pong",c(this,"onpong"))),this.subs.push(u(e,"error",c(this,"onerror"))),this.subs.push(u(e,"close",c(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",c(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~p(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.engine.id}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=p(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){d("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){d("cleanup");for(var e=this.subs.length,t=0;e>t;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(d("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(19)},function(e,t,n){e.exports=n(20),e.exports.parser=n(27)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var i="object"==typeof t&&t;i.global===i&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(21),a=n(35),s=n(3)("engine.io-client:socket"),l=n(42),u=n(27),c=n(2),d=n(43),p=n(36);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=n(26),r.transports=n(21),r.parser=n(27),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=i(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(s('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!d)if("pong"===t.type&&"probe"===t.data){if(s('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"===c.name,s('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!==p.readyState&&(s("changing transport and sending upgrade packet"),u(),p.setTransport(c),c.send([{type:"upgrade"}]),p.emit("upgrade",c),c=null,p.upgrading=!1,p.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,u(),c.close(),c=null)}function i(t){var r=new Error("probe error: "+t);r.transport=c.name,n(),s('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function l(e){c&&e.name!==c.name&&(s('"%s" works - aborting "%s"',e.name,c.name),n())}function u(){c.removeListener("open",t),c.removeListener("error",i),c.removeListener("close",o),p.removeListener("close",a),p.removeListener("upgrading",l)}s('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),d=!1,p=this;r.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",i),c.once("close",o),this.once("close",a),this.once("upgrading",l),c.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;r>n;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function r(t){var n,r=!1,s=!1,l=!1!==t.jsonp;if(e.location){var u="https:"===location.protocol,c=location.port;c||(c=u?443:80),r=t.hostname!==location.hostname||c!==t.port,s=t.secure!==u}if(t.xdomain=r,t.xscheme=s,n=new i(t),"open"in n&&!t.forceJSONP)return new o(t);if(!l)throw new Error("JSONP disabled");return new a(t)}var i=n(22),o=n(24),a=n(39),s=n(40);t.polling=r,t.websocket=s}).call(t,function(){return this}())},function(e,t,n){(function(t){var r=n(23);e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(a){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}}).call(t,function(){return this}())},function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function r(){}function i(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(22),l=n(25),u=n(35),c=n(37),d=n(3)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,c(i,l),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},i.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),r=this;try{d("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}}catch(a){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{n.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},d("xhr data %s",this.data),n.send(this.data)}catch(a){return void setTimeout(function(){r.onError(a)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(n){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){for(var r=new Uint8Array(this.xhr.response),i=[],o=0,a=r.length;a>o;o++)i.push(r[o]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(26),o=n(36),a=n(27),s=n(37),l=n(38),u=n(3)("engine.io-client:polling");e.exports=r;var c=function(){var e=n(22),t=new e({xdomain:!1});return null!=t.responseType}();s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||t()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e);var r=-1!==this.hostname.indexOf(":");return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var i=n(27),o=n(35);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function r(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=y[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(v)return o(e,n,r);var i=new Uint8Array(1);i[0]=y[e.type];var a=new w([i.buffer,e.data]);return r(a)}function s(e){try{e=h.decode(e)}catch(t){return!1}return e}function l(e,t,n){for(var r=new Array(e.length),i=f(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}var u,c=n(28),d=n(29),p=n(30),f=n(31),h=n(32);e&&e.ArrayBuffer&&(u=n(33));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=m||g;t.protocol=3;var y=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=c(y),$={type:"error",data:"parser error"},w=n(34);t.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var l=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&l instanceof ArrayBuffer)return i(t,n,s);if(w&&l instanceof e.Blob)return a(t,n,s);if(l&&l.base64)return r(t,s);var u=y[t.type];return void 0!==t.data&&(u+=o?h.encode(String(t.data)):String(t.data)),s(""+u)},t.encodeBase64Packet=function(n,r){var i="b"+t.packets[n.type];if(w&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(n.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(s){for(var l=new Uint8Array(n.data),u=new Array(l.length),c=0;c<l.length;c++)u[c]=l[c];a=String.fromCharCode.apply(null,u)}return i+=e.btoa(a),r(i)},t.decodePacket=function(e,n,r){if(void 0===e)return $;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&(e=s(e),e===!1))return $;var i=e.charAt(0);return Number(i)==i&&b[i]?e.length>1?{type:b[i],data:e.substring(1)}:{type:b[i]}:$}var o=new Uint8Array(e),i=o[0],a=p(e,1);return w&&"blob"===n&&(a=new w([a])),{type:b[i],data:a}},t.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=u.decode(e.substr(1));return"blob"===t&&w&&(r=new w([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function i(e){return e.length+":"+e}function o(e,r){t.encodePacket(e,!!a&&n,!0,function(e){r(null,i(e))})}"function"==typeof n&&(r=n,n=null);var a=d(e);return n&&a?w&&!v?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void l(e,o,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);"function"==typeof n&&(r=n,n=null);var i;if(""==e)return r($,0,1);for(var o,a,s="",l=0,u=e.length;u>l;l++){var c=e.charAt(l);if(":"!=c)s+=c;else{if(""==s||s!=(o=Number(s)))return r($,0,1);if(a=e.substr(l+1,o),s!=a.length)return r($,0,1);if(a.length){if(i=t.decodePacket(a,n,!0),$.type==i.type&&$.data==i.data)return r($,0,1);var d=r(i,l+o,u);if(!1===d)return}l+=o,s=""}}return""!=s?r($,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}return e.length?void l(e,r,function(e,t){var r=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);if(s[a.length]=255,w){var l=new w([t.buffer,s.buffer,e]);n(null,l)}})}l(e,r,function(e,t){return n(new w(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),l=0===s[0],u="",c=1;255!=s[c];c++){if(u.length>310){a=!0;break}u+=s[c]}if(a)return r($,0,1);i=p(i,2+u.length),u=parseInt(u);var d=p(i,0,u);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(f){var h=new Uint8Array(d);d="";for(var c=0;c<h.length;c++)d+=String.fromCharCode(h[c])}o.push(d),i=p(i,u)}var m=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,m)})}}).call(t,function(){return this}())},function(e){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(t){function r(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&n(e[o]))return!0}return!1}return n(e)}var i=n(15);e.exports=r}).call(t,function(){return this}())},function(e){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(0>t&&(t+=r),0>n&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;n>a;a++,s++)o[s]=i[a];return o.buffer}},function(e){function t(e,t,r){function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}var o=!1;return r=r||n,i.count=e,0===e?t():i}function n(){}e.exports=t},function(e,t,n){var r;(function(e,i){!function(o){function a(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function s(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=b(t>>>10&1023|55296),t=56320|1023&t),i+=b(t);return i}function l(e,t){return b(e>>t&63|128)}function u(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(e>>6&31|192):0==(4294901760&e)?(t=b(e>>12&15|224),t+=l(e,6)):0==(4292870144&e)&&(t=b(e>>18&7|240),t+=l(e,12),t+=l(e,6)),t+=b(63&e|128)}function c(e){for(var t,n=a(e),r=n.length,i=-1,o="";++i<r;)t=n[i],o+=u(t);return o}function d(){if(y>=v)throw Error("Invalid byte index");var e=255&g[y];if(y++,128==(192&e))return 63&e;
throw Error("Invalid continuation byte")}function p(){var e,t,n,r,i;if(y>v)throw Error("Invalid byte index");if(y==v)return!1;if(e=255&g[y],y++,0==(128&e))return e;if(192==(224&e)){var t=d();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=d(),n=d(),i=(15&e)<<12|t<<6|n,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=d(),n=d(),r=d(),i=(15&e)<<18|t<<12|n<<6|r,i>=65536&&1114111>=i))return i;throw Error("Invalid WTF-8 detected")}function f(e){g=a(e),v=g.length,y=0;for(var t,n=[];(t=p())!==!1;)n.push(t);return s(n)}var h="object"==typeof t&&t,m=("object"==typeof e&&e&&e.exports==h&&e,"object"==typeof i&&i);m.global!==m&&m.window!==m||(o=m);var g,v,y,b=String.fromCharCode,$={version:"1.0.0",encode:c,decode:f};r=function(){return $}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(12)(e),function(){return this}())},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;i>n;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,l=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;l>t;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[u++]=r<<2|i>>4,d[u++]=(15&i)<<4|o>>2,d[u++]=(3&o)<<6|63&a;return c}}()},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),s=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return a?s?t.Blob:i:l?r:void 0}()}).call(t,function(){return this}())},function(e){function t(e){return e?n(e):void 0}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;i>r;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){"use strict";function t(e){var t="";do t=o[e%a]+t,e=Math.floor(e/a);while(e>0);return t}function n(e){var t=0;for(u=0;u<e.length;u++)t=t*a+s[e.charAt(u)];return t}function r(){var e=t(+new Date);return e!==i?(l=0,i=e):e+"."+t(l++)}for(var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,s={},l=0,u=0;a>u;u++)s[o[u]]=u;r.encode=t,r.decode=n,e.exports=r},function(e,t,n){(function(t){function r(){}function i(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var o=n(25),a=n(37);e.exports=i;var s,l=/\n/g,u=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(t)}catch(e){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=c,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=d&&!e.forceNode,this.usingBrowserWebSocket||(f=i),o.call(this,e)}var i,o=n(26),a=n(27),s=n(36),l=n(37),u=n(38),c=n(3)("engine.io-client:websocket"),d=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{i=n(41)}catch(p){}var f=d;f||"undefined"!=typeof window||(f=i),e.exports=r,l(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(e):new f(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=e.length,o=0,s=i;s>o;o++)!function(e){a.encodePacket(e,r.supportsBinary,function(o){if(!r.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),r.perMessageDeflate){var s="string"==typeof o?t.Buffer.byteLength(o):o.length;s<r.perMessageDeflate.threshold&&(a.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(o):r.ws.send(o,a)}catch(l){c("websocket closed before onclose event")}--i||n()})}(e[o])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e);var r=-1!==this.hostname.indexOf(":");return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(){},function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i=n(7),o=n(35),a=n(45),s=n(46),l=n(47),u=n(3)("socket.io-client:socket"),c=n(29);e.exports=t=r;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",l(this,"onopen")),s(e,"packet",l(this,"onpacket")),s(e,"close",l(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),n=i.EVENT;c(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&this.packet(this.query?{type:i.CONNECT,query:this.query}:{type:i.CONNECT})},r.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u("sending ack %j",r);var o=c(r)?i.BINARY_ACK:i.ACK;t.packet({type:o,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e){function t(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=t},function(e){"use strict";function t(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=t},function(e){var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=t.call(arguments,2);return function(){return n.apply(e,r.concat(t.call(arguments)))}}},function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}}])}),function(){function e(e){function r(e){return e=e||{prefix:!0},"object"!=typeof console||"function"!=typeof console.log||"function"!=typeof console.log.bind?function(){}:function(){var t=Array.prototype.slice.call(arguments);if("production"!==f.sails.environment){var n="";e.prefix&&t.unshift(n),console.log.bind(console).apply(this,t)}}}function o(e){var t=e.requestQueue;if(t){for(var n in t){var r={}.hasOwnProperty.call(t,n);if(r){var i=t[n];e.request.apply(e,i)}}e.requestQueue=null}}function u(e,t){if(e=e||{},"undefined"==typeof window)return t();var n=document.createElement("script");window._sailsIoJSConnect=function(e){n&&n.parentNode&&n.parentNode.removeChild(n),t(e)},n.src=e.url,document.getElementsByTagName("head")[0].appendChild(n)}function c(e){if(this.body=e.body,this.headers=e.headers||{},this.statusCode="undefined"==typeof e.statusCode?200:e.statusCode,this.statusCode<200||this.statusCode>=400){var t;0===this.statusCode?t="The socket request failed.":(t="Server responded with a "+this.statusCode+" status code",t+=":\n```\n"+JSON.stringify(this.body,null,2)+"\n```"),this.error=new Error(t)}}function d(e,t){if(!e._raw)throw new Error("Failed to emit from socket- raw SIO socket is missing.");var n=t.cb;delete t.cb;var r=t.method;e._raw.emit(r,t,function(e){n&&n(e.body,new c(e))})}function p(e){var n=this;e=e||{},n._isConnecting=!1,n._mightBeAboutToAutoConnect=!1;var r={};t.forEach(function(e){"headers"!=e&&Object.defineProperty(n,e,{get:function(){return"url"==e?r[e]||n._raw&&n._raw.io&&n._raw.io.uri:r[e]},set:function(t){if(n.isConnected()&&f.sails.strict!==!1&&t!=r[e])throw new Error("Cannot change value of `"+e+"` while socket is connected.");n._raw&&n._raw.io&&n._raw.io.reconnecting&&!n._raw.io.skipReconnect&&(n._raw.io.skipReconnect=!0,h("Stopping reconnect; use .reconnect() to connect socket after changing options.")),r[e]=t}})}),t.forEach(function(t){n[t]=e[t]}),n.eventQueue={},n.on("sails:parseError",function(e){h("Sails encountered an error parsing a socket message sent from this client, and did not have access to a callback function to respond with."),h("Error details:",e)})}var f;if(f=e?e:l,!f)throw new Error("node"===i.platform?"No socket.io client available.  When requiring `sails.io.js` from Node.js, a socket.io client (`io`) must be passed in; e.g.:\n```\nvar io = require('sails.io.js')( require('socket.io-client') )\n```\n(see https://github.com/balderdashy/sails.io.js/tree/master/test for more examples)":"The Sails socket SDK depends on the socket.io client, but the socket.io global (`io`) was not available when `sails.io.js` loaded.  Normally, the socket.io client code is bundled with sails.io.js, so something is a little off.  Please check to be sure this version of `sails.io.js` has the minified Socket.io client at the top of the file.");if(f.sails)throw new Error("node"===i.platform?"The provided socket.io client (`io`) has already been augmented into a Sails socket SDK instance (it has `io.sails`).":"The socket.io client (`io`) has already been augmented into a Sails socket SDK instance.  Usually, this means you are bringing `sails.io.js` onto the page more than once.");var h=r();return h.noPrefix=r({prefix:!1}),c.prototype.toString=function(){return"[ResponseFromSails]  -- Status: "+this.statusCode+"  -- Headers: "+this.headers+"  -- Body: "+this.body},c.prototype.toPOJO=function(){return{body:this.body,headers:this.headers,statusCode:this.statusCode}},c.prototype.pipe=function(){return new Error("Client-side streaming support not implemented yet.")},p.prototype._connect=function(){var e=this;if(e._isConnecting=!0,t.forEach(function(t){"undefined"==typeof e[t]&&(e[t]=f.sails[t])}),e.extraHeaders=e.initialConnectionHeaders||{},e.initialConnectionHeaders&&"node"!==i.platform&&"object"==typeof console&&"function"==typeof console.warn&&console.warn("initialConnectionHeaders option available in Node.js only!"),e.url=e.url?e.url.replace(/(\/)$/,""):void 0,"string"==typeof e.query)e.query=e.query.replace(/^\?/,""),e.query+="&"+i.versionString;else{if(e.query&&"object"==typeof e.query)throw new Error("`query` setting does not currently support configuration as a dictionary (`{}`).  Instead, it must be specified as a string like `foo=89&bar=hi`");if(e.query)throw new Error("Unexpected data type provided for `query` setting: "+e.query);e.query=i.versionString}var n=function(){if("undefined"==typeof window||"undefined"==typeof window.location)return!1;if("string"!=typeof e.url)return!1;var t=function(){try{t=e.url.match(/^([a-z]+:\/\/)/i)[1].toLowerCase()}catch(n){}return t=t||"http://"}(),n=!!e.url.match("^https"),r=function(){try{return e.url.match(/^[a-z]+:\/\/[^:]*:([0-9]*)/i)[1]}catch(t){}return n?"443":"80"}(),i=e.url.replace(/^([a-z]+:\/\/)/i,"");if(t.replace(/[:\/]/g,"")!==window.location.protocol.replace(/[:\/]/g,""))return!0;var o=0===i.search(window.location.hostname);if(!o)return!0;var a=window.location.protocol.match(/https/i),s=window.location.port+""||(a?"443":"80");return r!==s?!0:!1}();!function(t){if(!e.useCORSRouteToGetCookie||!n)return t();var r=e.url;r+="string"==typeof e.useCORSRouteToGetCookie?e.useCORSRouteToGetCookie:"/__getcookie",u({url:r,method:"GET"},t)}(function(){e._raw=f(e.url,e),e._raw.io.engine.transport.on("error",function(t){e._isConnecting&&(e._isConnecting=!1,h("============================================================================="),h("The socket was unable to connect.  The server may be offline, or the socket "),h("may have failed authorization based on its origin or other factors."),h("You may want to check the values of `sails.config.sockets.beforeConnect` and"),h("`sails.config.sockets.onlyAllowOrigins` in your app."),h("More info: https://sailsjs.com/config/sockets"),h(""),h("Technical details:"),h(t),h("============================================================================="))}),e.replay(),e.on("connect",function(){e._isConnecting=!1,h.noPrefix("\n\n  |>    Now connected to Sails.\n\\___/   For help, see: http://bit.ly/1DmTvgK\n        (using sails.io.js "+f.sails.sdk.platform+" SDK @v"+f.sails.sdk.version+")\n\n\n")}),e.on("disconnect",function(){e.connectionLostTimestamp=(new Date).getTime(),h("===================================="),h("Socket was disconnected from Sails."),h("Usually, this is due to one of the following reasons:\n -> the server "+(e.url?e.url+" ":"")+"was taken down\n -> your browser lost internet connectivity"),h("====================================")}),e.on("reconnecting",function(e){h("\n        Socket is trying to reconnect to Sails...\n_-|>_-  (attempt #"+e+")\n\n")}),e.on("reconnect",function(){e._isConnecting||e.on("connect",o.bind(e,e));var t=(new Date).getTime()-e.connectionLostTimestamp,n=t/1e3;h("\n  |>    Socket reconnected successfully after\n\\___/   being offline for ~"+n+" seconds.\n\n")}),e.on("error",function(t){e._isConnecting=!1,h("Failed to connect socket (possibly due to failed `beforeConnect` on server)","Error:",t)})})},p.prototype.reconnect=function(){if(this._isConnecting)throw new Error("Cannot connect- socket is already connecting");if(this.isConnected())throw new Error("Cannot connect- socket is already connected");return this._connect()},p.prototype.disconnect=function(){if(this._isConnecting=!1,!this.isConnected())throw new Error("Cannot disconnect- socket is already disconnected");return this._raw.disconnect()},p.prototype.isConnected=function(){return this._raw?!!this._raw.connected:!1},p.prototype.isConnecting=function(){return this._isConnecting},p.prototype.mightBeAboutToAutoConnect=function(){return this._mightBeAboutToAutoConnect},p.prototype.replay=function(){var e=this;for(var t in e.eventQueue)for(var n in e.eventQueue[t])e._raw.on(t,e.eventQueue[t][n]);return e.isConnected()?o(e):e._raw.once("connect",o.bind(e,e)),e},p.prototype.on=function(e,t){return this._raw?(this._raw.on(e,t),this):(this.eventQueue[e]?this.eventQueue[e].push(t):this.eventQueue[e]=[t],this)},p.prototype.off=function(e,t){return this._raw?(this._raw.off(e,t),this):(this.eventQueue[e]&&this.eventQueue[e].indexOf(t)>-1&&this.eventQueue[e].splice(this.eventQueue[e].indexOf(t),1),this)},p.prototype.removeAllListeners=function(){return this._raw?(this._raw.removeAllListeners(),this):(this.eventQueue={},this)},p.prototype.get=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this.request({method:"get",params:t,url:e},n)},p.prototype.post=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this.request({method:"post",data:t,url:e},n)},p.prototype.put=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this.request({method:"put",params:t,url:e},n)},p.prototype.patch=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this.request({method:"patch",params:t,url:e},n)},p.prototype["delete"]=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this.request({method:"delete",params:t,url:e},n)},p.prototype.request=function(e,t){var n='Usage:\nsocket.request( options, [fnToCallWhenComplete] )\n\noptions.url :: e.g. "/foo/bar"\noptions.method :: e.g. "get", "post", "put", or "delete", etc.\noptions.params :: e.g. { emailAddress: "mike@example.com" }\noptions.headers :: e.g. { "x-my-custom-header": "some string" }';if("undefined"!=typeof t&&"function"!=typeof t)throw new Error("Invalid callback function!\n"+n);if("object"!=typeof e||"string"!=typeof e.url)throw new Error("Invalid or missing URL!\n"+n);if(e.method&&"string"!=typeof e.method)throw new Error('Invalid `method` provided (should be a string like "post" or "put")\n'+n);if(e.headers&&"object"!=typeof e.headers)throw new Error("Invalid `headers` provided (should be a dictionary with string values)\n"+n);if(e.params&&"object"!=typeof e.params)throw new Error("Invalid `params` provided (should be a dictionary with JSON-serializable values)\n"+n);if(e.data&&"object"!=typeof e.data)throw new Error("Invalid `data` provided (should be a dictionary with JSON-serializable values)\n"+n);if(e.data&&e.params)throw new Error("Cannot specify both `params` and `data`!  They are aliases of each other.\n"+n);if(e.data&&(e.params=e.data,delete e.data),!this.isConnected())return this.requestQueue=this.requestQueue||[],void this.requestQueue.push([e,t]);e.headers=e.headers||{};var r={method:(e.method||"get").toLowerCase(),headers:e.headers,data:e.params||e.data||{},url:e.url.replace(/^(.+)\/*\s*$/,"$1"),cb:t};if(this.headers&&"object"==typeof this.headers)for(var i in this.headers)e.headers.hasOwnProperty(i)||(e.headers[i]=this.headers[i]);d(this,r)},p.prototype._request=function(){throw new Error("`_request()` was a private API deprecated as of v0.11 of the sails.io.js client. Use `.request()` instead.")},f.sails={autoConnect:!0,reconnection:!1,useCORSRouteToGetCookie:!0,environment:a.match(/(\#production|\.min\.js)/g)?"production":"development",sdk:i,transports:["websocket"]},n.forEach(function(e){"undefined"!=typeof s[e]&&(f.sails[e]=s[e])}),f.sails.connect=function(e,t){"object"==typeof e&&(t=e,e=null),t=t||{},t.url=e||t.url||void 0;var n=new p(t);return n._connect(),n},f.socket=new p,f.socket._mightBeAboutToAutoConnect=!0,setTimeout(function(){return f.socket._mightBeAboutToAutoConnect=!1,f.sails.autoConnect===!1||f.sails.autoconnect===!1?void delete f.socket:void f.socket._connect()},0),f}var t=["useCORSRouteToGetCookie","url","multiplex","transports","query","path","headers","initialConnectionHeaders","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","rejectUnauthorized","randomizationFactor","timeout"],n=["autoConnect","reconnection","environment","headers","url","transports","path"],r={version:"__sails_io_sdk_version",platform:"__sails_io_sdk_platform",language:"__sails_io_sdk_language"},i={version:"1.1.12",language:"javascript",platform:function(){return"object"==typeof module&&"undefined"!=typeof module.exports?"node":"browser"}()};i.versionString=r.version+"="+i.version+"&"+r.platform+"="+i.platform+"&"+r.language+"="+i.language;var o=function(){if("object"!=typeof window||"object"!=typeof window.document||"function"!=typeof window.document.getElementsByTagName)return null;var e=window.document.getElementsByTagName("script");return e[e.length-1]}(),a="",s={};if(o){if(a=o.src,n.forEach(function(e){s[e]=function(){var t=o.getAttribute("data-"+e);if(t||(t=o.getAttribute(e)),"string"!=typeof t){if(null===t)return void 0;throw new Error("sails.io.js :: Unexpected/invalid script tag configuration for `"+e+"`: `"+t+"` (a `"+typeof t+"`). Should be a string.")}try{return JSON.parse(t)}catch(n){return t}}(),void 0===s[e]&&delete s[e]}),"undefined"!=typeof s.autoConnect)if(""===s.autoConnect)s.autoConnect=!0;else if("boolean"!=typeof s.autoConnect)throw new Error("sails.io.js :: Unexpected/invalid configuration for `autoConnect` provided in script tag: `"+s.autoConnect+"` (a `"+typeof s.autoConnect+"`). Should be a boolean.");if("undefined"!=typeof s.environment&&"string"!=typeof s.environment)throw new Error("sails.io.js :: Unexpected/invalid configuration for `environment` provided in script tag: `"+s.environment+"` (a `"+typeof s.environment+"`). Should be a string.");if("undefined"!=typeof s.headers&&("object"!=typeof s.headers||Array.isArray(s.headers)))throw new Error("sails.io.js :: Unexpected/invalid configuration for `headers` provided in script tag: `"+s.headers+"` (a `"+typeof s.headers+'`). Should be a JSON-compatible dictionary (i.e. `{}`).  Don\'t forget those double quotes (""), even on key names!  Use single quotes (\'\') to wrap the HTML attribute value; e.g. `headers=\'{"X-Auth": "foo"}\'`');if("undefined"!=typeof s.url&&"string"!=typeof s.url)throw new Error("sails.io.js :: Unexpected/invalid configuration for `url` provided in script tag: `"+s.url+"` (a `"+typeof s.url+"`). Should be a string.")}var l="undefined"!=typeof io?io:void 0;"node"===i.platform?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):e()}(),function(e,t){"use strict";e.module("ngSails",["ng"]),function(e,t){function n(t){var n,i,o,a={};return t?(e.forEach(t.split("\n"),function(e){o=e.indexOf(":"),n=lowercase(r(e.substr(0,o))),i=r(e.substr(o+1)),n&&(a[n]=a[n]?a[n]+", "+i:i)}),a):a}function r(t){return e.isString(t)?t.trim():t}function i(t){return t&&e.isFunction(t.then)}function o(t){var r=e.isObject(t)?t:void 0;return function(e){if(r||(r=n(t)),e){var i=r[lowercase(e)];return void 0===i&&(i=null),i}return r}}t.sails&&(t.sails.autoConnect=!1),e.module("ngSails").provider("$sails",function(){var n=this;this.httpVerbs=["get","post","put","delete"],this.eventNames=["on","off"],this.url=void 0,this.urlPrefix="",this.config={transports:["websocket","polling"],useCORSRouteToGetCookie:!1},this.debug=!1;var r=this.interceptors=[];this.$get=["$q","$injector","$rootScope","$log","$timeout",function(a,s,l,u,c){function d(e){function t(){r(null)}function r(t,r){r||(r={body:t,headers:t.headers||{},statusCode:t.statusCode||t.status||0,error:function(){return this.statusCode<200||this.statusCode>=400?this.body||this.statusCode:void 0}()}),r.data=r.body,r.status=r.statusCode,r.socket=h,r.url=e.url,r.method=e.method,r.config=e.config,r.error?(n.debug&&u.warn("$sails response "+r.statusCode+" "+e.url,r),o.reject(r)):(n.debug&&u.info("$sails response "+e.url,r),o.resolve(r))}var o=a.defer();return n.debug&&u.info("$sails "+e.method+" "+e.url,e.data||""),e.timeout>0?c(t,e.timeout):i(e.timeout)&&e.timeout.then(t),h["legacy_"+e.method.toLowerCase()](e.url,e.data,r),o.promise}function p(t){h["legacy_"+t]=h[t],h[t]=function(r,i,s){var l=[d,void 0],u=a.when({url:n.urlPrefix+r,data:i,socket:h,config:s||{},method:t.toUpperCase()});for(e.forEach(m,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){var c=l.shift(),p=l.shift();u=u.then(c,p)}return u.success=function(e){return u.then(function(t){e(t.body,t.statusCode,o(t.headers),t)}),u},u.error=function(e){return u.then(null,function(t){e(t.body,t.statusCode,o(t.headers),t)}),u},u}}function f(t){(h[t]||h._raw&&h._raw[t])&&(h["legacy_"+t]=h[t]||h._raw[t],h[t]=function(n,r){null!==r&&e.isFunction(r)&&h["legacy_"+t](n,function(e){l.$evalAsync(r.bind(h,e))})})}var h=(t.sails&&t.sails.connect||t.connect)(n.url,n.config);h.connect=function(t){if(!h.isConnected()){var r=t||{};r=e.extend({},n.config,t),h.useCORSRouteToGetCookie=r.useCORSRouteToGetCookie,h.url=r.url||n.url,h.multiplex=r.multiplex,h._connect()}return h};var m=[];return e.forEach(r,function(t){m.unshift(e.isString(t)?s.get(t):s.invoke(t))}),h.once=function(t,n){null!==n&&e.isFunction(n)&&h._raw&&h._raw.once(t,function(e){l.$evalAsync(n.bind(h,e))})},e.forEach(n.httpVerbs,p),e.forEach(n.eventNames,f),h.$modelUpdater=function(t,n){var r=function(t){l.$evalAsync(function(){var r;switch(t.verb){case"created":n.push(t.data);break;case"updated":var i;for(r=0;r<n.length;r++)if(n[r].id===t.id){i=n[r];break}if(!i&&!t.previous)return;i||(i=t.previous,n.push(i)),e.extend(i,t.data);break;case"destroyed":for(r=0;r<n.length;r++)if(n[r].id===t.id){n.splice(r,1);break}}})};return h.legacy_on(t,r),function(){h.legacy_off(t,r)
}},h}],this.$get.$inject=["$q","$injector","$rootScope","$log","$timeout"]})}(e,t)}(angular,io),/**
 * Log Unobtrusive Extension v0.0.10
 *
 * Used within AngularJS to enhance functionality within the AngularJS $log service.
 *
 * @original-author  Thomas Burleson
 * @contributor Layton Whiteley
 * @contributor A confused individual <ferronrsmith@gmail.com>
 * @website http://www.theSolutionOptimist.com
 * (c) 2015 https://github.com/lwhiteley/AngularLogExtender
 * License: MIT
 *
 * Modifications made by @contributor Layton Whiteley:
 * - Modified to be a full stand-alone Angular Application for reuse
 * - Has global and feature level activation/disabling for $log
 * - Supported sensitive field filtering
 * - Created and tested with AngularJS versions : 1.0.4, 1.1.0, 1.1.2, 1.2.28, 1.3.14, 1.4.0-rc.0
 */
angular.module("log.ex.uo",[]).provider("logEx",["$provide",function(e){var t=angular.injector(["ng"]),n=t.get("$filter"),r=!1,i=!1,o=!1,a=!1,s=null,l=navigator.userAgent,u=["log","info","warn","debug","error","getInstance"],c=["chrome","firefox"],d=!0,p=["color","background","font-size","border"],f="[FILTERED]",h={filterString:f,logFilters:[]},m={log:"color: green;",info:"color: blue",warn:"color: #CC9933;",debug:"color: brown;",error:"color: red;"},g=u,v=function(e){var t=" >> ",r="MMM-dd-yyyy-h:mm:ssa",i=n("date")(new Date,r);return""+i+("string"!==y(e)?"":"::"+e)+t},y=function(e){return Object.prototype.toString.call(e).replace(/(\[|object|\s|\])/g,"").toLowerCase()},b=function(e){return/(object|array)/.test(y(e))},$=function(e){return"string"===y(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):""},w=function(e){return"boolean"===y(e)},E=function(e){return"string"===y(e)&&""!==$(e)},_=function(e,t){return"string"===y(e)&&"string"===y(t)&&-1!==t.toLowerCase().indexOf(e.toLowerCase())?!0:!1},x=function(e){var t="";return t=!a&&o?s(e):v(e)},C=function(){for(var e=0;e<c.length;e++)if(_(c[e],l))return!0;return!1},k=C(),T=function(e){return 1===e.length&&"string"===y(e[0])},S=function(e){for(var t=0;t<p.length;t++)if(_(p[t],e))return!0;return!1},M=function(e){return"string"===y(e)&&_(":",e)&&$(e).length>6&&S(e)},A=function(e,t,n){n="string"===y(n)?n:"";var r=k&&M(t)&&"string"===y(e),i=r?""+n+e:e;return r?["%c"+i,t]:[i]},N=function(e,t){return w(e)&&e&&2===t.length},O=function(e,t,n){var r="string"!==y(e)&&"object"!==y(t),i="string"!==y(e)||"object"!==y(t);return r||i?Array.prototype.slice.call(arguments):(n="regexp"===y(n)?n:/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var r=n.split("."),i=t;try{angular.forEach(r,function(e,t){i=i[r[t]]})}catch(o){i=e}return"string"===y(i)||"number"===y(i)?i:e}))},D=function(e){return b(e)&&h.logFilters.length>0?(angular.forEach(e,function(t,n){angular.forEach(h.logFilters,function(r){"object"===y(t)&&t.hasOwnProperty(r)&&!b(t[r])?t[r]=h.filterString:b(t)&&(e[n]=D(t))})}),e):e};e.decorator("$log",["$delegate",function(e){var t=function(){var e=function(e){return w(e)},t=function(e){return e!==!1},n=function(e,t){return w(e)&&w(t)?t:!1},r=function(e,t,n,r,i){var o=E(r)?r:"this instance";!i&&t&&n?e.log(x()+"[OVERRIDE] LOGGING ENABLED - $log enabled for "+o):i&&t&&!n&&e.log(x()+"[OVERRIDE] LOGGING DISABLED - $log disabled for "+o)},i=function(e){var t={};return angular.isArray(e)&&(t={getInstance:angular.noop},angular.forEach(e,function(e){t[e]=angular.noop})),t},o=function(e,t,n,r){var o={},a=i(t);return angular.forEach(u,function(t){var i;if(angular.isDefined(r)){var s=[];angular.copy(r,s),s.unshift(e[t]),k&&d&&(s[5]=M(s[5])?s[5]:m[t]),i=n.apply(null,s)}else i=e[t];o[t]=angular.isUndefined(a[t])?angular.noop:i}),o},a=function(i){var a=function(e,t,r,i,o,a){var s=function(){var s=i?n(u,r):u;if(s){var l=Array.prototype.slice.call(arguments);h.logFilters.length>0&&(l=D(l));var c=x(t);if(N(o,l)){var d=O.apply(null,l);d="string"===y(d)?[d]:d,l=d}"string"===y(a)&&T(l)?l=A(l[0],a,c):l.unshift(c),e&&e.apply(null,l)}};return s.logs=[],s},s=o(i,g),l=function(n,i,l,c){w(n)?(i=n,n=null):n="string"===y(n)?$(n):null;var d=e(i);return i=t(i),r(s,d,i,n,u),o(s,g,a,[n,i,d,l,c])},u=!1,c=!1;return angular.extend(i,o(i,g,a,[null,!1,!1,!1,null])),i.getInstance=l,i.enableLog=function(e,t){u=e,c=t},i.logEnabled=function(){return u&&!c},i},s=function(e){return o(e,g)};this.enhanceLogger=a,this.exposeSafeLog=s},n=new t;return n.enhanceLogger(e),e.enableLog(r,i),e.logEnabled()&&e.log("CONFIG: LOGGING ENABLED GLOBALLY"),n.exposeSafeLog(e)}]);var I=function(e,t){r=w(e)?e:!1,i=w(t)?t:!1},P=function(e){angular.isArray(e)&&(g=e)},R=function(e){angular.isFunction(e)&&(s=e,o=!0)},L=function(e){d=!(w(e)&&e)},H=function(e,t){"string"===y(e)&&m.hasOwnProperty(e)&&M(t)&&(m[e]=t)},j=function(e){"object"===y(e)&&angular.forEach(e,function(e,t){H(t,e)})},F=function(e){angular.isUndefined(e)?a=!0:w(e)&&(a=e)},B=function(e){"object"===y(e)&&"array"===y(e.logFilters)&&e.logFilters.length>0&&(angular.forEach(e.logFilters,function(e){"string"===y(e)&&h.logFilters.indexOf(e)<0&&h.logFilters.push(e)}),h.filterString="string"!==y(e.filterString)?f:e.filterString)};this.$get=function(){return{name:"Log Unobtrusive Extension",version:"0.0.10",enableLogging:I,restrictLogMethods:P,overrideLogPrefix:R,disableDefaultColors:L,setLogMethodColor:H,overrideLogMethodColors:j,useDefaultLogPrefix:F,configureLogFilters:B}},this.enableLogging=I,this.overrideLogPrefix=R,this.restrictLogMethods=P,this.disableDefaultColors=L,this.setLogMethodColor=H,this.overrideLogMethodColors=j,this.useDefaultLogPrefix=F,this.configureLogFilters=B}]),function(e,t){"use strict";return"function"==typeof define&&define.amd?void define("ngStorage",["angular"],function(e){return t(e)}):t(e)}("undefined"==typeof angular?null:angular,function(e){"use strict";function t(t){return["$rootScope","$window","$log","$timeout",function(n,r,i,o){function a(e){var t=r[e];if(t&&"localStorage"===e){var n="__"+Math.round(1e7*Math.random());try{localStorage.setItem(n,n),localStorage.removeItem(n)}catch(i){t=!1}}return t}var s,l,u=a(t)||(i.warn("This browser does not support Web Storage!"),{setItem:function(){},getItem:function(){}}),c={$default:function(t){for(var n in t)e.isDefined(c[n])||(c[n]=t[n]);return c},$reset:function(e){for(var t in c)"$"===t[0]||delete c[t];return c.$default(e)}};try{u=r[t],u.length}catch(d){i.warn("This browser does not support Web Storage!"),u={}}for(var p,f=0,h=u.length;h>f;f++)(p=u.key(f))&&"ngStorage-"===p.slice(0,10)&&(c[p.slice(10)]=e.fromJson(u.getItem(p)));return s=e.copy(c),n.$watch(function(){var t;l||(l=o(function(){if(l=null,!e.equals(c,s)){t=e.copy(s),e.forEach(c,function(n,r){e.isDefined(n)&&"$"!==r[0]&&u.setItem("ngStorage-"+r,e.toJson(n)),delete t[r]});for(var n in t)u.removeItem("ngStorage-"+n);s=e.copy(c)}},100,!1))}),"localStorage"===t&&r.addEventListener&&r.addEventListener("storage",function(t){"ngStorage-"===t.key.slice(0,10)&&(t.newValue?c[t.key.slice(10)]=e.fromJson(t.newValue):delete c[t.key.slice(10)],s=e.copy(c),n.$apply())}),c}]}e.module("ngStorage",[]).factory("$localStorage",t("localStorage")).factory("$sessionStorage",t("sessionStorage"))}),function(e){var t=function(e){var t=e.module("FBAngular",[]);return t.factory("Fullscreen",["$document","$rootScope",function(t,n){var r=t[0],i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,o=n.$new();t.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){o.$emit("FBFullscreen.change",a.isEnabled())});var a={$on:e.bind(o,o.$on),all:function(){a.enable(r.documentElement)},enable:function(e){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?e.webkitRequestFullscreen():e.webkitRequestFullscreen(i):e.msRequestFullscreen&&e.msRequestFullscreen()},cancel:function(){r.cancelFullScreen?r.cancelFullScreen():r.mozCancelFullScreen?r.mozCancelFullScreen():r.webkitExitFullscreen?r.webkitExitFullscreen():r.msExitFullscreen&&r.msExitFullscreen()},isEnabled:function(){var e=r.fullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||r.msFullscreenElement;return e?!0:!1},toggleAll:function(){a.isEnabled()?a.cancel():a.all()},isSupported:function(){var e=r.documentElement,t=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;return t?!0:!1}};return a}]),t.directive("fullscreen",["Fullscreen",function(e){return{link:function(t,n,r){if(r.fullscreen){t.$watch(r.fullscreen,function(t){var r=e.isEnabled();t&&!r?(e.enable(n[0]),n.addClass("isInFullScreen")):!t&&r&&(e.cancel(),n.removeClass("isInFullScreen"))});var i=e.$on("FBFullscreen.change",function(e,i){i||t.$evalAsync(function(){t.$eval(r.fullscreen+"= false"),n.removeClass("isInFullScreen")})});t.$on("$destroy",function(){i()})}else{if(void 0!==r.onlyWatchedProperty)return;n.on("click",function(){e.enable(n[0])})}}}}]),t};"function"==typeof define&&define.amd?define("FBAngular",["angular"],function(e){return t(e)}):t(e.angular)}(window),function(e,t,n){"use strict";if(e.ion=e.ion||{},!ion.sound){var r=function(t){if(t||(t="undefined"),e.console){console.warn&&"function"==typeof console.warn?console.warn(t):console.log&&"function"==typeof console.log&&console.log(t);var r=n&&n("#debug");if(r&&r.length){var i=r.html();r.html(i+t+"<br/>")}}},i=function(e,t){var n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};if("function"!=typeof Audio&&"object"!=typeof Audio){var o=function(){r("HTML5 Audio is not supported in this browser")};return ion.sound=o,ion.sound.play=o,ion.sound.stop=o,ion.sound.pause=o,ion.sound.preload=o,ion.sound.destroy=o,void o()}var a,s=/iPad|iPhone|iPod/.test(t.appVersion),l=0,u={},c={};!u.supported&&s?u.supported=["mp3","mp4","aac"]:u.supported||(u.supported=["mp3","ogg","mp4","aac","wav"]);var d=function(e){var t=e.alias||e.name;c[t]||(c[t]=new h(e),c[t].init())};ion.sound=function(e){if(i(e,u),u.path=u.path||"",u.volume=u.volume||1,u.preload=u.preload||!1,u.multiplay=u.multiplay||!1,u.loop=u.loop||!1,u.sprite=u.sprite||null,u.scope=u.scope||null,u.ready_callback=u.ready_callback||null,u.ended_callback=u.ended_callback||null,l=u.sounds.length,!l)return void r("No sound-files provided!");for(a=0;l>a;a++)d(u.sounds[a])},ion.sound.VERSION="3.0.4",ion.sound._method=function(e,t,n){if(t)c[t]&&c[t][e](n);else for(a in c)c.hasOwnProperty(a)&&c[a]&&c[a][e](n)},ion.sound.preload=function(e,t){t=t||{},i({preload:!0},t),ion.sound._method("init",e,t)},ion.sound.destroy=function(e){if(ion.sound._method("destroy",e),e)c[e]=null;else for(a in c)c.hasOwnProperty(a)&&c[a]&&(c[a]=null)},ion.sound.play=function(e,t){ion.sound._method("play",e,t)},ion.sound.stop=function(e,t){ion.sound._method("stop",e,t)},ion.sound.pause=function(e,t){ion.sound._method("pause",e,t)},ion.sound.volume=function(e,t){ion.sound._method("volume",e,t)},n&&(n.ionSound=ion.sound);var p,f=e.AudioContext||e.webkitAudioContext;f&&(p=new f);var h=function(e){this.options=i(u),delete this.options.sounds,i(e,this.options),this.request=null,this.streams={},this.result={},this.ext=0,this.url="",this.loaded=!1,this.decoded=!1,this.no_file=!1,this.autoplay=!1};h.prototype={init:function(e){e&&i(e,this.options),this.options.preload&&this.load()},destroy:function(){var e;for(a in this.streams)e=this.streams[a],e&&(e.destroy(),e=null);this.streams={},this.result=null,this.options.buffer=null,this.options=null,this.request&&(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request.abort(),this.request=null)},createUrl:function(){var e=(new Date).valueOf();this.url=this.options.path+encodeURIComponent(this.options.name)+"."+this.options.supported[this.ext]+"?"+e},load:function(){return this.no_file?void r('No sources for "'+this.options.name+'" sound :('):(this.createUrl(),this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.responseType="arraybuffer",this.request.addEventListener("load",this.ready.bind(this),!1),this.request.addEventListener("error",this.error.bind(this),!1),void this.request.send())},reload:function(){this.ext++,this.options.supported[this.ext]?this.load():(this.no_file=!0,r('No sources for "'+this.options.name+'" sound :('))},ready:function(e){return this.result=e.target,4!==this.result.readyState?void this.reload():200!==this.result.status?(r(this.url+" was not found on server!"),void this.reload()):(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request=null,this.loaded=!0,void this.decode())},decode:function(){p&&p.decodeAudioData(this.result.response,this.setBuffer.bind(this),this.error.bind(this))},setBuffer:function(e){this.options.buffer=e,this.decoded=!0;var t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:this.options.buffer.duration};if(this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.options.sprite)for(a in this.options.sprite)this.options.start=this.options.sprite[a][0],this.options.end=this.options.sprite[a][1],this.streams[a]=new m(this.options,a);else this.streams[0]=new m(this.options);this.autoplay&&(this.autoplay=!1,this.play())},error:function(){this.reload()},play:function(e){if(delete this.options.part,e&&i(e,this.options),!this.loaded)return void(this.options.preload||(this.autoplay=!0,this.load()));if(!this.no_file&&this.decoded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(a in this.options.sprite)this.streams[a].play(this.options);else this.streams[0].play(this.options)},stop:function(e){if(this.options.sprite)if(e)this.streams[e.part].stop();else for(a in this.options.sprite)this.streams[a].stop();else this.streams[0].stop()},pause:function(e){if(this.options.sprite)if(e)this.streams[e.part].pause();else for(a in this.options.sprite)this.streams[a].pause();else this.streams[0].pause()},volume:function(e){var t;if(e)if(i(e,this.options),this.options.sprite)if(this.options.part)t=this.streams[this.options.part],t&&t.setVolume(this.options);else for(a in this.options.sprite)t=this.streams[a],t&&t.setVolume(this.options);else t=this.streams[0],t&&t.setVolume(this.options)}};var m=function(e,t){this.alias=e.alias,this.name=e.name,this.sprite_part=t,this.buffer=e.buffer,this.start=e.start||0,this.end=e.end||this.buffer.duration,this.multiplay=e.multiplay||!1,this.volume=e.volume||1,this.scope=e.scope,this.ended_callback=e.ended_callback,this.setLoop(e),this.source=null,this.gain=null,this.playing=!1,this.paused=!1,this.time_started=0,this.time_ended=0,this.time_played=0,this.time_offset=0};if(m.prototype={destroy:function(){this.stop(),this.buffer=null,this.source=null,this.gain&&this.gain.disconnect(),this.source&&this.source.disconnect(),this.gain=null,this.source=null},setLoop:function(e){e.loop===!0?this.loop=9999999:"number"==typeof e.loop&&(this.loop=+e.loop-1)},update:function(e){this.setLoop(e),"volume"in e&&(this.volume=e.volume)},play:function(e){e&&this.update(e),(this.multiplay||!this.playing)&&(this.gain=p.createGain(),this.source=p.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gain),this.gain.connect(p.destination),this.gain.gain.value=this.volume,this.source.onended=this.ended.bind(this),this._play())},_play:function(){var e,t;return this.paused?(e=this.start+this.time_offset,t=this.end-this.time_offset):(e=this.start,t=this.end),0>=t?void this.clear():(this.source.start(0,e,t),this.playing=!0,this.paused=!1,void(this.time_started=(new Date).valueOf()))},stop:function(){this.source&&this.source.stop(0),this.clear()},pause:function(){return this.paused?void this.play():void(this.playing&&(this.source&&this.source.stop(0),this.paused=!0))},ended:function(){this.playing=!1,this.time_ended=(new Date).valueOf(),this.time_played=(this.time_ended-this.time_started)/1e3,this.time_offset+=this.time_played,(this.time_offset>=this.end||this.end-this.time_offset<.015)&&(this._ended(),this.clear(),this.loop&&(this.loop--,this.play()))},_ended:function(){var e={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,e)},clear:function(){this.time_played=0,this.time_offset=0,this.paused=!1,this.playing=!1},setVolume:function(e){this.volume=e.volume,this.gain&&(this.gain.gain.value=this.volume)}},!p){var g=function(){var e,t,n=new Audio,r=n.canPlayType("audio/mpeg"),i=n.canPlayType("audio/ogg"),o=n.canPlayType('audio/mp4; codecs="mp4a.40.2"');for(t=0;t<u.supported.length;t++)e=u.supported[t],r||"mp3"!==e||u.supported.splice(t,1),i||"ogg"!==e||u.supported.splice(t,1),o||"aac"!==e||u.supported.splice(t,1),o||"mp4"!==e||u.supported.splice(t,1);n=null};g(),h.prototype={init:function(e){e&&i(e,this.options),this.inited=!0,this.options.preload&&this.load()},destroy:function(){var e;for(a in this.streams)e=this.streams[a],e&&(e.destroy(),e=null);this.streams={},this.loaded=!1,this.inited=!1},load:function(){var e;if(this.options.preload=!0,this.options._ready=this.ready,this.options._scope=this,this.options.sprite)for(a in this.options.sprite)e=this.options.sprite[a],this.options.start=e[0],this.options.end=e[1],this.streams[a]=new m(this.options,a);else this.streams[0]=new m(this.options)},ready:function(e){if(!this.loaded){this.loaded=!0;var t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:e};this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.autoplay&&(this.autoplay=!1,this.play())}},play:function(e){if(this.inited){if(delete this.options.part,e&&i(e,this.options),!this.loaded)return void(this.options.preload||(this.autoplay=!0,this.load()));if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(a in this.options.sprite)this.streams[a].play(this.options);else this.streams[0].play(this.options)}},stop:function(e){if(this.inited)if(this.options.sprite)if(e)this.streams[e.part].stop();else for(a in this.options.sprite)this.streams[a].stop();else this.streams[0].stop()},pause:function(e){if(this.inited)if(this.options.sprite)if(e)this.streams[e.part].pause();else for(a in this.options.sprite)this.streams[a].pause();else this.streams[0].pause()},volume:function(e){var t;if(e)if(i(e,this.options),this.options.sprite)if(this.options.part)t=this.streams[this.options.part],t&&t.setVolume(this.options);else for(a in this.options.sprite)t=this.streams[a],t&&t.setVolume(this.options);else t=this.streams[0],t&&t.setVolume(this.options)}},m=function(e,t){this.name=e.name,this.alias=e.alias,this.sprite_part=t,this.multiplay=e.multiplay,this.volume=e.volume,this.preload=e.preload,this.path=u.path,this.start=e.start||0,this.end=e.end||0,this.scope=e.scope,this.ended_callback=e.ended_callback,this._scope=e._scope,this._ready=e._ready,this.setLoop(e),this.sound=null,this.url=null,this.loaded=!1,this.start_time=0,this.paused_time=0,this.played_time=0,this.init()},m.prototype={init:function(){this.sound=new Audio,this.sound.volume=this.volume,this.createUrl(),this.sound.addEventListener("ended",this.ended.bind(this),!1),this.sound.addEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.addEventListener("timeupdate",this._update.bind(this),!1),this.load()},destroy:function(){this.stop(),this.sound.removeEventListener("ended",this.ended.bind(this),!1),this.sound.removeEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.removeEventListener("timeupdate",this._update.bind(this),!1),this.sound=null,this.loaded=!1},createUrl:function(){var e=(new Date).valueOf();this.url=this.path+encodeURIComponent(this.name)+"."+u.supported[0]+"?"+e},can_play_through:function(){this.preload&&this.ready()},load:function(){this.sound.src=this.url,this.sound.preload=this.preload?"auto":"none",this.preload&&this.sound.load()},setLoop:function(e){e.loop===!0?this.loop=9999999:"number"==typeof e.loop&&(this.loop=+e.loop-1)},update:function(e){this.setLoop(e),"volume"in e&&(this.volume=e.volume)},ready:function(){!this.loaded&&this.sound&&(this.loaded=!0,this._ready.call(this._scope,this.sound.duration),this.end||(this.end=this.sound.duration))},play:function(e){e&&this.update(e),(this.multiplay||!this.playing)&&this._play()},_play:function(){if(this.paused)this.paused=!1;else try{this.sound.currentTime=this.start}catch(e){}this.playing=!0,this.start_time=(new Date).valueOf(),this.sound.volume=this.volume,this.sound.play()},stop:function(){if(this.playing){this.playing=!1,this.paused=!1,this.sound.pause(),this.clear();try{this.sound.currentTime=this.start}catch(e){}}},pause:function(){this.paused?this._play():(this.playing=!1,this.paused=!0,this.sound.pause(),this.paused_time=(new Date).valueOf(),this.played_time+=this.paused_time-this.start_time)},_update:function(){if(this.start_time){var e=(new Date).valueOf(),t=e-this.start_time,n=(this.played_time+t)/1e3;n>=this.end&&this.playing&&(this.stop(),this._ended())}},ended:function(){this.playing&&(this.stop(),this._ended())},_ended:function(){this.playing=!1;var e={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,e),this.loop&&setTimeout(this.looper.bind(this),15)},looper:function(){this.loop--,this.play()},clear:function(){this.start_time=0,this.played_time=0,this.paused_time=0},setVolume:function(e){this.volume=e.volume,this.sound&&(this.sound.volume=this.volume)}}}}}(window,navigator,window.jQuery||window.$),!function(){navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.hasUserMedia=function(){return navigator.getMedia?!0:!1}}(),angular.module("webcam",[]).directive("webcam",function(){return{template:'<div class="webcam" ng-transclude></div>',restrict:"E",replace:!0,transclude:!0,scope:{onError:"&",onStream:"&",onStreaming:"&",placeholder:"=",config:"=channel"},link:function(e,t){var n=null,r=null,i=null;e.config=e.config||{};var o=function(e){e&&angular.element(e).remove()},a=function(){r&&"function"==typeof r.stop&&r.stop(),n&&delete n.src},s=function(t){if(r=t,navigator.mozGetUserMedia)n.mozSrcObject=t;else{var i=window.URL||window.webkitURL;n.src=i.createObjectURL(t)}n.play(),e.config.video=n,e.onStream&&e.onStream({stream:t})},l=function(t){o(i),console&&console.log&&console.log("The following error occured: ",t),e.onError&&e.onError({err:t})},u=function(){n=document.createElement("video"),n.setAttribute("class","webcam-live"),n.setAttribute("autoplay",""),t.append(n),e.placeholder&&(i=document.createElement("img"),i.setAttribute("class","webcam-loader"),i.src=e.placeholder,t.append(i));var r=!1,a=t.width=e.config.videoWidth||320,u=t.height=0;if(!window.hasUserMedia())return void l({code:-1,msg:"Browser does not support getUserMedia."});var c={video:!0,audio:!1};navigator.getMedia(c,s,l),n.addEventListener("canplay",function(){if(!r){var t=a/n.videoWidth;u=n.videoHeight*t||e.config.videoHeight,n.setAttribute("width",a),n.setAttribute("height",u),r=!0,e.config.video=n,o(i),e.onStreaming&&e.onStreaming()}},!1)},c=function(){a(),n.remove()};e.$on("$destroy",a),e.$on("START_WEBCAM",u),e.$on("STOP_WEBCAM",c),u()}}}),/**
 * Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==$||!(n!=b||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=b||!e[t])}function n(e,t){return typeof e[t]!=w}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}function i(e){return e&&k(e,C)&&S(e,x)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(t){typeof console!=w&&e(console,"log")&&console.log(t)}function s(e,t){N&&t?alert(e):a(e)}function l(e){D.initialized=!0,D.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,D.config.alertOnFail)}function u(e){s("Rangy warning: "+e,D.config.alertOnWarn)}function c(e){return e.message||e.description||String(e)}function d(){if(N&&!D.initialized){var t,n=!1,r=!1;e(document,"createRange")&&(t=document.createRange(),k(t,_)&&S(t,E)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),i(t)&&(r=!0)),!n&&!r)return void l("Neither Range nor TextRange are available");D.initialized=!0,D.features={implementsDomRange:n,implementsTextRange:r};var u,d;for(var p in A)(u=A[p])instanceof m&&u.init(u,D);for(var f=0,h=R.length;h>f;++f)try{R[f](D)}catch(g){d="Rangy init listener threw an exception. Continuing. Detail: "+c(g),a(d)}}}function p(e,t,n){n&&(e+=" in module "+n.name),D.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function f(e,t,n,r){e[t]=function(){return p(t,n,r),e[n].apply(e,O.toArray(arguments))}}function h(e){e=e||window,d();for(var t=0,n=L.length;n>t;++t)L[t](e)}function m(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function g(e,t,n){var r=new m(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(D,t),t.supported=!0}catch(r){var i="Module '"+e+"' failed to load: "+c(r);a(i),r.stack&&a(r.stack)}}});return A[e]=r,r}function v(){}function y(){}var b="object",$="function",w="undefined",E=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],_=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],x=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],C=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],k=r(e),T=r(t),S=r(n),M=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;r>n;++n)t(e[n],n)},A={},N=typeof window!=w&&typeof document!=w,O={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:k,areHostObjects:T,areHostProperties:S,isTextRange:i,getBody:o,forEach:M},D={version:"1.3.0",initialized:!1,isBrowser:N,supported:!0,util:O,features:{},modules:A,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==w?!0:rangyAutoInitialize}};D.fail=l,D.warn=u;var I;({}).hasOwnProperty?(O.extend=I=function(e,t,n){var r,i;for(var o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&I(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},O.createOptions=function(e,t){var n={};return I(n,t),e&&I(n,e),n}):l("hasOwnProperty not supported"),N||l("Rangy can only run in a browser"),function(){var e;if(N){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(r){}}e||(e=function(e){for(var t=[],n=0,r=e.length;r>n;++n)t[n]=e[n];return t}),O.toArray=e}();var P;N&&(e(document,"addEventListener")?P=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?P=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),O.addListener=P);var R=[];O.deprecationNotice=p,O.createAliasForDeprecatedMethod=f,D.init=d,D.addInitListener=function(e){D.initialized?e(D):R.push(e)};var L=[];D.addShimListener=function(e){L.push(e)},N&&(D.shim=D.createMissingNativeApi=h,f(D,"createMissingNativeApi","shim")),m.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;i>r;++r){if(t=n[r],e=A[t],!(e&&e instanceof m))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){D.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){D.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},D.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=g(e,n,t);D.initialized&&D.supported&&r.init()},D.createCoreModule=function(e,t,n){g(e,t,n)},D.RangePrototype=v,D.rangePrototype=new v,D.selectionPrototype=new y,D.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==N||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function r(e){var t=e.parentNode;return 1==t.nodeType?t:null}function i(e){for(var t=0;e=e.previousSibling;)++t;return t}function o(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(R(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function l(e,t){return s(e,t,!0)}function u(e,t,n){for(var r,i=n?e:e.parentNode;i;){if(r=i.parentNode,r===t)return i;i=r}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function p(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function f(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),p(r,e),n)for(var o,a=0;o=n[a++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>i(e)&&++o.offset;return r}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=N)return e.ownerDocument;if(typeof e.document!=N)return e.document;if(e.parentNode)return h(e.parentNode);throw t.createError("getDocument: no document found for node")}function m(e){var n=h(e);if(typeof n.defaultView!=N)return n.defaultView;if(typeof n.parentWindow!=N)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=N)return e.contentDocument;if(typeof e.contentWindow!=N)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=N)return e.contentWindow;if(typeof e.contentDocument!=N)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function y(e){return e&&O.isHostMethod(e,"setTimeout")&&O.isHostObject(e,"document")}function b(e,t,n){var r;if(e?O.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):h(e):y(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r}function $(e){for(var t;t=e.parentNode;)e=t;return e}function w(e,n,r,o){var s,l,c,d,p;if(e==r)return n===o?0:o>n?-1:1;if(s=u(r,e,!0))return n<=i(s)?-1:1;if(s=u(e,r,!0))return i(s)<o?-1:1;if(l=a(e,r),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(c=e===l?l:u(e,l,!0),d=r===l?l:u(r,l,!0),c===d)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(p=l.firstChild;p;){if(p===c)return-1;if(p===d)return 1;p=p.nextSibling}}function E(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function _(e){if(!e)return"[No node]";if(L&&E(e))return"[Broken node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+i(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function x(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function C(e,t,n){var r=D(e),i=e.createElement("div");i.contentEditable=""+!!n,t&&(i.innerHTML=t);var o=r.firstChild;return o?r.insertBefore(i,o):r.appendChild(i),i}function k(e){return e.parentNode.removeChild(e)}function T(e){this.root=e,this._next=e}function S(e){return new T(e)}function M(e,t){this.node=e,this.offset=t}function A(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var N="undefined",O=e.util,D=O.getBody;O.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),O.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var I=document.createElement("div");O.areHostMethods(I,["insertBefore","appendChild","cloneNode"]||!O.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),O.isHostProperty(I,"innerHTML")||t.fail("Element is missing innerHTML property");var P=document.createTextNode("test");O.areHostMethods(P,["splitText","deleteData","insertData","appendData","cloneNode"]||!O.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"])||!O.areHostProperties(P,["data"]))||t.fail("Incomplete Text Node implementation");var R=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},L=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",L=E(n),e.features.crashyTextNodes=L}();var H;typeof window.getComputedStyle!=N?H=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=N?H=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),T.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},M.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},A.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},A.prototype.toString=function(){return this.message},e.dom={arrayContains:R,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:d,insertAfter:p,splitDataNode:f,getDocument:h,getWindow:m,getIframeWindow:v,getIframeDocument:g,getBody:D,isWindow:y,getContentDocument:b,getRootContainer:$,comparePoints:w,isBrokenNode:E,inspectNode:_,getComputedStyleProperty:H,createTestElement:C,removeNode:k,fragmentFromNodeChildren:x,createIterator:S,DomPosition:M},e.DOMException=A}),D.createCoreModule("DomRange",["DomUtil"],function(e){function t(e,t){return 3!=e.nodeType&&(F(e,t.startContainer)||F(e,t.endContainer))}function n(e){return e.document||B(e.startContainer)}function r(e){return z(e.startContainer)}function i(e){return new R(e.parentNode,j(e))}function o(e){return new R(e.parentNode,j(e)+1)}function a(e,t,n){var r=11==e.nodeType?e.firstChild:e;return H(t)?n==t.length?I.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:q(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function s(e,t,r){if(x(e),x(t),n(t)!=n(e))throw new L("WRONG_DOCUMENT_ERR");var i=W(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=W(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return r?0>=i&&o>=0:0>i&&o>0}function l(e){for(var t,r,i,o=n(e.range).createDocumentFragment();r=e.next();){if(t=e.isPartiallySelectedSubtree(),r=r.cloneNode(!t),t&&(i=e.getSubtreeIterator(),r.appendChild(l(i)),i.detach()),10==r.nodeType)throw new L("HIERARCHY_REQUEST_ERR");o.appendChild(r)}return o}function u(e,t,n){var r,i;n=n||{stop:!1};for(var o,a;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),u(a,t,n),a.detach(),n.stop)return}else for(r=I.createIterator(o);i=r.next();)if(t(i)===!1)return void(n.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach()):e.remove()}function d(e){for(var t,r,i=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),r=e.getSubtreeIterator(),t.appendChild(d(r)),r.detach()):e.remove(),10==t.nodeType)throw new L("HIERARCHY_REQUEST_ERR");i.appendChild(t)}return i}function p(e,t,n){var r,i=!(!t||!t.length),o=!!n;i&&(r=new RegExp("^("+t.join("|")+")$"));var a=[];return u(new h(e,!1),function(t){if(!(i&&!r.test(t.nodeType)||o&&!n(t))){var s=e.startContainer;if(t!=s||!H(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&H(l)&&0==e.endOffset||a.push(t)}}}),a}function f(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+I.inspectNode(e.startContainer)+":"+e.startOffset+", "+I.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function h(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&H(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||H(this.sc)?U(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||H(this.ec)?U(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){return function(t,n){for(var r,i=n?t:t.parentNode;i;){if(r=i.nodeType,V(e,r))return i;i=i.parentNode}return null}}function g(e,t){if(rt(e,t))throw new L("INVALID_NODE_TYPE_ERR")}function v(e,t){if(!V(t,e.nodeType))throw new L("INVALID_NODE_TYPE_ERR")}function y(e,t){if(0>t||t>(H(e)?e.length:e.childNodes.length))throw new L("INDEX_SIZE_ERR")}function b(e,t){if(tt(e,!0)!==tt(t,!0))throw new L("WRONG_DOCUMENT_ERR")}function $(e){if(nt(e,!0))throw new L("NO_MODIFICATION_ALLOWED_ERR")}function w(e,t){if(!e)throw new L(t)}function E(e,t){return t<=(H(e)?e.length:e.childNodes.length)}function _(e){return!!e.startContainer&&!!e.endContainer&&!(K&&(I.isBrokenNode(e.startContainer)||I.isBrokenNode(e.endContainer)))&&z(e.startContainer)==z(e.endContainer)&&E(e.startContainer,e.startOffset)&&E(e.endContainer,e.endOffset)}function x(e){if(!_(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function C(e,t){x(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n===i;H(i)&&o>0&&o<i.length&&q(i,o,t),H(n)&&r>0&&r<n.length&&(n=q(n,r,t),a?(o-=r,i=n):i==n.parentNode&&o>=j(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function k(e){x(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function T(e){e.START_TO_START=ut,e.START_TO_END=ct,e.END_TO_END=dt,e.END_TO_START=pt,e.NODE_BEFORE=ft,e.NODE_AFTER=ht,e.NODE_BEFORE_AND_AFTER=mt,e.NODE_INSIDE=gt}function S(e){T(e),T(e.prototype)}function M(e,t){return function(){x(this);var n,r,i=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,l=new h(this,!0);i!==s&&(n=U(i,s,!0),r=o(n),i=r.node,a=r.offset),u(l,$),l.reset();var c=e(l);return l.detach(),t(this,i,a,i,a),c}}function A(n,r){function a(e,t){return function(n){v(n,X),v(z(n),Z);var r=(e?i:o)(n);(t?s:l)(this,r.node,r.offset)}}function s(e,t,n){var i=e.endContainer,o=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((z(t)!=z(i)||1==W(t,n,i,o))&&(i=t,o=n),r(e,t,n,i,o))}function l(e,t,n){var i=e.startContainer,o=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((z(t)!=z(i)||-1==W(t,n,i,o))&&(i=t,o=n),r(e,i,o,t,n))}var u=function(){};u.prototype=e.rangePrototype,n.prototype=new u,P.extend(n.prototype,{setStart:function(e,t){g(e,!0),y(e,t),s(this,e,t)},setEnd:function(e,t){g(e,!0),y(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:i=e[2],o=e[3]}r(this,t,n,i,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){x(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){g(e,!0),r(this,e,0,e,G(e))},selectNode:function(e){g(e,!1),v(e,X);var t=i(e),n=o(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:M(d,r),deleteContents:M(c,r),canSurroundContents:function(){x(this),$(this.startContainer),$(this.endContainer);var e=new h(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},splitBoundaries:function(){C(this)},splitBoundariesPreservingPositions:function(e){C(this,e)},normalizeBoundaries:function(){x(this);var e,t=this.startContainer,n=this.startOffset,i=this.endContainer,o=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,o=e.length,e.appendData(t.data),Y(t))},s=function(e){var r=e.previousSibling;if(r&&r.nodeType==e.nodeType){t=e;var a=e.length;if(n=r.length,e.insertData(0,r.data),Y(r),t==i)o+=n,i=t;else if(i==e.parentNode){var s=j(e);o==s?(i=e,o=a):o>s&&o--}}},l=!0;if(H(i))o==i.length?a(i):0==o&&(e=i.previousSibling,e&&e.nodeType==i.nodeType&&(o=e.length,t==i&&(l=!1),e.appendData(i.data),Y(i),i=e));else{if(o>0){var u=i.childNodes[o-1];u&&H(u)&&a(u)}l=!this.collapsed}if(l){if(H(t))0==n?s(t):n==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(i==e&&(i=t,o+=t.length),t.appendData(e.data),Y(e)));else if(n<t.childNodes.length){var c=t.childNodes[n];c&&H(c)&&s(c)}}else t=i,n=o;r(this,t,n,i,o)},collapseToPoint:function(e,t){g(e,!0),y(e,t),this.setStartAndEnd(e,t)}}),S(n)}function N(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:I.getCommonAncestor(e.startContainer,e.endContainer)}function O(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=I.getDocument(t),N(e)}function D(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,N(this)}var I=e.dom,P=e.util,R=I.DomPosition,L=e.DOMException,H=I.isCharacterDataNode,j=I.getNodeIndex,F=I.isOrIsAncestorOf,B=I.getDocument,W=I.comparePoints,q=I.splitDataNode,U=I.getClosestAncestorIn,G=I.getNodeLength,V=I.arrayContains,z=I.getRootContainer,K=e.features.crashyTextNodes,Y=I.removeNode;h.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,H(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!H(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Y(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new D(n(this.range));var t=this._current,r=t,i=0,o=t,a=G(t);F(t,this.sc)&&(r=this.sc,i=this.so),F(t,this.ec)&&(o=this.ec,a=this.eo),O(e,r,i,o,a)}return new h(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var X=[1,3,4,5,7,8,10],Z=[2,9,11],J=[5,6,10,12],Q=[1,3,4,5,7,8,10,11],et=[1,3,4,5,7,8],tt=m([9,11]),nt=m(J),rt=m([6,10,12]),it=document.createElement("style"),ot=!1;try{it.innerHTML="<b>x</b>",ot=3==it.firstChild.nodeType}catch(at){}e.features.htmlParsingConforms=ot;var st=ot?function(e){var t=this.startContainer,n=B(t);if(!t)throw new L("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:H(t)&&(r=I.parentElement(t)),r=null===r||"HTML"==r.nodeName&&I.isHtmlNamespace(B(r).documentElement)&&I.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=e,I.fragmentFromNodeChildren(r)}:function(e){var t=n(this),r=t.createElement("body");return r.innerHTML=e,I.fragmentFromNodeChildren(r)},lt=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ut=0,ct=1,dt=2,pt=3,ft=0,ht=1,mt=2,gt=3;P.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){x(this),b(this.startContainer,t.startContainer);var n,r,i,o,a=e==pt||e==ut?"start":"end",s=e==ct||e==ut?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=t[s+"Container"],o=t[s+"Offset"],W(n,r,i,o)},insertNode:function(e){if(x(this),v(e,Q),$(this.startContainer),F(e,this.startContainer))throw new L("HIERARCHY_REQUEST_ERR");var t=a(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){x(this);var e,t;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&H(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t;var r=new h(this,!0);return e=l(r),r.detach(),e},canSurroundContents:function(){x(this),$(this.startContainer),$(this.endContainer);var e=new h(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(v(e,et),!this.canSurroundContents())throw new L("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);a(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){x(this);for(var e,t=new D(n(this)),r=lt.length;r--;)e=lt[r],t[e]=this[e];return t},toString:function(){x(this);var e=this.startContainer;if(e===this.endContainer&&H(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new h(this,!0);return u(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){x(this);var t=e.parentNode,n=j(e);if(!t)throw new L("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return 0>r?i>0?mt:ft:i>0?ht:gt},comparePoint:function(e,t){return x(this),w(e,"HIERARCHY_REQUEST_ERR"),b(e,this.startContainer),W(e,t,this.startContainer,this.startOffset)<0?-1:W(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:st,toHtml:function(){return k(this)},intersectsNode:function(e,t){if(x(this),z(e)!=r(this))return!1;var n=e.parentNode,i=j(e);if(!n)return!0;var o=W(n,i,this.endContainer,this.endOffset),a=W(n,i+1,this.startContainer,this.startOffset);return t?0>=o&&a>=0:0>o&&a>0},isPointInRange:function(e,t){return x(this),w(e,"HIERARCHY_REQUEST_ERR"),b(e,this.startContainer),W(e,t,this.startContainer,this.startOffset)>=0&&W(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return s(this,e,!1)},intersectsOrTouchesRange:function(e){return s(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=W(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=W(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==W(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==W(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new L("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==gt},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,G(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return x(this),p(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var r=n(this),i=e.createRange(r);t=t||I.getBody(r),i.selectNodeContents(t);var o=this.intersection(i),a=0,s=0;return o&&(i.setEnd(o.startContainer,o.startOffset),a=i.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,o,a,s=[t],l=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),l=!0),l&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),u=!0),n=i;else for(a=r.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return D.rangesEqual(this,e)},isValid:function(){return _(this)},inspect:function(){return f(this)},detach:function(){}}),A(D,O),P.extend(D,{rangeProperties:lt,RangeIterator:h,copyComparisonConstants:S,createPrototypeRange:A,inspect:f,toHtml:k,getRangeDocument:n,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=D}),D.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,i=e.dom,o=e.util,a=i.DomPosition,s=e.DomRange,l=i.getBody,u=i.getContentDocument,c=i.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function r(e){for(var t,n=p.length;n--;)t=p[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(r,i),e.setStart(t,n))}var c,d,p=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,r(this)},s.createPrototypeRange(n,a),c=n.prototype,c.selectNode=function(e){this.nativeRange.selectNode(e),r(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(e){this.nativeRange.surroundContents(e),r(this)},c.collapse=function(e){this.nativeRange.collapse(e),r(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){r(this)},c.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test");l(document).appendChild(f);var h=document.createRange();h.setStart(f,0),h.setEnd(f,0);try{h.setStart(f,1),c.setStart=function(e,t){this.nativeRange.setStart(e,t),r(this)},c.setEnd=function(e,t){this.nativeRange.setEnd(e,t),r(this)},d=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(m){c.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}r(this)},c.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}r(this)},d=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(i){this.nativeRange[t](n),this.nativeRange[e](n)}r(this)}}}c.setStartBefore=d("setStartBefore","setEndBefore"),c.setStartAfter=d("setStartAfter","setEndAfter"),c.setEndBefore=d("setEndBefore","setStartBefore"),c.setEndAfter=d("setEndAfter","setStartAfter"),c.selectNodeContents=function(e){this.setStartAndEnd(e,0,i.getNodeLength(e))},h.selectNodeContents(f),h.setEnd(f,3);var g=document.createRange();g.selectNodeContents(f),g.setEnd(f,4),g.setStart(f,2),c.compareBoundaryPoints=-1==h.compareBoundaryPoints(h.START_TO_END,g)&&1==h.compareBoundaryPoints(h.END_TO_START,g)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var v=document.createElement("div");v.innerHTML="123";var y=v.firstChild,b=l(document);b.appendChild(v),h.setStart(y,1),h.setEnd(y,2),h.deleteContents(),"13"==y.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},c.extractContents=function(){var e=this.nativeRange.extractContents();return r(this),e}),b.removeChild(v),b=null,o.isHostMethod(h,"createContextualFragment")&&(c.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(f),c.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var d=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();n=e.duplicate(),n.collapse(!1);var o=n.parentElement(),a=r==o?r:i.getCommonAncestor(r,o);return a==t?a:i.getCommonAncestor(t,a)},p=function(e){return 0==e.compareEndPoints("StartToEnd",e)},f=function(e,t,n,r,o){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(i.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var u=new a(l.parentNode,i.getNodeIndex(l));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var d=i.getDocument(l).createElement("span");d.parentNode&&i.removeNode(d);for(var p,f,h,m,g,v=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,b=l.childNodes.length,$=b,w=$;;){if(w==b?l.appendChild(d):l.insertBefore(d,l.childNodes[w]),s.moveToElementText(d),p=s.compareEndPoints(v,e),0==p||y==$)break;if(-1==p){if($==y+1)break;y=w}else $=$==y+1?y:w;w=Math.floor((y+$)/2),l.removeChild(d)}if(g=d.nextSibling,-1==p&&g&&c(g)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var E;if(/[\r\n]/.test(g.data)){var _=s.duplicate(),x=_.text.replace(/\r\n/g,"\r").length;for(E=_.moveStart("character",x);-1==(p=_.compareEndPoints("StartToEnd",_));)E++,_.moveStart("character",1)}else E=s.text.length;m=new a(g,E)}else f=(r||!n)&&d.previousSibling,h=(r||n)&&d.nextSibling,m=h&&c(h)?new a(h,0):f&&c(f)?new a(f,f.data.length):new a(l,i.getNodeIndex(d));return i.removeNode(d),{boundaryPosition:m,nodeInfo:{nodeIndex:w,containerElement:l}}},h=function(e,t){var n,r,o,a,s=e.offset,u=i.getDocument(e.node),d=l(u).createTextRange(),p=c(e.node);return p?(n=e.node,r=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,r=e.node),o=u.createElement("span"),o.innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),d.moveToElementText(o),d.collapse(!t),r.removeChild(o),p&&d[t?"moveStart":"moveEnd"]("character",s),d};r=function(e){this.textRange=e,this.refresh()},r.prototype=new s(document),r.prototype.refresh=function(){var e,t,n,r=d(this.textRange);
p(this.textRange)?t=e=f(this.textRange,r,!0,!0).boundaryPosition:(n=f(this.textRange,r,!0,!1),e=n.boundaryPosition,t=f(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var m=function(e){if(e.collapsed)return h(new a(e.startContainer,e.startOffset),!0);var t=h(new a(e.startContainer,e.startOffset),!0),n=h(new a(e.endContainer,e.endOffset),!1),r=l(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=m,r.prototype.toTextRange=function(){return m(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var g=function(e){return e("return this;")()}(Function);"undefined"==typeof g.Range&&(g.Range=r),e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=u(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=u(e,t,"createRangyRange"),new s(e)},o.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),D.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function r(e,n){if(e){if(S.isWindow(e))return e;if(e instanceof v)return e.win;var r=S.getContentDocument(e,t,n);return S.getWindow(r)}return window}function i(e){return r(e,"getWinSelection").getSelection()}function o(e){return r(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==S.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function u(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function c(t){var n;return t instanceof N?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof O?n=t.nativeRange:P.implementsDomRange&&t instanceof S.getWindow(t.startContainer).Range&&(n=t),n}function d(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!S.isAncestorOf(e[0],e[t]))return!1;return!0}function p(e){var n=e.getNodes();if(!d(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function f(e){return!!e&&"undefined"!=typeof e.text}function h(e,t){var n=new O(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function m(t){if(t._ranges.length=0,"None"==t.docSelection.type)u(t);else{var n=t.docSelection.createRange();if(f(n))h(t,n);else{t.rangeCount=n.length;for(var r,i=L(n.item(0)),o=0;o<t.rangeCount;++o)r=e.createRange(i),r.selectNode(n.item(o)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function g(e,n){for(var r=e.docSelection.createRange(),i=p(n),o=L(r.item(0)),a=H(o).createControlRange(),s=0,l=r.length;l>s;++s)a.add(r.item(s));try{a.add(i)}catch(u){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),m(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,r,i=tt.length;i--;)if(n=tt[i],r=n.selection,"deleteAll"==t)y(r);else if(n.win==e)return"delete"==t?(tt.splice(i,1),!0):r;return"deleteAll"==t&&(tt.length=0),null}function $(e,n){for(var r,i=L(n[0].startContainer),o=H(i).createControlRange(),a=0,s=n.length;s>a;++a){r=p(n[a]);try{o.add(r)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),m(e)}function w(e,t){if(e.win.document!=L(t))throw new D("WRONG_DOCUMENT_ERR")}function E(t){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0),i["set"+(t?"Start":"End")](n,r)):(i=e.createRange(this.win.document),i.setStartAndEnd(n,r)),this.setSingleRange(i,this.isBackward())}}function _(e){var t=[],n=new I(e.anchorNode,e.anchorOffset),r=new I(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,a=e.rangeCount;a>o;++o)t[o]=N.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}e.config.checkSelectionRanges=!0;var x,C,k="boolean",T="number",S=e.dom,M=e.util,A=M.isHostMethod,N=e.DomRange,O=e.WrappedRange,D=e.DOMException,I=S.DomPosition,P=e.features,R="Control",L=S.getDocument,H=S.getBody,j=N.rangesEqual,F=A(window,"getSelection"),B=M.isHostObject(document,"selection");P.implementsWinGetSelection=F,P.implementsDocSelection=B;var W=B&&(!F||e.config.preferTextRange);if(W)x=o,e.isSelectionValid=function(e){var t=r(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||L(n.createRange().parentElement())==t};else{if(!F)return t.fail("Neither document.selection or window.getSelection() detected."),!1;x=i,e.isSelectionValid=function(){return!0}}e.getNativeSelection=x;var q=x();if(!q)return t.fail("Native selection was null (possibly issue 138?)"),!1;var U=e.createNativeRange(document),G=H(document),V=M.areHostProperties(q,["anchorNode","focusNode","anchorOffset","focusOffset"]);P.selectionHasAnchorAndFocus=V;var z=A(q,"extend");P.selectionHasExtend=z;var K=typeof q.rangeCount==T;P.selectionHasRangeCount=K;var Y=!1,X=!0,Z=z?function(t,n){var r=N.getRangeDocument(n),i=e.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),t.addRange(c(i)),t.extend(n.startContainer,n.startOffset)}:null;M.areHostMethods(q,["addRange","getRangeAt","removeAllRanges"])&&typeof q.rangeCount==T&&P.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,i=[],o=a(t),s=0;n>s;++s)i[s]=t.getRangeAt(s);var l=S.createTestElement(document,"",!1),u=l.appendChild(document.createTextNode("")),c=document.createRange();if(c.setStart(u,1),c.collapse(!0),t.removeAllRanges(),t.addRange(c),X=1==t.rangeCount,t.removeAllRanges(),!r){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)Y=!1;else{var p=c.cloneRange();c.setStart(u,0),p.setEnd(u,3),p.setStart(u,2),t.addRange(c),t.addRange(p),Y=2==t.rangeCount}}for(S.removeNode(l),t.removeAllRanges(),s=0;n>s;++s)0==s&&o?Z?Z(t,i[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[s])):t.addRange(i[s])}}(),P.selectionSupportsMultipleRanges=Y,P.collapsedNonEditableSelectionsSupported=X;var J,Q=!1;G&&A(G,"createControlRange")&&(J=G.createControlRange(),M.areHostProperties(J,["item","add"])&&(Q=!0)),P.implementsControlRange=Q,C=V?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var et;A(q,"getRangeAt")?et=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:V&&(et=function(t){var n=L(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),v.prototype=e.selectionPrototype;var tt=[],nt=function(e){if(e&&e instanceof v)return e.refresh(),e;e=r(e,"getNativeSelection");var t=b(e),n=x(e),i=B?o(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new v(n,i,e),tt.push({win:e,selection:t})),t};e.getSelection=nt,M.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var rt=v.prototype;if(!W&&V&&M.areHostMethods(q,["removeAllRanges","addRange"])){rt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var it=function(e,t){Z(e.nativeSelection,t),e.refresh()};rt.addRange=K?function(t,r){if(Q&&B&&this.docSelection.type==R)g(this,t);else if(n(r)&&z)it(this,t);else{var i;Y?i=this.rangeCount:(this.removeAllRanges(),i=0);var o=c(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(a){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var l=et(this.nativeSelection,this.rangeCount-1);l&&!j(l,t)&&(t=new O(l))}this._ranges[this.rangeCount-1]=t,s(this,t,st(this.nativeSelection)),this.isCollapsed=C(this)}else this.refresh()}}:function(e,t){n(t)&&z?it(this,e):(this.nativeSelection.addRange(c(e)),this.refresh())},rt.setRanges=function(e){if(Q&&B&&e.length>1)$(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(A(q,"empty")&&A(U,"select")&&Q&&W))return t.fail("No means of selecting a Range or TextRange was found"),!1;rt.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=L(this.anchorNode);else if(this.docSelection.type==R){var t=this.docSelection.createRange();t.length&&(e=L(t.item(0)))}if(e){var n=H(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(r){}u(this)},rt.addRange=function(t){this.docSelection.type==R?g(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},rt.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?$(this,e):t&&this.addRange(e[0])}}rt.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new D("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ot;if(W)ot=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=H(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==R?m(t):f(n)?h(t,n):u(t)};else if(A(q,"getRangeAt")&&typeof q.rangeCount==T)ot=function(t){if(Q&&B&&t.docSelection.type==R)m(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;r>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],st(t.nativeSelection)),t.isCollapsed=C(t)}else u(t)};else{if(!V||typeof q.isCollapsed!=k||typeof U.collapsed!=k||!P.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ot=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=et(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=C(e)):u(e)}}rt.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(ot(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!j(t[i],this._ranges[i]))return!0;return!1}};var at=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;i>r;++r)j(t,n[r])||e.addRange(n[r]);e.rangeCount||u(e)};rt.removeRange=Q&&B?function(e){if(this.docSelection.type==R){for(var t,n=this.docSelection.createRange(),r=p(e),i=L(n.item(0)),o=H(i).createControlRange(),a=!1,s=0,l=n.length;l>s;++s)t=n.item(s),t!==r||a?o.add(n.item(s)):a=!0;o.select(),m(this)}else at(this,e)}:function(e){at(this,e)};var st;!W&&V&&P.implementsDomRange?(st=a,rt.isBackward=function(){return st(this)}):st=rt.isBackward=function(){return!1},rt.isBackwards=rt.isBackward,rt.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},rt.collapse=function(t,n){w(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},rt.collapseToStart=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},rt.collapseToEnd=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},rt.selectAllChildren=function(t){w(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},rt.deleteFromDocument=function(){if(Q&&B&&this.docSelection.type==R){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),S.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;i>r;++r)n[r].deleteContents();this.addRange(n[i-1])}}},rt.eachRange=function(e,t){for(var n=0,r=this._ranges.length;r>n;++n)if(e(this.getRangeAt(n)))return t},rt.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},rt.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},rt.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},rt.setStart=E(!0),rt.setEnd=E(!1),e.rangePrototype.select=function(e){nt(this.getDocument()).setSingleRange(this,e)},rt.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},rt.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},rt.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},rt.moveToBookmark=function(t){for(var n,r,i=[],o=0;n=t.rangeBookmarks[o++];)r=e.createRange(this.win),r.moveToBookmark(n),i.push(r);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},rt.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},rt.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},rt.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(N.toHtml(t))}),e.join("")},P.implementsTextRange&&(rt.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(f(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),rt.getName=function(){return"WrappedSelection"},rt.inspect=function(){return _(this)},rt.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=_,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=rt,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return nt(e)}),e=null})});var H=!1,j=function(){H||(H=!0,!D.initialized&&D.config.autoInitialize&&d())};return N&&("complete"==document.readyState?j():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",j,!1),P(window,"load",j))),D},this),/**
 * Class Applier module for Rangy.
 * Adds, removes and toggles classes on Ranges and Selections
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("ClassApplier",["WrappedSelection"],function(e,t){function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)return!1;return!0}function r(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function a(e,t){if("object"==typeof e.classList)return e.classList.contains(t);var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");return o(r,t)}function s(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");r?o(r,t)||(r+=" "+t):r=t,n?e.className=r:e.setAttribute("class",r)}}function l(e){var t="string"==typeof e.className;return t?e.className:e.getAttribute("class")}function u(e){return e&&e.split(/\s+/).sort().join(" ")}function c(e){return u(l(e))}function d(e,t){return c(e)==c(t)}function p(e,t){for(var n=t.split(/\s+/),i=0,o=n.length;o>i;++i)if(!a(e,r(n[i])))return!1;return!0}function f(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}function h(e,t,n,r,i){var o=e.node,a=e.offset,s=o,l=a;o==r&&a>i&&++l,o!=t||a!=n&&a!=n+1||(s=r,l+=i-n),o==t&&a>n+1&&--l,e.node=s,e.offset=l}function m(e,t,n){e.node==t&&e.offset>n&&--e.offset}function g(e,t,n,r){-1==n&&(n=t.childNodes.length);var i=e.parentNode,o=L.getNodeIndex(e);B(r,function(e){h(e,i,o,t,n)}),t.childNodes.length==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}function v(e,t){var n=e.parentNode,r=L.getNodeIndex(e);B(t,function(e){m(e,n,r)}),L.removeNode(e)}function y(e,t,n,r,i){for(var o,a=[];o=e.firstChild;)g(o,t,n++,i),a.push(o);return r&&v(e,i),a}function b(e,t){return y(e,e.parentNode,L.getNodeIndex(e),!0,t)}function $(e,t){var n=e.cloneRange();n.selectNodeContents(t);var r=n.intersection(e),i=r?r.toString():"";return""!=i}function w(e){for(var t,n=e.getNodes([3]),r=0;(t=n[r])&&!$(e,t);)++r;for(var i=n.length-1;(t=n[i])&&!$(e,t);)--i;return n.slice(r,i+1)}function E(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,r,i,o=0,a=e.attributes.length;a>o;++o)if(n=e.attributes[o],i=n.name,"class"!=i){if(r=t.attributes.getNamedItem(i),null===n!=(null===r))return!1;if(n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function _(e,t){for(var n,r=0,i=e.attributes.length;i>r;++r)if(n=e.attributes[r].name,(!t||!j(t,n))&&e.attributes[r].specified&&"class"!=n)return!0;return!1}function x(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||V(e)&&!V(e.parentNode))}function C(e){return(V(e)||1!=e.nodeType&&V(e.parentNode))&&!x(e)}function k(e){return e&&1==e.nodeType&&!z.test(G(e,"display"))}function T(e){if(0==e.data.length)return!0;if(K.test(e.data))return!1;var t=G(e.parentNode,"whiteSpace");switch(t){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return k(e.previousSibling)||k(e.nextSibling)}function S(e){var t,n,r=[];for(t=0;n=e[t++];)r.push(new H(n.startContainer,n.startOffset),new H(n.endContainer,n.endOffset));return r}function M(e,t){for(var n,r,i,o=0,a=e.length;a>o;++o)n=e[o],r=t[2*o],i=t[2*o+1],n.setStartAndEnd(r.node,r.offset,i.node,i.offset)}function A(e,t){return L.isCharacterDataNode(e)?0==t?!!e.previousSibling:t==e.length?!!e.nextSibling:!0:t>0&&t<e.childNodes.length}function N(e,n,r,i){var o,a,s=0==r;if(L.isAncestorOf(n,e))return e;if(L.isCharacterDataNode(n)){var l=L.getNodeIndex(n);if(0==r)r=l;else{if(r!=n.length)throw t.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+r+" in "+n.data);r=l+1}n=n.parentNode}if(A(n,r)){o=n.cloneNode(!1),a=n.parentNode,o.id&&o.removeAttribute("id");for(var u,c=0;u=n.childNodes[r];)g(u,o,c++,i);return g(o,a,L.getNodeIndex(n)+1,i),n==e?o:N(e,a,L.getNodeIndex(o),i)}if(e!=n){o=n.parentNode;var d=L.getNodeIndex(n);return s||d++,N(e,o,d,i)}return e}function O(e,t){return e.namespaceURI==t.namespaceURI&&e.tagName.toLowerCase()==t.tagName.toLowerCase()&&d(e,t)&&E(e,t)&&"inline"==G(e,"display")&&"inline"==G(t,"display")}function D(e){var t=e?"nextSibling":"previousSibling";return function(n,r){var i=n.parentNode,o=n[t];if(o){if(o&&3==o.nodeType)return o}else if(r&&(o=i[t],o&&1==o.nodeType&&O(i,o))){var a=o[e?"firstChild":"lastChild"];if(a&&3==a.nodeType)return a}return null}}function I(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&(this.textNodes[0]=t)}function P(e,t,i){var o,a,s,l,c=this;c.cssClass=c.className=e;var d=null,p={};if("object"==typeof t&&null!==t){for("undefined"!=typeof t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),i=t.tagNames,d=t.elementProperties,p=t.elementAttributes,a=0;l=Z[a++];)t.hasOwnProperty(l)&&(c[l]=t[l]);o=t.normalize}else o=t;c.normalize="undefined"==typeof o?!0:o,c.attrExceptions=[];var f=document.createElement(c.elementTagName);c.elementProperties=c.copyPropertiesToElement(d,f,!0),n(p,function(e,t){c.attrExceptions.push(e),p[e]=""+t}),c.elementAttributes=p,c.elementSortedClassName=c.elementProperties.hasOwnProperty("className")?u(c.elementProperties.className+" "+e):e,c.applyToAnyTagName=!1;var h=typeof i;if("string"==h)"*"==i?c.applyToAnyTagName=!0:c.tagNames=r(i.toLowerCase()).split(/\s*,\s*/);else if("object"==h&&"number"==typeof i.length)for(c.tagNames=[],a=0,s=i.length;s>a;++a)"*"==i[a]?c.applyToAnyTagName=!0:c.tagNames.push(i[a].toLowerCase());else c.tagNames=[c.elementTagName]}function R(e,t,n){return new P(e,t,n)}var L=e.dom,H=L.DomPosition,j=L.arrayContains,F=e.util,B=F.forEach,W="span",q=F.isHostMethod(document,"createElementNS"),U=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){if("object"==typeof t.classList)t.classList.remove(n);else{var r="string"==typeof t.className,i=r?t.className:t.getAttribute("class");i=i.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),e),r?t.className=i:t.setAttribute("class",i)}}}(),G=L.getComputedStyleProperty,V=function(){var e=document.createElement("div");return"boolean"==typeof e.isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return e&&1==e.nodeType&&"false"!=e.contentEditable?"true"==e.contentEditable||V(e.parentNode):!1}}(),z=/^inline(-block|-table)?$/i,K=/[^\r\n\t\f \u200B]/,Y=D(!1),X=D(!0);I.prototype={doMerge:function(e){var t=this.textNodes,n=t[0];if(t.length>1){var r,i=L.getNodeIndex(n),o=[],a=0;B(t,function(t,s){r=t.parentNode,s>0&&(r.removeChild(t),r.hasChildNodes()||L.removeNode(r),e&&B(e,function(e){e.node==t&&(e.node=n,e.offset+=a),e.node==r&&e.offset>i&&(--e.offset,e.offset==i+1&&s<len-1&&(e.node=n,e.offset=a))})),o[s]=t.data,a+=t.data.length}),n.data=o.join("")}return n.data},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e=[];return B(this.textNodes,function(t,n){e[n]="'"+t.data+"'"}),"[Merge("+e.join(",")+")]"}};var Z=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],J={};P.prototype={elementTagName:W,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(e,t,n){var r,i,o,a,l,c,d={};for(var p in e)if(e.hasOwnProperty(p))if(a=e[p],l=t[p],"className"==p)s(t,a),s(t,this.className),t[p]=u(t[p]),n&&(d[p]=a);else if("style"==p){i=l,n&&(d[p]=o={});for(r in e[p])e[p].hasOwnProperty(r)&&(i[r]=a[r],n&&(o[r]=i[r]));this.attrExceptions.push(p)}else t[p]=a,n&&(d[p]=t[p],c=J.hasOwnProperty(p)?J[p]:p,this.attrExceptions.push(c));return n?d:""},copyAttributesToElement:function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},appliesToElement:function(e){return j(this.tagNames,e.tagName.toLowerCase())},getEmptyElements:function(e){var t=this;return e.getNodes([1],function(e){return t.appliesToElement(e)&&!e.hasChildNodes()})},hasClass:function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&a(e,this.className)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||C(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&T(e)},postApply:function(e,t,n,r){var o,a,s=e[0],l=e[e.length-1],u=[],c=s,d=l,p=0,f=l.length;B(e,function(e){a=Y(e,!r),a?(o||(o=new I(a),u.push(o)),o.textNodes.push(e),e===s&&(c=o.textNodes[0],p=c.length),e===l&&(d=o.textNodes[0],f=o.getLength())):o=null});var h=X(l,!r);if(h&&(o||(o=new I(l),u.push(o)),o.textNodes.push(h)),u.length){for(i=0,len=u.length;i<len;++i)u[i].doMerge(n);t.setStartAndEnd(c,p,d,f)}},createContainer:function(e){var t,n=L.getDocument(e),r=q&&!L.isHtmlNamespace(e)&&(t=e.namespaceURI)?n.createElementNS(e.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,r,!1),this.copyAttributesToElement(this.elementAttributes,r),s(r,this.className),this.onElementCreate&&this.onElementCreate(r,this),r},elementHasProperties:function(e,t){var r=this;return n(t,function(t,n){if("className"==t)return p(e,n);if("object"==typeof n){if(!r.elementHasProperties(e[t],n))return!1}else if(e[t]!==n)return!1})},elementHasAttributes:function(e,t){return n(t,function(t,n){return e.getAttribute(t)!==n?!1:void 0})},applyToTextNode:function(e){if(f(e)){var t=e.parentNode;if(1==t.childNodes.length&&this.useExistingElements&&this.appliesToElement(t)&&this.elementHasProperties(t,this.elementProperties)&&this.elementHasAttributes(t,this.elementAttributes))s(t,this.className);else{var n=e.parentNode,r=this.createContainer(n);n.insertBefore(r,e),r.appendChild(e)}}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&c(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!_(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},isEmptyContainer:function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},removeEmptyContainers:function(e){var t=this,n=e.getNodes([1],function(e){return t.isEmptyContainer(e)}),r=[e],i=S(r);B(n,function(e){v(e,i)}),M(r,i)},undoToTextNode:function(e,t,n,r){if(!t.containsNode(n)){var i=t.cloneRange();i.selectNode(n),i.isPointInRange(t.endContainer,t.endOffset)&&(N(n,t.endContainer,t.endOffset,r),t.setEndAfter(n)),i.isPointInRange(t.startContainer,t.startOffset)&&(n=N(n,t.startContainer,t.startOffset,r))}this.isRemovable(n)?b(n,r):U(n,this.className)},splitAncestorWithClass:function(e,t,n){var r=this.getSelfOrAncestorWithClass(e);r&&N(r,e,t,n)},undoToAncestor:function(e,t){this.isRemovable(e)?b(e,t):U(e,this.className)},applyToRange:function(e,t){var n=this;t=t||[];var r=S(t||[]);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e);var i=w(e);if(i.length){B(i,function(e){n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,r)});var o=i[i.length-1];e.setStartAndEnd(i[0],0,o,o.length),n.normalize&&n.postApply(i,e,r,!1),M(t,r)}var a=n.getEmptyElements(e);B(a,function(e){s(e,n.className)})},applyToRanges:function(e){for(var t=e.length;t--;)this.applyToRange(e[t],e);return e},applyToSelection:function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},undoToRange:function(e,t){var n=this;t=t||[];var r=S(t);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e,r);var i,o,a=w(e),s=a[a.length-1];if(a.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,r),n.splitAncestorWithClass(e.startContainer,e.startOffset,r);for(var l=0,u=a.length;u>l;++l)i=a[l],o=n.getSelfOrAncestorWithClass(i),o&&n.isModifiable(i)&&n.undoToAncestor(o,r);e.setStartAndEnd(a[0],0,s,s.length),n.normalize&&n.postApply(a,e,r,!0),M(t,r)}var c=n.getEmptyElements(e);B(c,function(e){U(e,n.className)})},undoToRanges:function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return e},undoToSelection:function(t){var n=e.getSelection(t),r=e.getSelection(t).getAllRanges();this.undoToRanges(r),n.setRanges(r)},isAppliedToRange:function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,r=0;n=t[r++];)if(!this.isIgnorableWhiteSpaceNode(n)&&$(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},isAppliedToSelection:function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},getElementsWithClassIntersectingRange:function(e){var t=[],n=this;return e.getNodes([3],function(e){var r=n.getSelfOrAncestorWithClass(e);r&&!j(t,r)&&t.push(r)}),t},detach:function(){}},P.util={hasClass:a,addClass:s,removeClass:U,getClass:l,hasSameClasses:d,hasAllClasses:p,replaceWithOwnChildren:b,elementsHaveSameNonClassAttributes:E,elementHasNonClassAttributes:_,splitNodeAt:N,isEditableElement:V,isEditingHost:x,isEditable:C},e.CssClassApplier=e.ClassApplier=P,e.createClassApplier=R,F.createAliasForDeprecatedMethod(e,"createCssClassApplier","createClassApplier",t)}),e},this),/**
 * Highlighter module for Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core, ClassApplier and optionally TextRange modules.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("Highlighter",["ClassApplier"],function(e){function t(e,t){return e.characterRange.start-t.characterRange.start}function n(e,t){return t?e.getElementById(t):d(e)}function r(e,t){this.type=e,this.converterCreator=t}function i(e,t){m[e]=new r(e,t)}function o(e){var t=m[e];if(t instanceof r)return t.create();throw new Error("Highlighter type '"+e+"' is not valid")}function a(e,t){this.start=e,this.end=t}function s(e,t,n,r,i,o){i?(this.id=i,h=Math.max(h,i+1)):this.id=h++,this.characterRange=t,this.doc=e,this.classApplier=n,this.converter=r,this.containerElementId=o||null,this.applied=!1}function l(e,t){t=t||"textContent",this.doc=e||document,this.classAppliers={},this.highlights=[],this.converter=o(t)}var u=e.dom,c=u.arrayContains,d=u.getBody,p=e.util.createOptions,f=e.util.forEach,h=1,m={};r.prototype.create=function(){var e=this.converterCreator();return e.type=this.type,e},e.registerHighlighterType=i,a.prototype={intersects:function(e){return this.start<e.end&&this.end>e.start},isContiguousWith:function(e){return this.start==e.end||this.end==e.start},union:function(e){return new a(Math.min(this.start,e.start),Math.max(this.end,e.end))},intersection:function(e){return new a(Math.max(this.start,e.start),Math.min(this.end,e.end))},getComplements:function(e){var t=[];if(this.start>=e.start){if(this.end<=e.end)return[];t.push(new a(e.end,this.end))}else t.push(new a(this.start,Math.min(this.end,e.start))),this.end>e.end&&t.push(new a(e.end,this.end));return t},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},a.fromCharacterRange=function(e){return new a(e.start,e.end)};var g={rangeToCharacterRange:function(e,t){var n=e.getBookmark(t);return new a(n.start,n.end)},characterRangeToRange:function(t,n,r){var i=e.createRange(t);return i.moveToBookmark({start:n.start,end:n.end,containerNode:r}),i},serializeSelection:function(e,t){for(var n=e.getAllRanges(),r=n.length,i=[],o=1==r&&e.isBackward(),a=0,s=n.length;s>a;++a)i[a]={characterRange:this.rangeToCharacterRange(n[a],t),backward:o};return i},restoreSelection:function(e,t,n){e.removeAllRanges();for(var r,i,o,a=e.win.document,s=0,l=t.length;l>s;++s)i=t[s],o=i.characterRange,r=this.characterRangeToRange(a,i.characterRange,n),e.addRange(r,i.backward)}};i("textContent",function(){return g}),i("TextRange",function(){var t;return function(){if(!t){var n=e.modules.TextRange;if(!n)throw new Error("TextRange module is missing.");if(!n.supported)throw new Error("TextRange module is present but not supported.");t={rangeToCharacterRange:function(e,t){return a.fromCharacterRange(e.toCharacterRange(t))},characterRangeToRange:function(t,n,r){var i=e.createRange(t);return i.selectCharacters(r,n.start,n.end),i},serializeSelection:function(e,t){return e.saveCharacterRanges(t)},restoreSelection:function(e,t,n){e.restoreCharacterRanges(n,t)}}}return t}}()),s.prototype={getContainerElement:function(){return n(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(e){this.characterRange=this.converter.rangeToCharacterRange(e,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(e){return this.getRange().containsNodeContents(e.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},l.prototype={addClassApplier:function(e){this.classAppliers[e.className]=e},getHighlightForElement:function(e){for(var t=this.highlights,n=0,r=t.length;r>n;++n)if(t[n].containsElement(e))return t[n];return null},removeHighlights:function(e){for(var t,n=0,r=this.highlights.length;r>n;++n)t=this.highlights[n],c(e,t)&&(t.unapply(),this.highlights.splice(n--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(e){var t=[],n=this.highlights;return f(e,function(e){f(n,function(n){e.intersectsRange(n.getRange())&&!c(t,n)&&t.push(n)})}),t},highlightCharacterRanges:function(t,n,r){var i,o,l,u=this.highlights,c=this.converter,d=this.doc,h=[],m=t?this.classAppliers[t]:null;r=p(r,{containerElementId:null,exclusive:!0});var g,v,y,b=r.containerElementId,$=r.exclusive;b&&(g=this.doc.getElementById(b),g&&(v=e.createRange(this.doc),v.selectNodeContents(g),y=new a(0,v.toString().length)));var w,E,_,x,C,k;for(i=0,o=n.length;o>i;++i)if(w=n[i],C=[],y&&(w=w.intersection(y)),w.start!=w.end){for(l=0;l<u.length;++l)_=!1,b==u[l].containerElementId&&(E=u[l].characterRange,x=m==u[l].classApplier,k=!x&&$,(E.intersects(w)||E.isContiguousWith(w))&&(x||k)&&(k&&f(E.getComplements(w),function(e){C.push(new s(d,e,u[l].classApplier,c,null,b))}),_=!0,x&&(w=E.union(w)))),_?(h.push(u[l]),u[l]=new s(d,E.union(w),m,c,null,b)):C.push(u[l]);m&&C.push(new s(d,w,m,c,null,b)),this.highlights=u=C}f(h,function(e){e.unapply()});var T=[];return f(u,function(e){e.applied||(e.apply(),T.push(e))}),T},highlightRanges:function(t,n,r){var i=[],o=this.converter;r=p(r,{containerElement:null,exclusive:!0});var a,s=r.containerElement,l=s?s.id:null;return s&&(a=e.createRange(s),a.selectNodeContents(s)),f(n,function(e){var t=s?a.intersection(e):e;i.push(o.rangeToCharacterRange(t,s||d(e.getDocument())))}),this.highlightCharacterRanges(t,i,{containerElementId:l,exclusive:r.exclusive})},highlightSelection:function(t,r){var i=this.converter,o=t?this.classAppliers[t]:!1;r=p(r,{containerElementId:null,selection:e.getSelection(this.doc),exclusive:!0});var s=r.containerElementId,l=r.exclusive,u=r.selection,c=u.win.document,d=n(c,s);if(!o&&t!==!1)throw new Error("No class applier found for class '"+t+"'");var h=i.serializeSelection(u,d),m=[];f(h,function(e){m.push(a.fromCharacterRange(e.characterRange))});var g=this.highlightCharacterRanges(t,m,{containerElementId:s,exclusive:l});return i.restoreSelection(u,h,d),g},unhighlightSelection:function(t){t=t||e.getSelection(this.doc);var n=this.getIntersectingHighlights(t.getAllRanges());return this.removeHighlights(n),t.removeAllRanges(),n},getHighlightsInSelection:function(t){return t=t||e.getSelection(this.doc),this.getIntersectingHighlights(t.getAllRanges())},selectionOverlapsHighlight:function(e){return this.getHighlightsInSelection(e).length>0},serialize:function(e){var n,r,i,a,s=this,l=s.highlights;return l.sort(t),e=p(e,{serializeHighlightText:!1,type:s.converter.type}),n=e.type,i=n!=s.converter.type,i&&(a=o(n)),r=["type:"+n],f(l,function(t){var n,o=t.characterRange;i&&(n=t.getContainerElement(),o=a.rangeToCharacterRange(s.converter.characterRangeToRange(s.doc,o,n),n));var l=[o.start,o.end,t.id,t.classApplier.className,t.containerElementId];e.serializeHighlightText&&l.push(t.getText()),r.push(l.join("$"))}),r.join("|")},deserialize:function(e){var t,r,i,l=e.split("|"),u=[],c=l[0],d=!1;if(!c||!(t=/^type:(\w+)$/.exec(c)))throw new Error("Serialized highlights are invalid.");r=t[1],r!=this.converter.type&&(i=o(r),d=!0),l.shift();for(var p,f,h,m,g,v,y=l.length;y-->0;){if(v=l[y].split("$"),h=new a(+v[0],+v[1]),m=v[4]||null,d&&(g=n(this.doc,m),h=this.converter.rangeToCharacterRange(i.characterRangeToRange(this.doc,h,g),g)),p=this.classAppliers[v[3]],!p)throw new Error("No class applier found for class '"+v[3]+"'");f=new s(this.doc,h,p,this.converter,parseInt(v[2]),m),f.apply(),u.push(f)}this.highlights=u}},e.Highlighter=l,e.createHighlighter=function(e,t){return new l(e,t)}}),e},this),/**
 * Selection save and restore module for Rangy.
 * Saves and restores user selections using marker invisible elements in the DOM.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function r(e,t){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=h.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=i.createElement("span"),n.id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(v)),o.insertNode(n),n}function i(e,r,i,o){var a=n(i,e);a?(r[o?"setStartBefore":"setEndBefore"](a),m(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var i,o,a=e.DomRange.getRangeDocument(t),s=t.toString(),l=g(n);return t.collapsed?(o=r(t,!1),{document:a,markerId:o.id,collapsed:!0}):(o=r(t,!1),i=r(t,!0),{document:a,startMarkerId:i.id,endMarkerId:o.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(r,o){var a=r.document;"undefined"==typeof o&&(o=!0);var s=e.createRange(a);if(r.collapsed){var l=n(r.markerId,a);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(m(l),s.collapseToPoint(u,u.length)):(s.collapseBefore(l),m(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else i(a,s,r.startMarkerId,!0),i(a,s,r.endMarkerId,!1);return o&&s.normalizeBoundaries(),s}function l(t,r){var i,s,l=[],u=g(r);t=t.slice(0),t.sort(o);for(var c=0,d=t.length;d>c;++c)l[c]=a(t[c],u);for(c=d-1;c>=0;--c)i=t[c],s=e.DomRange.getRangeDocument(i),i.collapsed?i.collapseAfter(n(l[c].markerId,s)):(i.setEndBefore(n(l[c].endMarkerId,s)),i.setStartAfter(n(l[c].startMarkerId,s)));return l}function u(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=e.getSelection(n),i=r.getAllRanges(),o=1==i.length&&r.isBackward(),a=l(i,o);return o?r.setSingleRange(i[0],o):r.setRanges(i),{win:n,rangeInfos:a,restored:!1}}function c(e){for(var t=[],n=e.length,r=n-1;r>=0;r--)t[r]=s(e[r],!0);return t}function d(t,n){if(!t.restored){var r=t.rangeInfos,i=e.getSelection(t.win),o=c(r),a=r.length;1==a&&n&&e.features.selectionHasExtend&&r[0].backward?(i.removeAllRanges(),i.addRange(o[0],!0)):i.setRanges(o),t.restored=!0}}function p(e,t){var r=n(t,e);r&&m(r)}function f(e){for(var t,n=e.rangeInfos,r=0,i=n.length;i>r;++r)t=n[r],t.collapsed?p(e.doc,t.markerId):(p(e.doc,t.startMarkerId),p(e.doc,t.endMarkerId))}var h=e.dom,m=h.removeNode,g=e.Selection.isDirectionBackward,v="";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:d,removeMarkerElement:p,removeMarkers:f})}),e},this),/**
 * Serializer module for Rangy.
 * Serializes Ranges and Selections. An example use would be to store a user's selection on a particular page in a
 * cookie or local storage and restore it on the user's next visit to the same page.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("Serializer",["WrappedSelection"],function(e,t){function n(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(e,t){t=t||[];var i=e.nodeType,o=e.childNodes,a=o.length,s=[i,e.nodeName,a].join(":"),l="",u="";switch(i){case 3:l=n(e.nodeValue);break;case 8:l="<!--"+n(e.nodeValue)+"-->";break;default:l="<"+s+">",u="</>"}l&&t.push(l);for(var c=0;a>c;++c)r(o[c],t);return u&&t.push(u),t}function i(e){var t=r(e).join("");return y(t).toString(16)}function o(e,t,n){var r=[],i=e;for(n=n||b.getDocument(e).documentElement;i&&i!=n;)r.push(b.getNodeIndex(i,!0)),i=i.parentNode;return r.join("/")+":"+t}function a(e,n,r){n||(n=(r||document).documentElement);for(var i,o=e.split(":"),a=n,s=o[0]?o[0].split("/"):[],l=s.length;l--;){if(i=parseInt(s[l],10),!(i<a.childNodes.length))throw t.createError("deserializePosition() failed: node "+b.inspectNode(a)+" has no child with index "+i+", "+l);a=a.childNodes[i]}return new b.DomPosition(a,parseInt(o[1],10))}function s(n,r,a){if(a=a||e.DomRange.getRangeDocument(n).documentElement,!b.isOrIsAncestorOf(a,n.commonAncestorContainer))throw t.createError("serializeRange(): range "+n.inspect()+" is not wholly contained within specified root node "+b.inspectNode(a));var s=o(n.startContainer,n.startOffset,a)+","+o(n.endContainer,n.endOffset,a);return r||(s+="{"+i(a)+"}"),s}function l(n,r,o){r?o=o||b.getDocument(r):(o=o||document,r=o.documentElement);var s=$.exec(n),l=s[4];if(l){var u=i(r);if(l!==u)throw t.createError("deserializeRange(): checksums of serialized range root node ("+l+") and target root node ("+u+") do not match")}var c=a(s[1],r,o),d=a(s[2],r,o),p=e.createRange(o);return p.setStartAndEnd(c.node,c.offset,d.node,d.offset),p}function u(e,t,n){t||(t=(n||document).documentElement);var r=$.exec(e),o=r[3];return!o||o===i(t)}function c(t,n,r){t=e.getSelection(t);for(var i=t.getAllRanges(),o=[],a=0,l=i.length;l>a;++a)o[a]=s(i[a],n,r);return o.join("|")}function d(t,n,r){n?r=r||b.getWindow(n):(r=r||window,n=r.document.documentElement);for(var i=t.split("|"),o=e.getSelection(r),a=[],s=0,u=i.length;u>s;++s)a[s]=l(i[s],n,r.document);return o.setRanges(a),o}function p(e,t,n){var r;t?r=n?n.document:b.getDocument(t):(n=n||window,t=n.document.documentElement);for(var i=e.split("|"),o=0,a=i.length;a>o;++o)if(!u(i[o],t,r))return!1;return!0}function f(e){for(var t,n,r=e.split(/[;,]/),i=0,o=r.length;o>i;++i)if(t=r[i].split("="),t[0].replace(/^\s+/,"")==w&&(n=t[1]))return decodeURIComponent(n.replace(/\s+$/,""));return null}function h(e){e=e||window;var t=f(e.document.cookie);t&&d(t,e.doc)}function m(t,n){t=t||window,n="object"==typeof n?n:{};var r=n.expires?";expires="+n.expires.toUTCString():"",i=n.path?";path="+n.path:"",o=n.domain?";domain="+n.domain:"",a=n.secure?";secure":"",s=c(e.getSelection(t));t.document.cookie=encodeURIComponent(w)+"="+encodeURIComponent(s)+r+i+o+a}var g="undefined",v=e.util;(typeof encodeURIComponent==g||typeof decodeURIComponent==g)&&t.fail("encodeURIComponent and/or decodeURIComponent method is missing");var y=function(){function e(e){for(var t,n=[],r=0,i=e.length;i>r;++r)t=e.charCodeAt(r),128>t?n.push(t):2048>t?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}function t(){for(var e,t,n=[],r=0;256>r;++r){for(t=r,e=8;e--;)1==(1&t)?t=t>>>1^3988292384:t>>>=1;n[r]=t>>>0}return n}function n(){return r||(r=t()),r}var r=null;return function(t){for(var r,i=e(t),o=-1,a=n(),s=0,l=i.length;l>s;++s)r=255&(o^i[s]),o=o>>>8^a[r];return(-1^o)>>>0}}(),b=e.dom,$=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/,w="rangySerializedSelection";v.extend(e,{serializePosition:o,deserializePosition:a,serializeRange:s,deserializeRange:l,canDeserializeRange:u,serializeSelection:c,deserializeSelection:d,canDeserializeSelection:p,restoreSelectionFromCookie:h,saveSelectionCookie:m,getElementChecksum:i,nodeToInfoString:r}),v.crc32=y}),e},this),/**
 * Text range module for Rangy.
 * Text-based manipulation and searching of ranges and selections.
 *
 * Features
 *
 * - Ability to move range boundaries by character or word offsets
 * - Customizable word tokenizer
 * - Ignores text nodes inside <script> or <style> elements or those hidden by CSS display and visibility properties
 * - Range findText method to search for text or regex within the page or within a range. Flags for whole words and case
 *   sensitivity
 * - Selection and range save/restore as text offsets within a node
 * - Methods to return visible text within a range or selection
 * - innerText method for elements
 *
 * References
 *
 * https://www.w3.org/Bugs/Public/show_bug.cgi?id=13145
 * http://aryeh.name/spec/innertext/innertext.html
 * http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("TextRange",["WrappedSelection"],function(e,t){function n(e,t){function n(e,t,n){s.push({start:e,end:t,isWord:n})}for(var r,i,o,a=e.join(""),s=[],l=0;r=t.wordRegex.exec(a);){if(i=r.index,o=i+r[0].length,i>l&&n(l,i,!1),t.includeTrailingSpace)for(;J.test(e[o]);)++o;n(i,o,!0),l=o}return l<e.length&&n(l,e.length,!1),s}function r(e,t){for(var n=e.slice(t.start,t.end),r={isWord:t.isWord,chars:n,toString:function(){return n.join("")}},i=0,o=n.length;o>i;++i)n[i].token=r;return r}function i(e,t,n){for(var i,o=n(e,t),a=[],s=0;i=o[s++];)a.push(r(e,i));return a}function o(e){var t=e||"",n="string"==typeof t?t.split(""):t;return n.sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),n.join("").replace(/(.)\1+/g,"$1")}function a(e){var t,n;return e?(t=e.language||Q,n={},V(n,lt[t]||lt[Q]),V(n,e),n):lt[Q]}function s(e,t){var n=z(e,t);return t.hasOwnProperty("wordOptions")&&(n.wordOptions=a(n.wordOptions)),t.hasOwnProperty("characterOptions")&&(n.characterOptions=z(n.characterOptions,at)),n}function l(e,t){var n=ft(e,"display",t),r=e.tagName.toLowerCase();return"block"==n&&ot&&ht.hasOwnProperty(r)?ht[r]:n}function u(e){for(var t=h(e),n=0,r=t.length;r>n;++n)if(1==t[n].nodeType&&"none"==l(t[n]))return!0;return!1}function c(e){var t;return 3==e.nodeType&&(t=e.parentNode)&&"hidden"==ft(t,"visibility")}function d(e){return e&&(1==e.nodeType&&!/^(inline(-block|-table)?|none)$/.test(l(e))||9==e.nodeType||11==e.nodeType)}function p(e){return U.isCharacterDataNode(e)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(e.nodeName)}function f(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}function h(e){return f(e).concat([e])}function m(e){for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}function g(e,t){return!t&&e.hasChildNodes()?e.firstChild:m(e)}function v(e){var t=e.previousSibling;if(t){for(e=t;e.hasChildNodes();)e=e.lastChild;return e}var n=e.parentNode;return n&&1==n.nodeType?n:null}function y(e){if(!e||3!=e.nodeType)return!1;var t=e.data;if(""===t)return!0;var n=e.parentNode;if(!n||1!=n.nodeType)return!1;var r=ft(e.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(t)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(t)&&"pre-line"==r}function b(e){if(""===e.data)return!0;if(!y(e))return!1;var t=e.parentNode;return t?u(e)?!0:!1:!0}function $(e){var t=e.nodeType;return 7==t||8==t||u(e)||/^(script|style)$/i.test(e.nodeName)||c(e)||b(e)}function w(e,t){var n=e.nodeType;return 7==n||8==n||1==n&&"none"==l(e,t)}function E(){this.store={}}function _(e,t,n){return function(r){var i=this.cache;if(i.hasOwnProperty(e))return mt++,i[e];gt++;var o=t.call(this,n?this[n]:this,r);return i[e]=o,o}}function x(e,t){this.node=e,this.session=t,this.cache=new E,this.positions=new E}function C(e,t){this.offset=t,this.nodeWrapper=e,this.node=e.node,this.session=e.session,this.cache=new E}function k(){return"[Position("+U.inspectNode(this.node)+":"+this.offset+")]"}function T(){return M(),Mt=new At}function S(){return Mt||T()}function M(){Mt&&Mt.detach(),Mt=null}function A(e,n,r,i){function o(){var e=null;return n?(e=s,l||(s=s.previousVisible(),l=!s||r&&s.equals(r))):l||(e=s=s.nextVisible(),l=!s||r&&s.equals(r)),l&&(s=null),e}r&&(n?$(r.node)&&(r=e.previousVisible()):$(r.node)&&(r=r.nextVisible()));var a,s=e,l=!1,u=!1;return{next:function(){if(u)return u=!1,a;for(var e,t;e=o();)if(t=e.getCharacter(i))return a=e,e;return null},rewind:function(){if(!a)throw t.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");u=!0},dispose:function(){e=r=null}}}function N(e,t,n){function r(e){for(var t,n,r=[],i=e?o:a,s=!1,l=!1;t=i.next();){if(n=t.character,Z.test(n))l&&(l=!1,s=!0);else{if(s){i.rewind();break}l=!0}r.push(t)}return r}var o=A(e,!1,null,t),a=A(e,!0,null,t),s=n.tokenizer,l=r(!0),u=r(!1).reverse(),c=i(u.concat(l),n,s),d=l.length?c.slice(Nt(c,l[0].token)):[],p=u.length?c.slice(0,Nt(c,u.pop().token)+1):[];return{nextEndToken:function(){for(var e,t;1==d.length&&!(e=d[0]).isWord&&(t=r(!0)).length>0;)d=i(e.chars.concat(t),n,s);return d.shift()},previousStartToken:function(){for(var e,t;1==p.length&&!(e=p[0]).isWord&&(t=r(!1)).length>0;)p=i(t.reverse().concat(e.chars),n,s);return p.pop()},dispose:function(){o.dispose(),a.dispose(),d=p=null}}}function O(e,t,n,r,i){var o,a,s,l,u=0,c=e,d=Math.abs(n);if(0!==n){var p=0>n;switch(t){case W:for(a=A(e,p,null,r);(o=a.next())&&d>u;)++u,c=o;s=o,a.dispose();break;case q:for(var f=N(e,r,i),h=p?f.previousStartToken:f.nextEndToken;(l=h())&&d>u;)l.isWord&&(++u,c=p?l.chars[0]:l.chars[l.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+t+"' not implemented")}p?(c=c.previousVisible(),u=-u):c&&c.isLeadingSpace&&!c.isTrailingSpace&&(t==q&&(a=A(e,!1,null,r),s=a.next(),a.dispose()),s&&(c=s.previousVisible()))}return{position:c,unitsMoved:u}}function D(e,t,n,r){var i=e.getRangeBoundaryPosition(t,!0),o=e.getRangeBoundaryPosition(t,!1),a=r?o:i,s=r?i:o;return A(a,!!r,s,n)}function I(e,t,n){for(var r,i=[],o=D(e,t,n);r=o.next();)i.push(r);return o.dispose(),i}function P(t,n,r){var i=e.createRange(t.node);return i.setStartAndEnd(t.node,t.offset,n.node,n.offset),!i.expand("word",{wordOptions:r})}function R(e,t,n,r,i){function o(e,t){var n=m[e].previousVisible(),r=m[t-1],o=!i.wholeWordsOnly||P(n,r,i.wordOptions);return{startPos:n,endPos:r,valid:o}}for(var a,s,l,u,c,d,p=et(i.direction),f=A(e,p,e.session.getRangeBoundaryPosition(r,p),i.characterOptions),h="",m=[],g=null;a=f.next();)if(s=a.character,n||i.caseSensitive||(s=s.toLowerCase()),p?(m.unshift(a),h=s+h):(m.push(a),h+=s),n){if(c=t.exec(h))if(l=c.index,u=l+c[0].length,d){if(!p&&u<h.length||p&&l>0){g=o(l,u);break}}else d=!0}else if(-1!=(l=h.indexOf(t))){g=o(l,l+t.length);break}return d&&(g=o(l,u)),f.dispose(),g}function L(e){return function(){var t=!!Mt,n=S(),r=[n].concat(G.toArray(arguments)),i=e.apply(this,r);return t||M(),i}}function H(e,t){return L(function(n,r,i,o){typeof i==B&&(i=r,r=W),o=s(o,ct);var a=e;t&&(a=i>=0,this.collapse(!a));var l=O(n.getRangeBoundaryPosition(this,a),r,i,o.characterOptions,o.wordOptions),u=l.position;return this[a?"setStart":"setEnd"](u.node,u.offset),l.unitsMoved})}function j(e){return L(function(t,n){n=z(n,at);for(var r,i=D(t,this,n,!e),o=0;(r=i.next())&&Z.test(r.character);)++o;i.dispose();var a=o>0;return a&&this[e?"moveStart":"moveEnd"]("character",e?o:-o,{characterOptions:n}),a})}function F(e){return L(function(t,n){var r=!1;return this.changeEachRange(function(t){r=t[e](n)||r}),r})}var B="undefined",W="character",q="word",U=e.dom,G=e.util,V=G.extend,z=G.createOptions,K=U.getBody,Y=/^[ \t\f\r\n]+$/,X=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,J=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,Q="en",et=e.Selection.isDirectionBackward,tt=!1,nt=!1,rt=!1,it=!0;!function(){var t=U.createTestElement(document,"<p>1 </p><p></p>",!0),n=t.firstChild,r=e.getSelection();r.collapse(n.lastChild,2),r.setStart(n.firstChild,0),tt=1==(""+r).length,t.innerHTML="1 <br />",r.collapse(t,2),r.setStart(t.firstChild,0),nt=1==(""+r).length,t.innerHTML="1 <p>1</p>",r.collapse(t,2),r.setStart(t.firstChild,0),rt=1==(""+r).length,U.removeNode(t),r.removeAllRanges()}();var ot,at={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},st={includeBlockContentTrailingSpace:!it,includeSpaceBeforeBr:!nt,includeSpaceBeforeBlock:!rt,includePreLineTrailingSpace:!0},lt={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:n}},ut={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},ct={wordOptions:null,characterOptions:null},dt={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},pt={wordOptions:null,characterOptions:null,direction:"forward"},ft=U.getComputedStyleProperty;!function(){var e=document.createElement("table"),t=K(document);t.appendChild(e),ot="block"==ft(e,"display"),t.removeChild(e)}();var ht={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};E.prototype={get:function(e){return this.store.hasOwnProperty(e)?this.store[e]:null},set:function(e,t){return this.store[e]=t}};var mt=0,gt=0,vt={getPosition:function(e){var t=this.positions;return t.get(e)||t.set(e,new C(this,e))},toString:function(){return"[NodeWrapper("+U.inspectNode(this.node)+")]"}};x.prototype=vt;var yt="EMPTY",bt="NON_SPACE",$t="UNCOLLAPSIBLE_SPACE",wt="COLLAPSIBLE_SPACE",Et="TRAILING_SPACE_BEFORE_BLOCK",_t="TRAILING_SPACE_IN_BLOCK",xt="TRAILING_SPACE_BEFORE_BR",Ct="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK",kt="TRAILING_LINE_BREAK_AFTER_BR",Tt="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR";V(vt,{isCharacterDataNode:_("isCharacterDataNode",U.isCharacterDataNode,"node"),getNodeIndex:_("nodeIndex",U.getNodeIndex,"node"),getLength:_("nodeLength",U.getNodeLength,"node"),containsPositions:_("containsPositions",p,"node"),isWhitespace:_("isWhitespace",y,"node"),isCollapsedWhitespace:_("isCollapsedWhitespace",b,"node"),getComputedDisplay:_("computedDisplay",l,"node"),isCollapsed:_("collapsed",$,"node"),isIgnored:_("ignored",w,"node"),next:_("nextPos",g,"node"),previous:_("previous",v,"node"),getTextNodeInfo:_("textNodeInfo",function(e){var t=null,n=!1,r=ft(e.parentNode,"whiteSpace"),i="pre-line"==r;return i?(t=X,n=!0):("normal"==r||"nowrap"==r)&&(t=Y,n=!0),{node:e,text:e.data,spaceRegex:t,collapseSpaces:n,preLine:i}},"node"),hasInnerText:_("hasInnerText",function(e,t){for(var n=this.session,r=n.getPosition(e.parentNode,this.getNodeIndex()+1),i=n.getPosition(e,0),o=t?r:i,a=t?i:r;o!==a;){if(o.prepopulateChar(),o.isDefinitelyNonEmpty())return!0;o=t?o.previousVisible():o.nextVisible()}return!1},"node"),isRenderedBlock:_("isRenderedBlock",function(e){for(var t=e.getElementsByTagName("br"),n=0,r=t.length;r>n;++n)if(!$(t[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:_("trailingSpace",function(e){if("br"==e.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var t=e.lastChild;t;){if(!w(t))return 1==t.nodeType?this.session.getNodeWrapper(t).getTrailingSpace():"";t=t.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"	";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:_("leadingSpace",function(){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var St={character:"",characterType:yt,isBr:!1,prepopulateChar:function(){var e=this;if(!e.prepopulatedChar){var t=e.node,n=e.offset,r="",i=yt,o=!1;if(n>0)if(3==t.nodeType){var a=t.data,s=a.charAt(n-1),l=e.nodeWrapper.getTextNodeInfo(),u=l.spaceRegex;l.collapseSpaces?u.test(s)?n>1&&u.test(a.charAt(n-2))||(l.preLine&&"\n"===a.charAt(n)?(r=" ",i=Ct):(r=" ",i=wt)):(r=s,i=bt,o=!0):(r=s,i=$t,o=!0)}else{var c=t.childNodes[n-1];if(c&&1==c.nodeType&&!$(c)&&("br"==c.tagName.toLowerCase()?(r="\n",e.isBr=!0,i=wt,o=!1):e.checkForTrailingSpace=!0),!r){var d=t.childNodes[n];d&&1==d.nodeType&&!$(d)&&(e.checkForLeadingSpace=!0)}}e.prepopulatedChar=!0,e.character=r,e.characterType=i,e.isCharInvariant=o}},isDefinitelyNonEmpty:function(){var e=this.characterType;return e==bt||e==$t},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();e&&(this.isTrailingSpace=!0,this.character=e,this.characterType=wt),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();t&&(this.isLeadingSpace=!0,this.character=t,this.characterType=wt),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(e){for(var t,n=this;n=n.previousVisible();)if(t=n.getCharacter(e),""!==t)return n;return null},getCharacter:function(e){function t(){return f||(c=h.getPrecedingUncollapsedPosition(e),f=!0),c}this.resolveLeadingAndTrailingSpaces();var n,r=this.character,i=o(e.ignoreCharacters),a=""!==r&&i.indexOf(r)>-1;if(this.isCharInvariant)return n=a?"":r;var s=["character",e.includeSpaceBeforeBr,e.includeBlockContentTrailingSpace,e.includePreLineTrailingSpace,i].join("_"),l=this.cache.get(s);if(null!==l)return l;var u,c,d="",p=this.characterType==wt,f=!1,h=this;return p&&(this.type==Tt?d="\n":" "==r&&(!t()||c.isTrailingSpace||"\n"==c.character||" "==c.character&&c.characterType==wt)||("\n"==r&&this.isLeadingSpace?t()&&"\n"!=c.character&&(d="\n"):(u=this.nextUncollapsed(),u&&(u.isBr?this.type=xt:u.isTrailingSpace&&"\n"==u.character?this.type=_t:u.isLeadingSpace&&"\n"==u.character&&(this.type=Et),"\n"==u.character?(this.type!=xt||e.includeSpaceBeforeBr)&&(this.type!=Et||e.includeSpaceBeforeBlock)&&(this.type==_t&&u.isTrailingSpace&&!e.includeBlockContentTrailingSpace||(this.type!=Ct||u.type!=bt||e.includePreLineTrailingSpace)&&("\n"==r?u.isTrailingSpace?this.isTrailingSpace||this.isBr&&(u.type=kt,t()&&c.isLeadingSpace&&!c.isTrailingSpace&&"\n"==c.character?u.character="":u.type=Tt):d="\n":" "==r&&(d=" "))):d=r)))),i.indexOf(d)>-1&&(d=""),this.cache.set(s,d),d},equals:function(e){return!!e&&this.node===e.node&&this.offset===e.offset},inspect:k,toString:function(){return this.character}};C.prototype=St,V(St,{next:_("nextPos",function(e){var t=e.nodeWrapper,n=e.node,r=e.offset,i=t.session;if(!n)return null;var o,a,s;return r==t.getLength()?(o=n.parentNode,a=o?t.getNodeIndex()+1:0):t.isCharacterDataNode()?(o=n,a=r+1):(s=n.childNodes[r],i.getNodeWrapper(s).containsPositions()?(o=s,a=0):(o=n,a=r+1)),o?i.getPosition(o,a):null}),previous:_("previous",function(e){var t,n,r,i=e.nodeWrapper,o=e.node,a=e.offset,s=i.session;return 0==a?(t=o.parentNode,n=t?i.getNodeIndex():0):i.isCharacterDataNode()?(t=o,n=a-1):(r=o.childNodes[a-1],s.getNodeWrapper(r).containsPositions()?(t=r,n=U.getNodeLength(r)):(t=o,n=a-1)),t?s.getPosition(t,n):null}),nextVisible:_("nextVisible",function(e){var t=e.next();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),i}),nextUncollapsed:_("nextUncollapsed",function(e){for(var t=e;t=t.nextVisible();)if(t.resolveLeadingAndTrailingSpaces(),""!==t.character)return t;return null}),previousVisible:_("previousVisible",function(e){var t=e.previous();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex())),i})});var Mt=null,At=function(){function e(e){var t=new E;return{get:function(n){var r=t.get(n[e]);if(r)for(var i,o=0;i=r[o++];)if(i.node===n)return i;return null},set:function(n){var r=n.node[e],i=t.get(r)||t.set(r,[]);i.push(n)}}}function t(){this.initCaches()}var n=G.isHostProperty(document.documentElement,"uniqueID");return t.prototype={initCaches:function(){this.elementCache=n?function(){var e=new E;return{get:function(t){return e.get(t.uniqueID)},set:function(t){e.set(t.node.uniqueID,t)}}}():e("tagName"),this.textNodeCache=e("data"),this.otherNodeCache=e("nodeName")},getNodeWrapper:function(e){var t;switch(e.nodeType){case 1:t=this.elementCache;break;case 3:t=this.textNodeCache;break;default:t=this.otherNodeCache}var n=t.get(e);return n||(n=new x(e,this),t.set(n)),n},getPosition:function(e,t){return this.getNodeWrapper(e).getPosition(t)},getRangeBoundaryPosition:function(e,t){var n=t?"start":"end";return this.getPosition(e[n+"Container"],e[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},t}();V(U,{nextNode:g,previousNode:v});var Nt=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n]===t)return n;return-1};V(e.rangePrototype,{moveStart:H(!0,!1),moveEnd:H(!1,!1),move:H(!0,!0),trimStart:j(!0),trimEnd:j(!1),trim:L(function(e,t){var n=this.trimStart(t),r=this.trimEnd(t);return n||r}),expand:L(function(e,t,n){var r=!1;n=s(n,dt);var i=n.characterOptions;if(t||(t=W),t==q){var o,a,l=n.wordOptions,u=e.getRangeBoundaryPosition(this,!0),c=e.getRangeBoundaryPosition(this,!1),d=N(u,i,l),p=d.nextEndToken(),f=p.chars[0].previousVisible();if(this.collapsed)o=p;else{var h=N(c,i,l);o=h.previousStartToken()}return a=o.chars[o.chars.length-1],f.equals(u)||(this.setStart(f.node,f.offset),r=!0),a&&!a.equals(c)&&(this.setEnd(a.node,a.offset),r=!0),n.trim&&(n.trimStart&&(r=this.trimStart(i)||r),n.trimEnd&&(r=this.trimEnd(i)||r)),r}return this.moveEnd(W,1,n)}),text:L(function(e,t){return this.collapsed?"":I(e,this,z(t,at)).join("")}),selectCharacters:L(function(e,t,n,r,i){var o={characterOptions:i};t||(t=K(this.getDocument())),this.selectNodeContents(t),this.collapse(!0),this.moveStart("character",n,o),this.collapse(!0),this.moveEnd("character",r-n,o)}),toCharacterRange:L(function(e,t,n){t||(t=K(this.getDocument()));var r,i,o=t.parentNode,a=U.getNodeIndex(t),s=-1==U.comparePoints(this.startContainer,this.endContainer,o,a),l=this.cloneRange();return s?(l.setStartAndEnd(this.startContainer,this.startOffset,o,a),r=-l.text(n).length):(l.setStartAndEnd(o,a,this.startContainer,this.startOffset),r=l.text(n).length),i=r+this.text(n).length,{start:r,end:i}}),findText:L(function(t,n,r){r=s(r,ut),r.wholeWordsOnly&&(r.wordOptions.includeTrailingSpace=!1);var i=et(r.direction),o=r.withinRange;o||(o=e.createRange(),o.selectNodeContents(this.getDocument()));var a=n,l=!1;"string"==typeof a?r.caseSensitive||(a=a.toLowerCase()):l=!0;var u=t.getRangeBoundaryPosition(this,!i),c=o.comparePoint(u.node,u.offset);-1===c?u=t.getRangeBoundaryPosition(o,!0):1===c&&(u=t.getRangeBoundaryPosition(o,!1));for(var d,p=u,f=!1;;)if(d=R(p,a,l,o,r)){if(d.valid)return this.setStartAndEnd(d.startPos.node,d.startPos.offset,d.endPos.node,d.endPos.offset),!0;p=i?d.startPos:d.endPos}else{if(!r.wrap||f)return!1;o=o.cloneRange(),p=t.getRangeBoundaryPosition(o,!i),o.setBoundary(u.node,u.offset,i),f=!0}}),pasteHtml:function(e){if(this.deleteContents(),e){var t=this.createContextualFragment(e),n=t.lastChild;this.insertNode(t),this.collapseAfter(n)}}}),V(e.selectionPrototype,{expand:L(function(e,t,n){this.changeEachRange(function(e){e.expand(t,n)})}),move:L(function(e,t,n,r){var i=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var o=this.getRangeAt(0);r||(r={}),r.characterOptions=z(r.characterOptions,st),i=o.move(t,n,r),this.setSingleRange(o)}return i}),trimStart:F("trimStart"),trimEnd:F("trimEnd"),trim:F("trim"),selectCharacters:L(function(t,n,r,i,o,a){var s=e.createRange(n);s.selectCharacters(n,r,i,a),this.setSingleRange(s,o)}),saveCharacterRanges:L(function(e,t,n){for(var r=this.getAllRanges(),i=r.length,o=[],a=1==i&&this.isBackward(),s=0,l=r.length;l>s;++s)o[s]={characterRange:r[s].toCharacterRange(t,n),backward:a,characterOptions:n};return o}),restoreCharacterRanges:L(function(t,n,r){this.removeAllRanges();for(var i,o,a,s=0,l=r.length;l>s;++s)o=r[s],a=o.characterRange,i=e.createRange(n),i.selectCharacters(n,a.start,a.end,o.characterOptions),this.addRange(i,o.backward)}),text:L(function(e,t){for(var n=[],r=0,i=this.rangeCount;i>r;++r)n[r]=this.getRangeAt(r).text(t);return n.join("")})}),e.innerText=function(t,n){var r=e.createRange(t);r.selectNodeContents(t);var i=r.text(n);return i},e.createWordIterator=function(e,t,n){var r=S();n=s(n,pt);var i=r.getPosition(e,t),o=N(i,n.characterOptions,n.wordOptions),a=et(n.direction);return{next:function(){return a?o.previousStartToken():o.nextEndToken()},dispose:function(){o.dispose(),this.next=function(){}}}},e.noMutation=function(e){var t=S();e(t),M()},e.noMutation.createEntryPointFunction=L,e.textRange={isBlockNode:d,isCollapsedWhitespaceNode:b,createPosition:L(function(e,t,n){return e.getPosition(t,n)})}}),e},this),/*
@license textAngular
Author : Austin Anderson
License : 2013 MIT
Version 1.4.6

See README.md or https://github.com/fraywing/textAngular/wiki for requirements and use.
*/
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="textAngular"),function(){"use strict";var e={ie:function(){for(var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0];);return t>4?t:e}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},t=!1;e.webkit&&(document.addEventListener("mousedown",function(e){var n=e||window.event,r=n.target;if(t&&null!==r){for(var i=!1,o=r;null!==o&&"html"!==o.tagName.toLowerCase()&&!i;)i="true"===o.contentEditable,o=o.parentNode;i||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),r.focus(),r.select&&r.select())}t=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" aria-hidden="true" unselectable="on" tabIndex="-1">'))}));var n=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,r=/^(ul|li|ol)$/i,i=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var o,a,s,l,u,c;if(e.ie>8||void 0===e.ie){for(var d=document.styleSheets,p=0;p<d.length;p++)if((0===d[p].media.length||d[p].media.mediaText.match(/(all|screen)/gi))&&d[p].href&&d[p].href.match(/textangular\.(min\.|)css/gi)){o=d[p];break}o||(o=function(){var t=document.createElement("style");return e.webkit&&t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet}()),a=function(e,t){return l(o,e,t)},l=function(e,t,n){var r,i;return e.cssRules?r=Math.max(e.cssRules.length-1,0):e.rules&&(r=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",r):e.addRule(t,n,r),o.rules?i=o.rules[r]:o.cssRules&&(i=o.cssRules[r]),i},c=function(e,t){var n,r;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){r=n;break}return r},s=function(e){u(o,e)},u=function(e,t){var n=e.cssRules||e.rules;if(n&&0!==n.length){var r=c(t,n);e.removeRule?e.removeRule(r):e.deleteRule(r)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(t){return t?""===t?void 0===e.ie?"div":e.ie<=8?"P":"p":e.ie<=8?t.toUpperCase():t:e.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var r=angular.element("<div></div>");return r[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=r.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(r,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){var e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n,r,i=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,o="",a=0;t=i.exec(e);)n=t[3]||t[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),r="<"+t[1].trim(),n.trim().length>0&&(r+=" style="+t[2].substring(0,1)+n+t[2].substring(0,1)),r+=t[5].trim()+">",o+=e.substring(a,t.index)+r,a=t.index+t[0].length);return o+=e.substring(a),a>0?o.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e};return e}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,r=0,i=0,o=/<[^>]*>/gi;n=o.exec(e);)if(i=n.index,"/"===n[0].substr(1,1)){if(0===r)break;r--}else r++;return t+e.substring(0,i)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(i)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var r,o,a,s,l,c,d=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,p="",f="",h=0;o=d.exec(e);){s=o[3]||o[4];var m=new RegExp(u,"i");if(angular.isString(s)&&m.test(s)){l="";for(var g=new RegExp(u,"ig");a=g.exec(s);)for(r=0;r<i.length;r++)a[2*r+2]&&(l+="<"+i[r].tag+">");c=n(e.substring(h,o.index)),f+=p.length>0?t(c,p):c,s=s.replace(new RegExp(u,"ig"),""),f+="<"+o[1].trim(),s.length>0&&(f+=' style="'+s+'"'),f+=o[5]+">",h=o.index+o[0].length,p=l}}return f+=p.length>0?t(e.substring(h),p):e.substring(h)}function r(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",i=0;t=n.exec(e);){r+=e.substring(i,t.index),i=t.index+t[0].length;var o="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(o)?o=o.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):o+=' style="text-align:'+(t[3]||t[4])+';"',o+=">",r+=o}return r+e.substring(i)}for(var i=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],o=[],a=0;a<i.length;a++){for(var s="("+i[a].property+":\\s*(",l=0;l<i[a].values.length;l++)l>0&&(s+="|"),s+=i[a].values[l];s+=");)",o.push(s)}var u="("+o.join("|")+")";return function(t,i,o){if(!o)try{t=n(t)}catch(a){}t=r(t);var s;try{s=e(t),o&&(s=t)}catch(a){s=i||""}var l,u=s.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),c=s.replace(/(&#(9|10);)*/gi,""),d=/<pre[^>]*>.*?<\/pre[^>]*>/gi,p=0,f=0;for(s="";null!==(l=d.exec(c))&&p<u.length;)s+=c.substring(f,l.index)+u[p],f=l.index+l[0].length,p++;return s+c.substring(f)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var r,i=e.defer(),o=i.promise,a=this.$editor();try{r=this.action(i,a.startAction()),o["finally"](function(){a.endAction.call(a)})}catch(s){t.error(s)}(r||void 0===r)&&i.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,i){var o=function(t,n){var r,i,o=t.find("li");for(i=o.length-1;i>=0;i--)r=angular.element("<"+n+">"+o[i].innerHTML+"</"+n+">"),t.after(r);t.remove(),e.setSelectionToElementEnd(r[0])},a=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),a(n.find("li")[0])},l=function(e,n,r){for(var i="",o=0;o<e.length;o++)i+="<"+t("li")+">"+e[o].innerHTML+"</"+t("li")+">";var s=angular.element("<"+r+">"+i+"</"+r+">");n.after(s),n.remove(),a(s.find("li")[0])};return function(a,u){return a=t(a),function(c,d,p,f){var h,m,g,v,y,b,$,w=angular.element("<"+a+">");try{$=e.getSelectionElement()}catch(E){}var _=angular.element($);if(void 0!==$){var x=$.tagName.toLowerCase();if("insertorderedlist"===c.toLowerCase()||"insertunorderedlist"===c.toLowerCase()){var C=t("insertorderedlist"===c.toLowerCase()?"ol":"ul");if(x===C)return o(_,a);if("li"===x&&_.parent()[0].tagName.toLowerCase()===C&&1===_.parent().children().length)return o(_.parent(),a);if("li"===x&&_.parent()[0].tagName.toLowerCase()!==C&&1===_.parent().children().length)return s(_.parent(),C);if(x.match(n)&&!_.hasClass("ta-bind")){if("ol"===x||"ul"===x)return s(_,C);var k=!1;return angular.forEach(_.children(),function(e){e.tagName.match(n)&&(k=!0)}),k?l(_.children(),_,C):l([angular.element("<div>"+$.innerHTML+"</div>")[0]],_,C)}if(x.match(n)){if(v=e.getOnlySelectedElements(),0===v.length)m=angular.element("<"+C+"><li>"+$.innerHTML+"</li></"+C+">"),_.html(""),_.append(m);else{if(1===v.length&&("ol"===v[0].tagName.toLowerCase()||"ul"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===C?o(angular.element(v[0]),a):s(angular.element(v[0]),C);g="";var T=[];for(h=0;h<v.length;h++)if(3!==v[h].nodeType){var S=angular.element(v[h]);if("li"===v[h].tagName.toLowerCase())continue;g+="ol"===v[h].tagName.toLowerCase()||"ul"===v[h].tagName.toLowerCase()?S[0].innerHTML:"span"!==v[h].tagName.toLowerCase()||"ol"!==v[h].childNodes[0].tagName.toLowerCase()&&"ul"!==v[h].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+S[0].innerHTML+"</"+t("li")+">":S[0].childNodes[0].innerHTML,T.unshift(S)}m=angular.element("<"+C+">"+g+"</"+C+">"),T.pop().replaceWith(m),angular.forEach(T,function(e){e.remove()})}return void e.setSelectionToElementEnd(m[0])}}else{if("formatblock"===c.toLowerCase()){for(b=p.toLowerCase().replace(/[<>]/gi,""),"default"===b.trim()&&(b=a,p="<"+a+">"),m="li"===x?_.parent():_;!m[0].tagName||!m[0].tagName.match(n)&&!m.parent().attr("contenteditable");)m=m.parent(),x=(m[0].tagName||"").toLowerCase();if(x===b){v=m.children();var M=!1;for(h=0;h<v.length;h++)M=M||v[h].tagName.match(n);M?(m.after(v),y=m.next(),m.remove(),m=y):(w.append(m[0].childNodes),m.after(w),m.remove(),m=w)}else if(m.parent()[0].tagName.toLowerCase()!==b||m.parent().hasClass("ta-bind"))if(x.match(r))m.wrap(p);else{for(v=e.getOnlySelectedElements(),0===v.length&&(v=[m[0]]),h=0;h<v.length;h++)if(3===v[h].nodeType||!v[h].tagName.match(n))for(;3===v[h].nodeType||!v[h].tagName||!v[h].tagName.match(n);)v[h]=v[h].parentNode;if(angular.element(v[0]).hasClass("ta-bind"))m=angular.element(p),m[0].innerHTML=v[0].innerHTML,v[0].innerHTML=m[0].outerHTML;else if("blockquote"===b){for(g="",h=0;h<v.length;h++)g+=v[h].outerHTML;for(m=angular.element(p),m[0].innerHTML=g,v[0].parentNode.insertBefore(m[0],v[0]),h=v.length-1;h>=0;h--)v[h].parentNode&&v[h].parentNode.removeChild(v[h])}else for(h=0;h<v.length;h++)m=angular.element(p),m[0].innerHTML=v[h].innerHTML,v[h].parentNode.insertBefore(m[0],v[h]),v[h].parentNode.removeChild(v[h])}else{var A=m.parent(),N=A.contents();for(h=0;h<N.length;h++)A.parent().hasClass("ta-bind")&&3===N[h].nodeType&&(w=angular.element("<"+a+">"),w[0].innerHTML=N[h].outerHTML,N[h]=w[0]),A.parent()[0].insertBefore(N[h],A[0]);A.remove()}return void e.setSelectionToElementEnd(m[0])}if("createlink"===c.toLowerCase()){var O='<a href="'+p+'" target="'+(f.a.target?f.a.target:"")+'">',D="</a>",I=e.getSelection();if(I.collapsed)e.insertHtml(O+p+D,u);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var P=angular.element(O+D)[0];rangy.getSelection().getRangeAt(0).surroundContents(P)}return}if("inserthtml"===c.toLowerCase())return void e.insertHtml(p,u)}}try{i[0].execCommand(c,d,p)}catch(E){}}}}]).service("taSelection",["$window","$document","taDOM",function(e,t,r){var o=t[0],a=e.rangy,s=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},l={getSelection:function(){var e=a.getSelection().getRangeAt(0),t=e.commonAncestorContainer,n={start:s(e.startContainer,e.startOffset),end:s(e.endContainer,e.endOffset),collapsed:e.collapsed};return t=3===t.nodeType?t.parentNode:t,n.container=t.parentNode===n.start.element||t.parentNode===n.end.element?t.parentNode:t,n},getOnlySelectedElements:function(){var e=a.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(e,t,n){var r=a.createRange();r.setStart(e,t),r.setEnd(e,n),a.getSelection().setSingleRange(r)},setSelectionBeforeElement:function(e){var t=a.createRange();t.selectNode(e),t.collapse(!0),a.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=a.createRange();t.selectNode(e),t.collapse(!1),a.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=a.createRange();t.selectNodeContents(e),t.collapse(!0),a.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=a.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),a.getSelection().setSingleRange(t)},insertHtml:function(e,t){var s,u,c,d,p,f,h,m=angular.element("<div>"+e+"</div>"),g=a.getSelection().getRangeAt(0),v=o.createDocumentFragment(),y=m[0].childNodes,b=!0;if(y.length>0){for(d=[],c=0;c<y.length;c++)"p"===y[c].nodeName.toLowerCase()&&""===y[c].innerHTML.trim()||3===y[c].nodeType&&""===y[c].nodeValue.trim()||(b=b&&!n.test(y[c].nodeName),d.push(y[c]));for(var $=0;$<d.length;$++)f=v.appendChild(d[$]);!b&&g.collapsed&&/^(|<br(|\/)>)$/i.test(g.startContainer.innerHTML)&&g.selectNode(g.startContainer)}else b=!0,f=v=o.createTextNode(e);if(b)g.deleteContents();else if(g.collapsed&&g.startContainer!==t)if(g.startContainer.innerHTML&&g.startContainer.innerHTML.match(/^<[^>]*>$/i))s=g.startContainer,1===g.startOffset?(g.setStartAfter(s),g.setEndAfter(s)):(g.setStartBefore(s),g.setEndBefore(s));else{if(3===g.startContainer.nodeType&&g.startContainer.parentNode!==t)for(s=g.startContainer.parentNode,u=s.cloneNode(),r.splitNodes(s.childNodes,s,u,g.startContainer,g.startOffset);!i.test(s.nodeName);){angular.element(s).after(u),s=s.parentNode;var w=u;u=s.cloneNode(),r.splitNodes(s.childNodes,s,u,w)}else s=g.startContainer,u=s.cloneNode(),r.splitNodes(s.childNodes,s,u,void 0,void 0,g.startOffset);if(angular.element(s).after(u),g.setStartAfter(s),g.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(g.setStartBefore(s),g.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(u.innerHTML.trim())&&angular.element(u).remove(),"li"===s.nodeName.toLowerCase()){for(h=o.createDocumentFragment(),p=0;p<v.childNodes.length;p++)m=angular.element("<li>"),r.transferChildNodes(v.childNodes[p],m[0]),r.transferNodeAttributes(v.childNodes[p],m[0]),h.appendChild(m[0]);v=h,f&&(f=v.childNodes[v.childNodes.length-1],f=f.childNodes[f.childNodes.length-1])}}else g.deleteContents();g.insertNode(v),f&&l.setSelectionToElementEnd(f)}};return l}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var r=[],i=t.children();return i.length&&angular.forEach(i,function(t){r=r.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&r.push(t),r},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,r,i,o,a){if(!i&&isNaN(a))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),u=0;t.length>0&&(isNaN(a)||a!==u)&&t[0]!==i;)s.appendChild(t[0]),u++;for(!isNaN(o)&&o>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,o))),t[0].nodeValue=t[0].nodeValue.substring(o));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,r)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMaxText));if(isNaN(i))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(i=parseInt(e),isNaN(i))throw"Max text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=i}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMinText));if(isNaN(i))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(i=parseInt(e),isNaN(i))throw"Min text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=i}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var e=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(n){if(!n)return!0;var r,i=/(^[^<]|>)[^<]/i.exec(n);return i?r=i.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),r=n.indexOf(">")),n=n.trim().substring(r,r+100),/^[^<>]+$/i.test(n)?!1:0===n.length||n===t||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n)?!0:/>\s*[^\s<]/i.test(n)||e.test(n)?!1:!0}}}]).directive("taButton",[function(){return{link:function(e,t){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(r,o,l,u,c,d,p,h,m,g,v,y,b,$){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(d,w,E,_){function x(e){var t;return q.forEach(function(n){if(n.keyCode===e.keyCode){var r=(e.metaKey?F:0)+(e.ctrlKey?j:0)+(e.shiftKey?W:0)+(e.altKey?B:0);if(n.forbiddenModifiers&r)return;n.mustHaveModifiers.every(function(e){return r&e})&&(t=n.specialKey)}}),t}var C,k,T,S,M=_[0],A=_[1]||{},N=void 0!==w.attr("contenteditable")&&w.attr("contenteditable"),O=N||"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase(),D=!1,I=!1,P=!1,R=E.taUnsafeSanitizer||g.disableSanitizer,L=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,H=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,j=1,F=2,B=4,W=8,q=[{specialKey:"UndoKey",forbiddenModifiers:B+W,mustHaveModifiers:[F+j],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:B,mustHaveModifiers:[F+j,W],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:B+W,mustHaveModifiers:[F+j],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:F+W+B+j,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:F+B+j,mustHaveModifiers:[W],keyCode:9}];void 0===E.taDefaultWrap&&(E.taDefaultWrap="p"),""===E.taDefaultWrap?(T="",S=void 0===e.ie?"<div><br></div>":e.ie>=11?"<p><br></p>":e.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(T=void 0===e.ie||e.ie>=11?"<"+E.taDefaultWrap+"><br></"+E.taDefaultWrap+">":e.ie<=8?"<"+E.taDefaultWrap.toUpperCase()+"></"+E.taDefaultWrap.toUpperCase()+">":"<"+E.taDefaultWrap+"></"+E.taDefaultWrap+">",S=void 0===e.ie||e.ie>=11?"<"+E.taDefaultWrap+"><br></"+E.taDefaultWrap+">":e.ie<=8?"<"+E.taDefaultWrap.toUpperCase()+">&nbsp;</"+E.taDefaultWrap.toUpperCase()+">":"<"+E.taDefaultWrap+">&nbsp;</"+E.taDefaultWrap+">"),A.$options||(A.$options={});var U=v(S),G=function(e){if(U(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+E.taDefaultWrap+">"+e+"</"+E.taDefaultWrap+">";else{var r,i=t[0].childNodes,o=!1;for(r=0;r<i.length&&!(o=i[r].nodeName.toLowerCase().match(n));r++);if(o)for(e="",r=0;r<i.length;r++){var a=i[r],s=a.nodeName.toLowerCase();if("#comment"===s)e+="<!--"+a.nodeValue+"-->";else if("#text"===s){var l=a.textContent;e+=l.trim()?"<"+E.taDefaultWrap+">"+l+"</"+E.taDefaultWrap+">":l}else if(s.match(n))e+=a.outerHTML;else{var u=a.outerHTML||a.nodeValue;e+=""!==u.trim()?"<"+E.taDefaultWrap+">"+u+"</"+E.taDefaultWrap+">":u}}else e="<"+E.taDefaultWrap+">"+e+"</"+E.taDefaultWrap+">"}return e};E.taPaste&&(k=y(E.taPaste)),w.addClass("ta-bind");var V;d["$undoManager"+(E.id||"")]=M.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return"undefined"==typeof e||null===e||"undefined"!=typeof this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),V&&o.cancel(V),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){return 0>e||e>this._stack.length-1?void 0:(this._index=e,this.current())},current:function(){return this._stack[this._index]}};var z,K=d["$undoTaBind"+(E.id||"")]=function(){if(!D&&N){var e=M.$undoManager.undo();"undefined"!=typeof e&&null!==e&&(ct(e),Z(e,!1),z&&o.cancel(z),z=o(function(){w[0].focus(),p.setSelectionToElementEnd(w[0])},1))}},Y=d["$redoTaBind"+(E.id||"")]=function(){if(!D&&N){var e=M.$undoManager.redo();"undefined"!=typeof e&&null!==e&&(ct(e),Z(e,!1),z&&o.cancel(z),z=o(function(){w[0].focus(),p.setSelectionToElementEnd(w[0])},1))}},X=function(){if(N)return w[0].innerHTML;if(O)return w.val();throw"textAngular Error: attempting to update non-editable taBind"},Z=function(e,t,n){P=n||!1,("undefined"==typeof t||null===t)&&(t=!0&&N),("undefined"==typeof e||null===e)&&(e=X()),U(e)?(""!==M.$viewValue&&M.$setViewValue(""),t&&""!==M.$undoManager.current()&&M.$undoManager.push("")):(ut(),M.$viewValue!==e&&(M.$setViewValue(e),t&&M.$undoManager.push(e))),M.$render()};d["updateTaBind"+(E.id||"")]=function(){D||Z(void 0,void 0,!0)};var J=function(e){return M.$oldViewValue=r(c(e),M.$oldViewValue,R)};if(w.attr("required")&&(M.$validators.required=function(e,t){return!U(e||t)}),M.$parsers.push(J),M.$parsers.unshift(G),M.$formatters.push(J),M.$formatters.unshift(G),M.$formatters.unshift(function(e){return M.$undoManager.push(e||"")}),O)if(d.events={},N){var Q=!1,et=function(e){if(e&&e.trim().length){if(e.match(/class=["']*Mso(Normal|List)/i)){var t=e.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);t=t?t[1]:e,t=t.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var n=angular.element("<div>"+t+"</div>"),i=angular.element("<div></div>"),a={element:null,lastIndent:[],lastLi:null,isUl:!1};a.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0};for(var s=function(e){a.isUl=e,a.element=angular.element(e?"<ul>":"<ol>"),a.lastIndent=[],a.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0},a.lastLevelMatch=null},l=0;l<=n[0].childNodes.length;l++)if(n[0].childNodes[l]&&"#text"!==n[0].childNodes[l].nodeName&&"p"===n[0].childNodes[l].tagName.toLowerCase()){var u=angular.element(n[0].childNodes[l]),c=(u.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(c){if(u[0].childNodes.length<2||u[0].childNodes[1].childNodes.length<1)continue;var f="bullet"===c[1].toLowerCase()||"number"!==c[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].childNodes[0].innerHTML)),h=(u.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),m=parseFloat(h?h[1]:0),g=(u.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(g&&g[2]&&(m=parseInt(g[2])),g&&(!a.lastLevelMatch||g[1]!==a.lastLevelMatch[1])||!c[3]||"first"===c[3].toLowerCase()||null===a.lastIndent.peek()||a.isUl!==f&&a.lastIndent.peek()===m)s(f),i.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()<m)a.element=angular.element(f?"<ul>":"<ol>"),a.lastLi.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()>m){for(;null!=a.lastIndent.peek()&&a.lastIndent.peek()>m;)if("li"!==a.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(a.element.parent()[0].tagName.toLowerCase()))break;a.element=a.element.parent(),a.lastIndent.pop()}else a.element=a.element.parent();a.isUl="ul"===a.element[0].tagName.toLowerCase(),f!==a.isUl&&(s(f),i.append(a.element))}a.lastLevelMatch=g,m!==a.lastIndent.peek()&&a.lastIndent.push(m),a.lastLi=angular.element("<li>"),a.element.append(a.lastLi),a.lastLi.html(u.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),u.remove()}else s(!1),i.append(u)}var v=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(i.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&v(e)}),angular.forEach(i.find("font"),v),e=i.html()}else{if(e=e.replace(/<(|\/)meta[^>]*?>/gi,""),e.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(e.match(/<[^>]*?(text-angular)[^>]*?>/)){var y=angular.element("<div>"+e+"</div>");y.find("textarea").remove();for(var $=b.getByAttribute(y,"ta-bind"),E=0;E<$.length;E++){for(var _=$[E][0].parentNode.parentNode,x=0;x<$[E][0].childNodes.length;x++)_.parentNode.insertBefore($[E][0].childNodes[x],_);_.parentNode.removeChild(_)}e=y.html().replace('<br class="Apple-interchange-newline">',"")}}else e.match(/^<span/)&&(e.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(e=e.replace(/<(|\/)span[^>]*?>/gi,"")));e=e.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(e)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(e)===!1&&(e=e.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),e=e.replace(/^[ |\u00A0]+/gm,function(e){for(var t="",n=0;n<e.length;n++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),k&&(e=k(d,{$html:e})||e),e=r(e,"",R),p.insertHtml(e,w[0]),o(function(){M.$setViewValue(X()),Q=!1,w.removeClass("processing-paste")},0)}else Q=!1,w.removeClass("processing-paste")};w.on("paste",d.events.paste=function(e,t){if(t&&angular.extend(e,t),D||Q)return e.stopPropagation(),e.preventDefault(),!1;Q=!0,w.addClass("processing-paste");var n,r=(e.originalEvent||e).clipboardData;if(r&&r.getData&&r.types.length>0){for(var i="",a=0;a<r.types.length;a++)i+=" "+r.types[a];return/text\/html/i.test(i)?n=r.getData("text/html"):/text\/plain/i.test(i)&&(n=r.getData("text/plain")),et(n),e.stopPropagation(),e.preventDefault(),!1}var s=l.rangy.saveSelection(),c=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');u.find("body").append(c),c[0].focus(),o(function(){l.rangy.restoreSelection(s),et(c[0].innerHTML),w[0].focus(),c.remove()},0)}),w.on("cut",d.events.cut=function(e){D?e.preventDefault():o(function(){M.$setViewValue(X())},0)}),w.on("keydown",d.events.keydown=function(e,t){t&&angular.extend(e,t),e.specialKey=x(e);var n;if(g.keyMappings.forEach(function(t){e.specialKey===t.commandKeyCode&&(e.specialKey=void 0),t.testForKey(e)&&(n=t.commandKeyCode),("UndoKey"===t.commandKeyCode||"RedoKey"===t.commandKeyCode)&&(t.enablePropagation||e.preventDefault())}),"undefined"!=typeof n&&(e.specialKey=n),"undefined"==typeof e.specialKey||"UndoKey"===e.specialKey&&"RedoKey"===e.specialKey||(e.preventDefault(),$.sendKeyCommand(d,e)),!D&&("UndoKey"===e.specialKey&&(K(),e.preventDefault()),"RedoKey"===e.specialKey&&(Y(),e.preventDefault()),13===e.keyCode&&!e.shiftKey)){var r,o=p.getSelectionElement();if(!o.tagName.match(i))return;var a=angular.element(T);if(/^<br(|\/)>$/i.test(o.innerHTML.trim())&&"blockquote"===o.parentNode.tagName.toLowerCase()&&!o.nextSibling){r=angular.element(o);var s=r.parent();s.after(a),r.remove(),0===s.children().length&&s.remove(),p.setSelectionToElementStart(a[0]),e.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(o.innerHTML.trim())&&"blockquote"===o.tagName.toLowerCase()&&(r=angular.element(o),r.after(a),r.remove(),p.setSelectionToElementStart(a[0]),e.preventDefault())}});var tt;if(w.on("keyup",d.events.keyup=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=p.getSelection();return void(n.start.element===w[0]&&w.children().length&&p.setSelectionToElementStart(w.children()[0]))}if(V&&o.cancel(V),!D&&!L.test(e.keyCode)){if(""!==T&&13===e.keyCode&&!e.shiftKey){for(var r=p.getSelectionElement();!r.tagName.match(i)&&r!==w[0];)r=r.parentNode;if(r.tagName.toLowerCase()!==E.taDefaultWrap&&"li"!==r.tagName.toLowerCase()&&(""===r.innerHTML.trim()||"<br>"===r.innerHTML.trim())){var a=angular.element(T);angular.element(r).replaceWith(a),p.setSelectionToElementStart(a[0])}}var s=X();""!==T&&""===s.trim()?(ct(T),p.setSelectionToElementStart(w.children()[0])):"<"!==s.substring(0,1)&&""!==E.taDefaultWrap;var l=C!==e.keyCode&&H.test(e.keyCode);tt&&o.cancel(tt),tt=o(function(){Z(s,l,!0)},A.$options.debounce||400),l||(V=o(function(){M.$undoManager.push(s)},250)),C=e.keyCode}}),w.on("blur",d.events.blur=function(){I=!1,D?(P=!0,M.$render()):Z(void 0,void 0,!0)}),E.placeholder&&(e.ie>8||void 0===e.ie)){var nt;if(!E.id)throw"textAngular Error: An unique ID is required for placeholders to work";nt=a("#"+E.id+".placeholder-text:before",'content: "'+E.placeholder+'"'),d.$on("$destroy",function(){s(nt)})}w.on("focus",d.events.focus=function(){I=!0,w.removeClass("placeholder-text"),ut()}),w.on("mouseup",d.events.mouseup=function(){var e=p.getSelection();e.start.element===w[0]&&w.children().length&&p.setSelectionToElementStart(w.children()[0])}),w.on("mousedown",d.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{w.on("change blur",d.events.change=d.events.blur=function(){D||M.$setViewValue(X())}),w.on("keydown",d.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,r=this.selectionEnd,i=w.val();if(e.shiftKey){var o=i.lastIndexOf("\n",n),a=i.lastIndexOf("	",n);-1!==a&&a>=o&&(w.val(i.substring(0,a)+i.substring(a+1)),this.selectionStart=this.selectionEnd=n-1)}else w.val(i.substring(0,n)+"	"+i.substring(r)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var rt=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},it=function(e,t,n){for(var r=0;r<e.length;r++)t.call(n,r,e[r])},ot=function(e,t){var n="",r=e.childNodes;return t++,n+=rt("	",t-1)+e.outerHTML.substring(0,4),it(r,function(e,r){var i=r.nodeName.toLowerCase();return"#comment"===i?void(n+="<!--"+r.nodeValue+"-->"):"#text"===i?void(n+=r.textContent):void(r.outerHTML&&(n+="ul"===i||"ol"===i?"\n"+ot(r,t):"\n"+rt("	",t)+r.outerHTML))}),n+="\n"+rt("	",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};M.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",it(t,function(t,n){var r=n.nodeName.toLowerCase();return"#comment"===r?void(e+="<!--"+n.nodeValue+"-->"):"#text"===r?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===r||"ol"===r?""+ot(n,0):""+n.outerHTML))})),e})}var at,st=function(e){return d.$emit("ta-element-select",this),e.preventDefault(),!1},lt=function(e,t){if(t&&angular.extend(e,t),!f&&!D){f=!0;var n;n=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,d.$emit("ta-drop-event",this,e,n),o(function(){f=!1,Z(void 0,void 0,!0)},100)}},ut=d["reApplyOnSelectorHandlers"+(E.id||"")]=function(){D||angular.forEach(h,function(e){w.find(e).off("click",st).on("click",st)})},ct=function(e){w[0].innerHTML=e},dt=!1;M.$render=function(){if(!dt){dt=!0;var e=M.$viewValue||"";P||(N&&I&&(w.removeClass("placeholder-text"),at&&o.cancel(at),at=o(function(){I||(w[0].focus(),p.setSelectionToElementEnd(w.children()[w.children().length-1])),at=void 0},1)),N?(ct(E.placeholder?""===e?T:e:""===e?T:e),D?w.off("drop",lt):(ut(),w.on("drop",lt))):"textarea"!==w[0].tagName.toLowerCase()&&"input"!==w[0].tagName.toLowerCase()?ct(m(e)):w.val(e)),N&&E.placeholder&&(""===e?I?w.removeClass("placeholder-text"):w.addClass("placeholder-text"):w.removeClass("placeholder-text")),dt=P=!1}},E.taReadonly&&(D=d.$eval(E.taReadonly),D?(w.addClass("ta-readonly"),("textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase())&&w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable")):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):N&&w.attr("contenteditable","true")),d.$watch(E.taReadonly,function(e,t){t!==e&&(e?(w.addClass("ta-readonly"),("textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase())&&w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable"),angular.forEach(h,function(e){w.find(e).on("click",st)
}),w.off("drop",lt)):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):N&&w.attr("contenteditable","true"),angular.forEach(h,function(e){w.find(e).off("click",st)}),w.on("drop",lt)),D=e)})),N&&!D&&(angular.forEach(h,function(e){w.find(e).on("click",st)}),w.on("drop",lt),w.on("blur",function(){e.webkit&&(t=!0)}))}}}]);var f=!1,h=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);h.config([function(){angular.forEach(taTools,function(e,t){delete taTools[t]})}]),h.run([function(){if("function"==typeof define&&define.amd)define(function(e){window.rangy=e("rangy"),window.rangy.saveSelection=e("rangy/lib/rangy-selectionsaverestore")});else if("function"==typeof require&&"undefined"!=typeof module&&"object"==typeof exports)window.rangy=require("rangy"),window.rangy.saveSelection=require("rangy/lib/rangy-selectionsaverestore");else{if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}}]),h.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(e,t,n,r,i,o,a,s,l,u,c,d){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(p,f,h,m){var g,v,y,b,$,w,E,_,x,C,k,T=h.serial?h.serial:Math.floor(1e16*Math.random());p._name=h.name?h.name:"textAngularEditor"+T;var S=function(e,n,r){t(function(){var t=function(){e.off(n,t),r.apply(this,arguments)};e.on(n,t)},100)};if(x=i(h.taDefaultWrap),angular.extend(p,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?p["$undoTaBindtaTextElement"+T]():"redo"===e.toLowerCase()?p["$redoTaBindtaTextElement"+T]():(x(e,!1,t,p.defaultTagAttributes),n&&p["reApplyOnSelectorHandlerstaTextElement"+T](),p.displayElements.text[0].focus())},showHtml:p.$eval(h.taShowHtml)||!1}),h.taFocussedClass&&(p.classes.focussed=h.taFocussedClass),h.taTextEditorClass&&(p.classes.textEditor=h.taTextEditorClass),h.taHtmlEditorClass&&(p.classes.htmlEditor=h.taHtmlEditorClass),h.taDefaultTagAttributes)try{angular.extend(p.defaultTagAttributes,angular.fromJson(h.taDefaultTagAttributes))}catch(M){u.error(M)}h.taTextEditorSetup&&(p.setup.textEditorSetup=p.$parent.$eval(h.taTextEditorSetup)),h.taHtmlEditorSetup&&(p.setup.htmlEditorSetup=p.$parent.$eval(h.taHtmlEditorSetup)),p.fileDropHandler=h.taFileDrop?p.$parent.$eval(h.taFileDrop):p.defaultFileDropHandler,E=f[0].innerHTML,f[0].innerHTML="",p.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},p.displayElements.popover.append(p.displayElements.popoverArrow),p.displayElements.popover.append(p.displayElements.popoverContainer),p.displayElements.scrollWindow.append(p.displayElements.popover),p.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),p.showPopover=function(e){p.displayElements.popover.css("display","block"),p.reflowPopover(e),l.addClass(p.displayElements.popover,"in"),S(s.find("body"),"click keyup",function(){p.hidePopover()})},p.reflowPopover=function(e){p.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(p.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+p.displayElements.scrollWindow[0].scrollTop+"px"),p.displayElements.popover.removeClass("top").addClass("bottom")):(p.displayElements.popover.css("top",e[0].offsetTop-54+p.displayElements.scrollWindow[0].scrollTop+"px"),p.displayElements.popover.removeClass("bottom").addClass("top"));var t=p.displayElements.text[0].offsetWidth-p.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-p.displayElements.popover[0].offsetWidth/2;p.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),p.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},p.hidePopover=function(){p.displayElements.popover.css("display",""),p.displayElements.popoverContainer.attr("style",""),p.displayElements.popoverContainer.attr("class","popover-content"),p.displayElements.popover.removeClass("in")},p.displayElements.resize.overlay.append(p.displayElements.resize.background),angular.forEach(p.displayElements.resize.anchors,function(e){p.displayElements.resize.overlay.append(e)}),p.displayElements.resize.overlay.append(p.displayElements.resize.info),p.displayElements.scrollWindow.append(p.displayElements.resize.overlay),p.reflowResizeOverlay=function(e){e=angular.element(e)[0],p.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),p.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},p.showResizeOverlay=function(e){var t=s.find("body");C=function(n){var r={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===r.width||isNaN(r.width))&&(r.width=e[0].offsetWidth),(void 0===r.height||isNaN(r.height))&&(r.height=e[0].offsetHeight),p.hidePopover();var i=r.height/r.width,o=function(t){function n(e){return Math.round(Math.max(0,e))}var o={x:Math.max(0,r.width+(t.clientX-r.x)),y:Math.max(0,r.height+(t.clientY-r.y))},a=void 0!==h.taResizeForceAspectRatio,s=h.taResizeMaintainAspectRatio,l=a||s&&!t.shiftKey;if(l){var u=o.y/o.x;o.x=i>u?o.x:o.y/i,o.y=i>u?o.x*i:o.y}var c=angular.element(e);c.css("height",n(o.y)+"px"),c.css("width",n(o.x)+"px"),p.reflowResizeOverlay(e)};t.on("mousemove",o),S(t,"mouseup",function(n){n.preventDefault(),n.stopPropagation(),t.off("mousemove",o),p.showPopover(e)}),n.stopPropagation(),n.preventDefault()},p.displayElements.resize.anchors[3].off("mousedown"),p.displayElements.resize.anchors[3].on("mousedown",C),p.reflowResizeOverlay(e),S(t,"click",function(){p.hideResizeOverlay()})},p.hideResizeOverlay=function(){p.displayElements.resize.anchors[3].off("mousedown",C),p.displayElements.resize.overlay.css("display","")},p.setup.htmlEditorSetup(p.displayElements.html),p.setup.textEditorSetup(p.displayElements.text),p.displayElements.html.attr({id:"taHtmlElement"+T,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":f.attr("ng-model-options")}),p.displayElements.text.attr({id:"taTextElement"+T,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":f.attr("ng-model-options")}),p.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),h.taDefaultWrap&&p.displayElements.text.attr("ta-default-wrap",h.taDefaultWrap),h.taUnsafeSanitizer&&(p.displayElements.text.attr("ta-unsafe-sanitizer",h.taUnsafeSanitizer),p.displayElements.html.attr("ta-unsafe-sanitizer",h.taUnsafeSanitizer)),p.displayElements.scrollWindow.append(p.displayElements.text),f.append(p.displayElements.scrollWindow),f.append(p.displayElements.html),p.displayElements.forminput.attr("name",p._name),f.append(p.displayElements.forminput),h.tabindex&&(f.removeAttr("tabindex"),p.displayElements.text.attr("tabindex",h.tabindex),p.displayElements.html.attr("tabindex",h.tabindex)),h.placeholder&&(p.displayElements.text.attr("placeholder",h.placeholder),p.displayElements.html.attr("placeholder",h.placeholder)),h.taDisabled&&(p.displayElements.text.attr("ta-readonly","disabled"),p.displayElements.html.attr("ta-readonly","disabled"),p.disabled=p.$parent.$eval(h.taDisabled),p.$parent.$watch(h.taDisabled,function(e){p.disabled=e,p.disabled?f.addClass(p.classes.disabled):f.removeClass(p.classes.disabled)})),h.taPaste&&(p._pasteHandler=function(e){return d(h.taPaste)(p.$parent,{$html:e})},p.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(p.displayElements.scrollWindow)(p),e(p.displayElements.html)(p),p.updateTaBindtaTextElement=p["updateTaBindtaTextElement"+T],p.updateTaBindtaHtmlElement=p["updateTaBindtaHtmlElement"+T],f.addClass("ta-root"),p.displayElements.scrollWindow.addClass("ta-text ta-editor "+p.classes.textEditor),p.displayElements.html.addClass("ta-html ta-editor "+p.classes.htmlEditor),p._actionRunning=!1;var A=!1;if(p.startAction=function(){return p._actionRunning=!0,A=a.rangy.saveSelection(),function(){A&&a.rangy.restoreSelection(A)}},p.endAction=function(){p._actionRunning=!1,A&&(p.showHtml?p.displayElements.html[0].focus():p.displayElements.text[0].focus(),a.rangy.removeMarkers(A)),A=!1,p.updateSelectedStyles(),p.showHtml||p["updateTaBindtaTextElement"+T]()},$=function(){p.focussed=!0,f.addClass(p.classes.focussed),_.focus(),f.triggerHandler("focus")},p.displayElements.html.on("focus",$),p.displayElements.text.on("focus",$),w=function(e){return p._actionRunning||s[0].activeElement===p.displayElements.html[0]||s[0].activeElement===p.displayElements.text[0]||(f.removeClass(p.classes.focussed),_.unfocus(),t(function(){p._bUpdateSelectedStyles=!1,f.triggerHandler("blur"),p.focussed=!1},0)),e.preventDefault(),!1},p.displayElements.html.on("blur",w),p.displayElements.text.on("blur",w),p.displayElements.text.on("paste",function(e){f.triggerHandler("paste",e)}),p.queryFormatBlockState=function(e){return!p.showHtml&&e.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},p.queryCommandState=function(e){return p.showHtml?"":s[0].queryCommandState(e)},p.switchView=function(){p.showHtml=!p.showHtml,l.enabled(!1,p.displayElements.html),l.enabled(!1,p.displayElements.text),p.showHtml?t(function(){return l.enabled(!0,p.displayElements.html),l.enabled(!0,p.displayElements.text),p.displayElements.html[0].focus()},100):t(function(){return l.enabled(!0,p.displayElements.html),l.enabled(!0,p.displayElements.text),p.displayElements.text[0].focus()},100)},h.ngModel){var N=!0;m.$render=function(){if(N){N=!1;var e=p.$parent.$eval(h.ngModel);void 0!==e&&null!==e||!E||""===E||m.$setViewValue(E)}p.displayElements.forminput.val(m.$viewValue),p.html=m.$viewValue||""},f.attr("required")&&(m.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else p.displayElements.forminput.val(E),p.html=E;if(p.$watch("html",function(e,t){e!==t&&(h.ngModel&&m.$viewValue!==e&&m.$setViewValue(e),p.displayElements.forminput.val(e))}),h.taTargetToolbars)_=o.registerEditor(p._name,p,h.taTargetToolbars.split(","));else{var O=angular.element('<div text-angular-toolbar name="textAngularToolbar'+T+'">');h.taToolbar&&O.attr("ta-toolbar",h.taToolbar),h.taToolbarClass&&O.attr("ta-toolbar-class",h.taToolbarClass),h.taToolbarGroupClass&&O.attr("ta-toolbar-group-class",h.taToolbarGroupClass),h.taToolbarButtonClass&&O.attr("ta-toolbar-button-class",h.taToolbarButtonClass),h.taToolbarActiveButtonClass&&O.attr("ta-toolbar-active-button-class",h.taToolbarActiveButtonClass),h.taFocussedClass&&O.attr("ta-focussed-class",h.taFocussedClass),f.prepend(O),e(O)(p.$parent),_=o.registerEditor(p._name,p,["textAngularToolbar"+T])}p.$on("$destroy",function(){o.unregisterEditor(p._name),angular.element(window).off("blur")}),p.$on("ta-element-select",function(e,t){_.triggerElementSelect(e,t)&&p["reApplyOnSelectorHandlerstaTextElement"+T]()}),p.$on("ta-drop-event",function(e,n,r,i){p.displayElements.text[0].focus(),i&&i.files&&i.files.length>0?(angular.forEach(i.files,function(e){try{c.when(p.fileDropHandler(e,p.wrapSelection)||p.fileDropHandler!==p.defaultFileDropHandler&&c.when(p.defaultFileDropHandler(e,p.wrapSelection))).then(function(){p["updateTaBindtaTextElement"+T]()})}catch(t){u.error(t)}}),r.preventDefault(),r.stopPropagation()):t(function(){p["updateTaBindtaTextElement"+T]()},0)}),p._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){p._bUpdateSelectedStyles=!1,p.focussed=!1}),p.updateSelectedStyles=function(){var e;k&&t.cancel(k),void 0!==(e=r.getSelectionElement())&&e.parentNode!==p.displayElements.text[0]?_.updateSelectedStyles(angular.element(e)):_.updateSelectedStyles(),p._bUpdateSelectedStyles&&(k=t(p.updateSelectedStyles,200))},g=function(){return p.focussed?void(p._bUpdateSelectedStyles||(p._bUpdateSelectedStyles=!0,p.$apply(function(){p.updateSelectedStyles()}))):void(p._bUpdateSelectedStyles=!1)},p.displayElements.html.on("keydown",g),p.displayElements.text.on("keydown",g),v=function(){p._bUpdateSelectedStyles=!1},p.displayElements.html.on("keyup",v),p.displayElements.text.on("keyup",v),y=function(e,t){t&&angular.extend(e,t),p.$apply(function(){return _.sendKeyCommand(e)?(p._bUpdateSelectedStyles||p.updateSelectedStyles(),e.preventDefault(),!1):void 0})},p.displayElements.html.on("keypress",y),p.displayElements.text.on("keypress",y),b=function(){p._bUpdateSelectedStyles=!1,p.$apply(function(){p.updateSelectedStyles()})},p.displayElements.html.on("mouseup",b),p.displayElements.text.on("mouseup",b)}}}]),h.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var r={},i={};return{registerEditor:function(n,o,a){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!o)throw"textAngular Error: An editor requires a scope";if(i[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(a,function(e){r[e]&&s.push(r[e])}),i[n]={scope:o,toolbars:a,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&s.push(e)},editorFunctions:{disable:function(){angular.forEach(s,function(e){e.disabled=!0})},enable:function(){angular.forEach(s,function(e){e.disabled=!1})},focus:function(){angular.forEach(s,function(e){e._parent=o,e.disabled=!1,e.focussed=!0,o.focussed=!0})},unfocus:function(){angular.forEach(s,function(e){e.disabled=!0,e.focussed=!1}),o.focussed=!1},updateSelectedStyles:function(e){angular.forEach(s,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=o,n.active=n.activeState(e))})})},sendKeyCommand:function(n){var r=!1;return(n.ctrlKey||n.metaKey||n.specialKey)&&angular.forEach(t,function(t,i){if(t.commandKeyCode&&(t.commandKeyCode===n.which||t.commandKeyCode===n.specialKey))for(var a=0;a<s.length;a++)if(void 0!==s[a].tools[i]){e.call(s[a].tools[i],o),r=!0;break}}),r},triggerElementSelect:function(e,n){var r=function(e,t){for(var n=!0,r=0;r<t.length;r++)n=n&&e.attr(t[r]);return n},i=[],a={},l=!1;n=angular.element(n);var u=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(u=u||angular.isArray(e.onElementSelect.onlyWithAttrs)&&r(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||r(n,e.onElementSelect.onlyWithAttrs))&&(a[t]=e))}),u?(angular.forEach(a,function(e,t){e.onElementSelect.onlyWithAttrs&&r(n,e.onElementSelect.onlyWithAttrs)&&i.push({name:t,tool:e})}),i.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(a,function(e,t){i.push({name:t,tool:e})}),i.length>0)for(var c=0;c<i.length;c++){for(var d=i[c].tool,p=i[c].name,f=0;f<s.length;f++)if(void 0!==s[f].tools[p]){d.onElementSelect.action.call(s[f].tools[p],e,n,o),l=!0;break}if(l)break}return l}}},i[n].editorFunctions},retrieveEditor:function(e){return i[e]},unregisterEditor:function(e){delete i[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(r[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';r[e.name]=e,angular.forEach(i,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return r[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete r[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(r,function(r,i){n.updateToolbarToolDisplay(i,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(r,function(n,r){t.resetToolbarToolDisplay(r,e)})},updateToolbarToolDisplay:function(e,t,n){if(!r[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';r[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!r[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';r[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(r,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var r,i=0;i<t.toolbar[n].length;i++){if(t.toolbar[n][i]===e){r={group:n,index:i};break}if(void 0!==r)break}void 0!==r&&(t.toolbar[r.group].slice(r.index,1),t._$element.children().eq(r.group).children().eq(r.index).remove())}})},addTool:function(e,t,i,o){n(e,t),angular.forEach(r,function(n){n.addTool(e,t,i,o)})},addToolToToolbar:function(e,t,i,o,a){n(e,t),r[i].addTool(e,t,o,a)},refreshEditor:function(e){if(!i[e])throw'textAngular Error: No Editor with name "'+e+'" exists';i[e].scope.updateTaBindtaTextElement(),i[e].scope.$$phase||i[e].scope.$digest()},sendKeyCommand:function(e,t){angular.forEach(i,function(n){return n.editorFunctions.sendKeyCommand(t)?(e._bUpdateSelectedStyles||e.updateSelectedStyles(),t.preventDefault(),!1):void 0})}}}]),h.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,r,i,o){return{scope:{name:"@"},restrict:"EA",link:function(a,s,l){if(!a.name||""===a.name)throw"textAngular Error: A toolbar requires a name";angular.extend(a,angular.copy(n)),l.taToolbar&&(a.toolbar=a.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(a.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(a.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(a.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(a.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(a.classes.focussed=l.taFocussedClass),a.disabled=!0,a.focussed=!1,a._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+a.classes.toolbar),a.$watch("focussed",function(){a.focussed?s.addClass(a.classes.focussed):s.removeClass(a.classes.focussed)});var u=function(t,n){var r;if(r=angular.element(t&&t.display?t.display:"<button type='button'>"),r.addClass(t&&t["class"]?t["class"]:a.classes.toolbarButton),r.attr("name",n.name),r.attr("ta-button","ta-button"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&r.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(r[0].innerHTML="",t.buttontext&&(r[0].innerHTML=t.buttontext),t.iconclass)){var i=angular.element("<i>"),o=r[0].innerHTML;i.addClass(t.iconclass),r[0].innerHTML="",r.append(i),o&&""!==o&&r.append("&nbsp;"+o)}return n._lastToolDefinition=angular.copy(t),e(r)(n)};a.tools={},a._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var c={$window:o,$editor:function(){return a._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?a.classes.toolbarButtonActive:""},executeAction:i};angular.forEach(a.toolbar,function(e){var t=angular.element("<div>");t.addClass(a.classes.toolbarGroup),angular.forEach(e,function(e){a.tools[e]=angular.extend(a.$new(!0),r[e],c,{name:e}),a.tools[e].$element=u(r[e],a.tools[e]),t.append(a.tools[e].$element)}),s.append(t)}),a.updateToolDisplay=function(e,t,n){var r=a.tools[e];if(r){if(r._lastToolDefinition&&!n&&(t=angular.extend({},r._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var i=u(t,r);r.$element.replaceWith(i),r.$element=i}},a.addTool=function(e,t,n,i){a.tools[e]=angular.extend(a.$new(!0),r[e],c,{name:e}),a.tools[e].$element=u(r[e],a.tools[e]);var o;void 0===n&&(n=a.toolbar.length-1),o=angular.element(s.children()[n]),void 0===i?(o.append(a.tools[e].$element),a.toolbar[n][a.toolbar[n].length-1]=e):(o.children().eq(i).after(a.tools[e].$element),a.toolbar[n][i]=e)},t.registerToolbar(a),a.$on("$destroy",function(){t.unregisterToolbar(a.name)})}}}])}(),/**
 * @license AngularJS v1.3.10
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function n(){this.$get=["$$sanitizeUri",function(e){return function(t){"undefined"!=typeof arguments[1]&&(arguments[1].version="taSanitize");var n=[];return o(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],r=c(n,t.noop);return r.chars(e),n.join("")}function i(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function o(e,n){function r(e,r,o,s){if(r=t.lowercase(r),S[r])for(;c.last()&&M[c.last()];)i("",c.last());T[r]&&c.last()==r&&i("",r),s=x[r]||!!s,s||c.push(r);var l={};o.replace(h,function(e,t,n,r,i){var o=n||r||i||"";l[t]=a(o)}),n.start&&n.start(r,l,s)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=c.length-1;o>=0&&c[o]!=r;o--);if(o>=0){for(i=c.length-1;i>=o;i--)n.end&&n.end(c[i]);c.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,s,l,u,c=[],w=e;for(c.last=function(){return c[c.length-1]};e;){if(u="",s=!0,c.last()&&N[c.last()])e=e.replace(new RegExp("([^]*)<\\s*\\/\\s*"+c.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace($,"$1"),n.chars&&n.chars(a(t)),""}),i("",c.last());else{if(_.test(e)){if(l=e.match(_)){{l[0]}n.whitespace&&n.whitespace(l[0]),e=e.replace(l[0],""),s=!1}}else y.test(e)?(l=e.match(y),l&&(n.comment&&n.comment(l[1]),e=e.replace(l[0],""),s=!1)):b.test(e)?(l=e.match(b),l&&(e=e.replace(l[0],""),s=!1)):g.test(e)?(l=e.match(f),l&&(e=e.substring(l[0].length),l[0].replace(f,i),s=!1)):m.test(e)&&(l=e.match(p),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(p,r)),s=!1):(u+="<",e=e.substring(1)));s&&(o=e.indexOf("<"),u+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(a(u)))}if(e==w)throw d("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}i()}function a(e){if(!e)return"";var t=H.exec(e),n=t[1],r=t[3],i=t[2];return i&&(L.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in L?L.textContent:L.innerText),n+i+r}function s(e){return e.replace(/&/g,"&amp;").replace(w,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(E,function(e){var t=e.charCodeAt(0);return 159>=t||173==t||t>=1536&&1540>=t||1807==t||6068==t||6069==t||t>=8204&&8207>=t||t>=8232&&8239>=t||t>=8288&&8303>=t||65279==t||t>=65520&&65535>=t?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e){var n="",r=e.split(";");return t.forEach(r,function(e){var r=e.split(":");if(2==r.length){var i=j(t.lowercase(r[0])),e=j(t.lowercase(r[1]));(("color"===i||"background-color"===i)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===i&&("left"===e||"right"===e||"center"===e||"justify"===e)||"float"===i&&("left"===e||"right"===e||"none"===e)||("width"===i||"height"===i)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===i&&e.match(/^ltr|rtl|initial|inherit$/))&&(n+=i+": "+e+";")}}),n}function u(e,t,n,r){return"img"===e&&t["ta-insert-video"]&&("ta-insert-video"===n||"allowfullscreen"===n||"frameborder"===n||"contenteditable"===n&&"false"===r)?!0:!1}function c(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&N[e]&&(r=e),r||O[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,a){var c=t.lowercase(a),d="img"===e&&"src"===c||"background"===c;("style"===c&&""!==(r=l(r))||u(e,o,c,r)||R[c]===!0&&(D[c]!==!0||n(r,d)))&&(i(" "),i(a),i('="'),i(s(r)),i('"'))}),i(a?"/>":">"))},comment:function(e){i(e)},whitespace:function(e){i(s(e))},end:function(e){e=t.lowercase(e),r||O[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(s(e))}}}var d=t.$$minErr("$sanitize"),p=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,g=/^<\//,v=/<!--(.*?)-->/g,y=/(^<!--.*?-->)/,b=/<!DOCTYPE([^>]*?)>/i,$=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E=/([^\#-~| |!])/g,_=/^(\s+)/,x=i("area,br,col,hr,img,wbr,input"),C=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=i("rp,rt"),T=t.extend({},k,C),S=t.extend({},C,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),M=t.extend({},k,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),A=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),N=i("script,style"),O=t.extend({},x,S,M,T,A),D=i("background,cite,href,longdesc,src,usemap,xlink:href"),I=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),P=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),R=t.extend({},D,P,I),L=document.createElement("pre"),H=/^(\s*)([\s\S]*?)(\s*)$/,j=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,i=/^mailto:/;return function(o,a){function s(e){e&&f.push(r(e))}function l(e,n){f.push("<a "),t.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var u,c,d,p=o,f=[];u=p.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),d=u.index,s(p.substr(0,d)),l(c,u[0].replace(i,"")),p=p.substring(d+u[0].length);return s(p),e(f.join(""))}}])}(window,window.angular);var taTools={};angular.module("textAngularSetup",[]).constant("taRegisterTool",registerTextAngularTool).value("taTools",taTools).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)?(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(e,t){return{imgOnSelectAction:function(e,t,n){var r=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var i=n.displayElements.popoverContainer;i.empty();var o=angular.element('<div class="btn-group" style="padding-right: 6px;">'),a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');a.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),r()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),r()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),r()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');u.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),r()}),o.append(a),o.append(s),o.append(l),o.append(u),i.append(o),o=angular.element('<div class="btn-group" style="padding-right: 6px;">');var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),r()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');d.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),r()});var p=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');p.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),r()}),o.append(c),o.append(p),o.append(d),i.append(o),o=angular.element('<div class="btn-group">');var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');f.on("click",function(e){e.preventDefault(),t.remove(),r()}),o.append(f),i.append(o),n.showPopover(t),n.showResizeOverlay(t)},aOnSelectAction:function(n,r,i){n.preventDefault(),i.displayElements.popover.css("width","436px");var o=i.displayElements.popoverContainer;o.empty(),o.css("line-height","28px");var a=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"</a>");a.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),o.append(a);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(n){n.preventDefault();var o=e.prompt(t.insertLink.dialogPrompt,r.attr("href"));o&&""!==o&&"http://"!==o&&(r.attr("href",o),i.updateTaBindtaTextElement()),i.hidePopover()}),s.append(l);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');u.on("click",function(e){e.preventDefault(),r.replaceWith(r.contents()),i.updateTaBindtaTextElement(),i.hidePopover()}),s.append(u);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+t.editLink.targetToggle.buttontext+"</button>");"_blank"===r.attr("target")&&c.addClass("active"),c.on("click",function(e){e.preventDefault(),r.attr("target","_blank"===r.attr("target")?"":"_blank"),c.toggleClass("active"),i.updateTaBindtaTextElement()}),s.append(c),o.append(s),i.showPopover(r)},extractYoutubeVideoId:function(e){var t=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,n=e.match(t);return n&&n[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions",function(e,t,n,r,i,o,a){var s={};if(o("",s),a.forceTextAngularSanitize===!0&&"taSanitize"!==s.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var l=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},u=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:u,activeState:l(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(e){var t=!1;return e&&(t="justify"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyFull")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var i=angular.element(r.getSelectionElement()),o=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};if(angular.forEach(i.find("ul"),o),angular.forEach(i.find("ol"),o),"li"===i[0].tagName.toLowerCase()){var a=i[0].parentNode.childNodes,s=[],l=[],u=!1;for(n=0;n<a.length;n++)a[n]===i[0]?u=!0:u?l.push(a[n]):s.push(a[n]);var c=angular.element(i[0].parentNode),d=angular.element("<p></p>");if(d.html(angular.element(i[0]).html()),0===s.length||0===l.length)0===l.length?c.after(d):c[0].parentNode.insertBefore(d[0],c[0]),0===s.length&&0===l.length?c.remove():angular.element(i[0]).remove();else{var p=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">"),f=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">");for(n=0;n<s.length;n++)p.append(angular.element(s[n]));for(n=0;n<l.length;n++)f.append(angular.element(l[n]));c.after(f),c.after(d),c.after(p),c.remove()}r.setSelectionToElementEnd(d[0])}var h=this.$editor(),m=function(e){e=angular.element(e),e[0]!==h.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),m)};angular.forEach(i,m),"li"!==i[0].tagName.toLowerCase()&&"ol"!==i[0].tagName.toLowerCase()&&"ul"!==i[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),t()}}),e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;return e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("insertImage",e,!0):void 0},onElementSelect:{element:"img",action:i.imgOnSelectAction}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),e&&""!==e&&"https://"!==e&&(videoId=i.extractYoutubeVideoId(e),videoId)){var r="https://www.youtube.com/embed/"+videoId,o='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+r+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",o,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:i.imgOnSelectAction}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return e?"A"===e[0].tagName:!1},onElementSelect:{element:"a",action:i.aOnSelectAction}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),angular.module("picardy.fontawesome",[]).directive("fa",function(){return{restrict:"E",template:'<span class="fa" aria-hidden="true"></span>',replace:!0,link:function(e,t,n){function r(e,r){var i;n.$observe(e,function(){r=r||"fa-"+e,t.removeClass(o[e]),n[e]&&(i=[r,n[e]].join("-"),t.addClass(i),o[e]=i)})}function i(e,r){var i;n.$observe(e,function(){r=r||"fa-"+e,i=e in n&&"false"!==n[e]&&n[e]!==!1,t.toggleClass(r,i)})}var o={};r("name","fa"),r("rotate"),r("flip"),r("stack"),n.$observe("size",function(){var e;t.removeClass(o.size),"large"===n.size?e="fa-lg":isNaN(parseInt(n.size,10))||(e="fa-"+n.size+"x"),t.addClass(e),o.size=e}),n.$observe("stack",function(){var e;t.removeClass(o.stack),"large"===n.stack?e="fa-stack-lg":isNaN(parseInt(n.stack,10))||(e="fa-stack-"+n.stack+"x"),t.addClass(e),o.stack=e}),i("border"),i("fw"),i("inverse"),i("spin"),t.toggleClass("fa-li",t.parent()&&"LI"===t.parent().prop("tagName")&&t.parent().parent()&&t.parent().parent().hasClass("fa-ul")&&t.parent().children()[0]===t[0]&&"false"!==n.list&&n.list!==!1),n.$observe("alt",function(){var e=n.alt,r=t.next(),i="fa-alt-text";e?(t.removeAttr("alt"),r&&r.hasClass(i)||(t.after('<span class="sr-only fa-alt-text"></span>'),r=t.next()),r.text(e)):r&&r.hasClass(i)&&r.remove()})}}}).directive("faStack",function(){return{restrict:"E",transclude:!0,template:'<span ng-transclude class="fa-stack fa-lg"></span>',replace:!0,link:function(e,t,n){function r(e,r){var o;n.$observe(e,function(){r=r||"fa-"+e,t.removeClass(i[e]),n[e]&&(o=[r,n[e]].join("-"),t.addClass(o),i[e]=o)})}var i={};r("size"),n.$observe("size",function(){var e;t.removeClass(i.size),"large"===n.size?e="fa-lg":isNaN(parseInt(n.size,10))||(e="fa-"+n.size+"x"),t.addClass(e),i.size=e})}}}),/*!
 * angular-translate - v2.8.1 - 2015-10-01
 * 
 * Copyright (c) 2015 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,r=!1,i=!1;t={sanitize:function(e,t){return"text"===t&&(e=a(e)),e},escape:function(e,t){return"text"===t&&(e=o(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,a)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,o)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return r=!0,n=e,this},this.$get=["$injector","$log",function(o,a){var s={},l=function(e,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,n);else if(angular.isFunction(t[r]))e=t[r](e,n);else{if(!angular.isString(t[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!s[t[r]])try{s[t[r]]=o.get(t[r])}catch(i){throw s[t[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=s[t[r]](e,n)}}),e},u=function(){r||i||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return o.has("$sanitize")&&(e=o.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,r){if(n||u(),arguments.length<3&&(r=n),!r)return e;var i=angular.isArray(r)?r:[r];return l(e,t,i)}}}];var o=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},a=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t){if(angular.isObject(e)){var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,r){n[r]=s(e,t)}),n}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,r){"use strict";var i,o,a,s,l,u,c,d,p,f,h,m,g,v,y,b={},$=[],w=e,E=[],_="translate-cloak",x=!1,C=!1,k=".",T=!1,S=0,M=!0,A="default",N={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},O="2.8.1",D=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,i=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if(n=i.languages[e],n&&n.length)return n;for(e=0;e<o.length;e++)if(n=i[o[e]],n&&n.length)return n;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var e=D()||"";return N[A]&&(e=N[A](e)),e};I.displayName="angular-translate/service: getLocale";var P=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},R=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(e){for(var t=[],n=angular.lowercase(e),r=0,i=$.length;i>r;r++)t.push(angular.lowercase($[r]));if(P(t,n)>-1)return e;if(o){var a;for(var s in o){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(u||l)&&(a=o[s],P(t,angular.lowercase(a))>-1))return a}}if(e){var c=e.split("_");if(c.length>1&&P(t,angular.lowercase(c[0]))>-1)return c[0]}return e},H=function(e,t){if(!e&&!t)return b;if(e&&!t){if(angular.isString(e))return b[e]}else angular.isObject(b[e])||(b[e]={}),angular.extend(b[e],j(t));return this};this.translations=H,this.cloakClassName=function(e){return e?(_=e,this):_},this.nestedObjectDelimeter=function(e){return e?(k=e,this):k};var j=function(e,t,n,r){var i,o,a,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?j(s,t.concat(i),n,i):(o=t.length?""+t.join(k)+k+i:i,t.length&&i===r&&(a=""+t.join(k),n[a]="@:"+o),n[o]=s));return n};j.displayName="flatObject",this.addInterpolation=function(e){return E.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return f=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(F(e),this):i};var F=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(g=e,this):g},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return B(e),this};var B=function(e){return e?(angular.isString(e)?(s=!0,a=[e]):angular.isArray(e)&&(s=!1,a=e),angular.isString(i)&&P(a,i)<0&&a.push(i),this):s?a[0]:a};this.use=function(e){if(e){if(!b[e]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l};var W=function(e){return e?(w=e,this):d?d+w:w};this.storageKey=W,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return h=e,m=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return x=!!e,this},this.forceAsyncReload=function(e){return C=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},A=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():I();return i=$.length?L(t):t,this},this.registerAvailableLanguageKeys=function(e,t){return e?($=e,t&&(o=t),this):$},this.useLoaderCache=function(e){return e===!1?y=void 0:e===!0?y=!0:"undefined"==typeof e?y="$translationCache":e&&(y=e),this},this.directivePriority=function(e){return void 0===e?S:(S=e,this)},this.statefulFilter=function(e){return void 0===e?M:(M=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var o,d,$,A=t.get(f||"$translateDefaultInterpolation"),N=!1,D={},I={},q=function(e,t,n,s){if(angular.isArray(e)){var u=function(e){for(var i={},o=[],a=function(e){var o=r.defer(),a=function(t){i[e]=t,o.resolve([e,t])};return q(e,t,n,s).then(a,a),o.promise},l=0,u=e.length;u>l;l++)o.push(a(e[l]));return r.all(o).then(function(){return i})};return u(e)}var p=r.defer();e&&(e=R.apply(e));var f=function(){var e=i?I[i]:I[l];if(d=0,c&&!e){var t=o.get(w);if(e=I[t],a&&a.length){var n=P(a,t);d=0===n?1:0,P(a,i)<0&&a.push(i)}}return e}();if(f){var h=function(){nt(e,t,n,s).then(p.resolve,p.reject)};h.displayName="promiseResolved",f["finally"](h,p.reject)}else nt(e,t,n,s).then(p.resolve,p.reject);return p.promise},U=function(e){return g&&(e=[g,e].join(" ")),v&&(e=[e,v].join(" ")),e},G=function(e){l=e,c&&o.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),A.setLocale(l);var t=function(e,t){D[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(D,t),n.$emit("$translateChangeEnd",{language:e})},V=function(e){if(!e)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:e}),N=!0;var o=y;"string"==typeof o&&(o=t.get(o));var a=angular.extend({},m,{key:e,$http:angular.extend({},{cache:o},m.$http)}),s=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(r,j(e))}):angular.extend(r,j(t)),N=!1,i.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(h)(a).then(s,l),i.promise};if(c&&(o=t.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(E.length){var z=function(e){var n=t.get(e);n.setLocale(i||l),D[n.getInterpolationIdentifier()]=n};z.displayName="interpolationFactoryAdder",angular.forEach(E,z)}var K=function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call(b,e))t.resolve(b[e]);else if(I[e]){var n=function(e){H(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",I[e].then(n,t.reject)}else t.reject();return t.promise},Y=function(e,t,n,i){var o=r.defer(),a=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){i.setLocale(e);var a=r[t];"@:"===a.substr(0,2)?Y(e,a.substr(2),n,i).then(o.resolve,o.reject):o.resolve(i.interpolate(r[t],n)),i.setLocale(l)}else o.reject()};return a.displayName="fallbackTranslationResolver",K(e).then(a,o.reject),o.promise},X=function(e,t,n,r){var i,o=b[e];if(o&&Object.prototype.hasOwnProperty.call(o,t)){if(r.setLocale(e),i=r.interpolate(o[t],n),"@:"===i.substr(0,2))return X(e,i.substr(2),n,r);r.setLocale(l)}return i},Z=function(e,n){if(p){var r=t.get(p)(e,l,n);return void 0!==r?r:e}return e},J=function(e,t,n,i,o){var s=r.defer();if(e<a.length){var l=a[e];Y(l,t,n,i).then(s.resolve,function(){J(e+1,t,n,i,o).then(s.resolve)})}else s.resolve(o?o:Z(t,n));return s.promise},Q=function(e,t,n,r){var i;if(e<a.length){var o=a[e];i=X(o,t,n,r),i||(i=Q(e+1,t,n,r))}return i},et=function(e,t,n,r){return J($>0?$:d,e,t,n,r)},tt=function(e,t,n){return Q($>0?$:d,e,t,n)},nt=function(e,t,n,i){var o=r.defer(),s=l?b[l]:b,u=n?D[n]:A;if(s&&Object.prototype.hasOwnProperty.call(s,e)){var c=s[e];"@:"===c.substr(0,2)?q(c.substr(2),t,n,i).then(o.resolve,o.reject):o.resolve(u.interpolate(c,t))}else{var d;p&&!N&&(d=Z(e,t)),l&&a&&a.length?et(e,t,u,i).then(function(e){o.resolve(e)},function(e){o.reject(U(e))}):p&&!N&&d?o.resolve(i?i:d):i?o.resolve(i):o.reject(U(e))}return o.promise},rt=function(e,t,n){var r,i=l?b[l]:b,o=A;if(D&&Object.prototype.hasOwnProperty.call(D,n)&&(o=D[n]),i&&Object.prototype.hasOwnProperty.call(i,e)){var s=i[e];r="@:"===s.substr(0,2)?rt(s.substr(2),t,n):o.interpolate(s,t)}else{var u;p&&!N&&(u=Z(e,t)),l&&a&&a.length?(d=0,r=tt(e,t,o)):r=p&&!N&&u?u:U(e)}return r},it=function(e){u===e&&(u=void 0),I[e]=void 0};q.preferredLanguage=function(e){return e&&F(e),i},q.cloakClassName=function(){return _},q.nestedObjectDelimeter=function(){return k},q.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(B(e),h&&a&&a.length)for(var t=0,n=a.length;n>t;t++)I[a[t]]||(I[a[t]]=V(a[t]));q.use(q.use())}return s?a[0]:a},q.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=P(a,e);t>-1&&($=t)}else $=0},q.proposedLanguage=function(){return u},q.storage=function(){return o},q.use=function(e){if(!e)return l;var t=r.defer();n.$emit("$translateChangeStart",{language:e});var i=L(e);return i&&(e=i),!C&&b[e]||!h||I[e]?u===e&&I[e]?I[e].then(function(e){return t.resolve(e.key),e},function(e){return t.reject(e),r.reject(e)}):(t.resolve(e),G(e)):(u=e,I[e]=V(e).then(function(n){return H(n.key,n.table),t.resolve(n.key),u===e&&G(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)}),I[e]["finally"](function(){it(e)})),t.promise},q.storageKey=function(){return W()},q.isPostCompilingEnabled=function(){return x},q.isForceAsyncReloadEnabled=function(){return C},q.refresh=function(e){function t(){o.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function i(){o.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var o=r.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(b[e]){var s=function(n){H(n.key,n.table),e===l&&G(l),t()};s.displayName="refreshPostProcessor",V(e).then(s,i)}else i();else{var u=[],c={};if(a&&a.length)for(var d=0,p=a.length;p>d;d++)u.push(V(a[d])),c[a[d]]=!0;l&&!c[l]&&u.push(V(l));var f=function(e){b={},angular.forEach(e,function(e){H(e.key,e.table)}),l&&G(l),t()};f.displayName="refreshPostProcessor",r.all(u).then(f,i)}return o.promise},q.instant=function(e,t,n){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var r={},o=0,s=e.length;s>o;o++)r[e[o]]=q.instant(e[o],t,n);return r}if(angular.isString(e)&&e.length<1)return e;e&&(e=R.apply(e));var u,c=[];i&&c.push(i),l&&c.push(l),a&&a.length&&(c=c.concat(a));for(var d=0,f=c.length;f>d;d++){var h=c[d];if(b[h]&&("undefined"!=typeof b[h][e]?u=rt(e,t,n):(g||v)&&(u=U(e))),"undefined"!=typeof u)break}return u||""===u||(u=A.interpolate(e,t),p&&!N&&(u=Z(e,t))),u},q.versionInfo=function(){return O},q.loaderCache=function(){return y},q.directivePriority=function(){return S},q.statefulFilter=function(){return M},q.isReady=function(){return T};var ot=r.defer();ot.promise.then(function(){T=!0}),q.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),T?t.resolve():ot.promise.then(t.resolve),t.promise};var at=n.$on("$translateReady",function(){ot.resolve(),at(),at=null}),st=n.$on("$translateChangeEnd",function(){ot.resolve(),st(),st=null});if(h){if(angular.equals(b,{})&&q.use()&&q.use(q.use()),a&&a.length)for(var lt=function(e){return H(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},ut=0,ct=a.length;ct>ut;ut++){var dt=a[ut];(C||!b[dt])&&(I[dt]=V(dt).then(lt))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function r(e,t){"use strict";var n,r={},i="default";return r.setLocale=function(e){n=e},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},r.interpolate=function(n,r){r=r||{},r=t.sanitize(r,"params");var i=e(n)(r);return i=t.sanitize(i,"text")},r}function i(e,t,n,r,i,a){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,d=t[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",f="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,h,m){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=o(t);var g={},v=function(e,n,r){if(n.translateValues&&angular.extend(e,i(n.translateValues)(t.$parent)),d)for(var o in r)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var a=angular.lowercase(o.substr(14,1))+o.substr(15);e[a]=r[o]}},y=function(e){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var r=s.apply(h.text()),i=r.match(p);if(angular.isArray(i)){t.preText=i[1],t.postText=i[3],g.translate=n(i[2])(t.$parent);var o=r.match(f);angular.isArray(o)&&o[2]&&o[2].length&&(y._unwatchOld=t.$watch(o[2],function(e){g.translate=e,x()}))}else g.translate=r}else g.translate=e;x()},b=function(e){m.$observe(e,function(t){g[e]=t,x()})};v(t.interpolateParams,m,l);var $=!0;m.$observe("translate",function(e){"undefined"==typeof e?y(""):""===e&&$||(g.translate=e,x()),$=!1});for(var w in m)m.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&b(w);if(m.$observe("translateDefault",function(e){t.defaultText=e}),u&&m.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),d){var E=function(e){m.$observe(e,function(n){var r=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[r]=n})};for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&"translateValue"===_.substr(0,14)&&"translateValues"!==_&&E(_)}var x=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&C(e,g[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},C=function(t,n,r,i,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),e(n,i,c,o).then(function(e){k(e,r,!0,t)},function(e){k(e,r,!1,t)})):k(n,r,!1,t)},k=function(t,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(t=n.defaultText),h.empty().append(n.preText+t+n.postText);var a=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,u=s&&"false"!==l.translateCompile;(a&&!s||u)&&r(h.contents())(n)}else{i||"undefined"==typeof n.defaultText||(t=n.defaultText);var c=m.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),h.attr(c,t)}};(u||d||m.translateDefault)&&t.$watch("interpolateParams",x,!0);var T=a.$on("$translateChangeSuccess",x);h.text().length?y(m.translate?m.translate:""):m.translate&&y(m.translate),x(),t.$on("$destroy",T)}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function a(e){"use strict";return{compile:function(t){var n=function(){t.addClass(e.cloakClassName())},r=function(){t.removeClass(e.cloakClassName())};return e.onReady(function(){r()}),n(),function(t,i,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(t){e(t).then(r,n)})}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=o(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function l(e,t){"use strict";var n=function(n,r,i){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,i)};return t.statefulFilter()&&(n.$stateful=!0),n}function u(e){"use strict";return e("translations")}return angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.$inject=["$translate"],a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",l),l.$inject=["$parse","$translate"],l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.$inject=["$cacheFactory"],u.displayName="$translationCache","pascalprecht.translate"}),/**
* please-wait
* Display a nice loading screen while your app loads

* @author Pathgather <tech@pathgather.com>
* @copyright Pathgather 2015
* @license MIT <http://opensource.org/licenses/mit-license.php>
* @link https://github.com/Pathgather/please-wait
* @module please-wait
* @version 0.0.5
*/
function(e,t){"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e)}(this,function(e){var t,n,r,i,o,a,s,l,u,c,d,p,f,h,m,g;a=document.createElement("fakeelement"),i=!1,f=!1,r="animationend",p=null,o="Webkit Moz O ms".split(" "),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(s in d)if(h=d[s],null!=a.style[s]){p=h,f=!0;break}if(null!=a.style.animationName&&(i=!0),!i)for(m=0,g=o.length;g>m;m++)if(l=o[m],null!=a.style[""+l+"AnimationName"]){switch(l){case"Webkit":r="webkitAnimationEnd";break;case"Moz":r="animationend";break;case"O":r="oanimationend";break;case"ms":r="MSAnimationEnd"}i=!0;break}return n=function(e,t){return t.classList?t.classList.add(e):t.className+=" "+e},c=function(e,t){return t.classList?t.classList.remove(e):t.className=t.className.replace(e,"").trim()},t=function(){function e(e){var t,o,a,s;t=this.constructor._defaultOptions,this.options={},this.loaded=!1,this.finishing=!1;for(o in t)s=t[o],this.options[o]=null!=e[o]?e[o]:s;this._loadingElem=document.createElement("div"),this._loadingHtmlToDisplay=[],this._loadingElem.className="pg-loading-screen",null!=this.options.backgroundColor&&(this._loadingElem.style.backgroundColor=this.options.backgroundColor),this._loadingElem.innerHTML=this.options.template,this._loadingHtmlElem=this._loadingElem.getElementsByClassName("pg-loading-html")[0],null!=this._loadingHtmlElem&&(this._loadingHtmlElem.innerHTML=this.options.loadingHtml),this._readyToShowLoadingHtml=!1,this._logoElem=this._loadingElem.getElementsByClassName("pg-loading-logo")[0],null!=this._logoElem&&(this._logoElem.src=this.options.logo),c("pg-loaded",document.body),n("pg-loading",document.body),document.body.appendChild(this._loadingElem),n("pg-loading",this._loadingElem),this._onLoadedCallback=this.options.onLoadedCallback,a=function(e){return function(t){return e.loaded=!0,e._readyToShowLoadingHtml=!0,n("pg-loaded",e._loadingHtmlElem),i&&e._loadingHtmlElem.removeEventListener(r,a),e._loadingHtmlToDisplay.length>0&&e._changeLoadingHtml(),e.finishing?(null!=t&&t.stopPropagation(),e._finish()):void 0}}(this),null!=this._loadingHtmlElem&&(i?this._loadingHtmlElem.addEventListener(r,a):a(),this._loadingHtmlListener=function(e){return function(){return e._readyToShowLoadingHtml=!0,c("pg-loading",e._loadingHtmlElem),f&&e._loadingHtmlElem.removeEventListener(p,e._loadingHtmlListener),e._loadingHtmlToDisplay.length>0?e._changeLoadingHtml():void 0}}(this),this._removingHtmlListener=function(e){return function(){return e._loadingHtmlElem.innerHTML=e._loadingHtmlToDisplay.shift(),c("pg-removing",e._loadingHtmlElem),n("pg-loading",e._loadingHtmlElem),f?(e._loadingHtmlElem.removeEventListener(p,e._removingHtmlListener),e._loadingHtmlElem.addEventListener(p,e._loadingHtmlListener)):e._loadingHtmlListener()}}(this))}return e._defaultOptions={backgroundColor:null,logo:null,loadingHtml:null,template:"<div class='pg-loading-inner'>\n  <div class='pg-loading-center-outer'>\n    <div class='pg-loading-center-middle'>\n      <h1 class='pg-loading-logo-header'>\n        <img class='pg-loading-logo'></img>\n      </h1>\n      <div class='pg-loading-html'>\n      </div>\n    </div>\n  </div>\n</div>",onLoadedCallback:null},e.prototype.finish=function(e,t){return null==e&&(e=!1),window.document.hidden&&(e=!0),this.finishing=!0,null!=t&&this.updateOption("onLoadedCallback",t),this.loaded||e?this._finish(e):void 0},e.prototype.updateOption=function(e,t){switch(e){case"backgroundColor":return this._loadingElem.style.backgroundColor=t;case"logo":return this._logoElem.src=t;case"loadingHtml":return this.updateLoadingHtml(t);case"onLoadedCallback":return this._onLoadedCallback=t;default:throw new Error("Unknown option '"+e+"'")}},e.prototype.updateOptions=function(e){var t,n,r;null==e&&(e={}),r=[];for(t in e)n=e[t],r.push(this.updateOption(t,n));return r},e.prototype.updateLoadingHtml=function(e,t){if(null==t&&(t=!1),null==this._loadingHtmlElem)throw new Error("The loading template does not have an element of class 'pg-loading-html'");return t?(this._loadingHtmlToDisplay=[e],this._readyToShowLoadingHtml=!0):this._loadingHtmlToDisplay.push(e),this._readyToShowLoadingHtml?this._changeLoadingHtml():void 0},e.prototype._changeLoadingHtml=function(){return this._readyToShowLoadingHtml=!1,this._loadingHtmlElem.removeEventListener(p,this._loadingHtmlListener),this._loadingHtmlElem.removeEventListener(p,this._removingHtmlListener),c("pg-loading",this._loadingHtmlElem),c("pg-removing",this._loadingHtmlElem),f?(n("pg-removing",this._loadingHtmlElem),this._loadingHtmlElem.addEventListener(p,this._removingHtmlListener)):this._removingHtmlListener()},e.prototype._finish=function(e){var t;return null==e&&(e=!1),null!=this._loadingElem?(n("pg-loaded",document.body),"function"==typeof this._onLoadedCallback&&this._onLoadedCallback.apply(this),t=function(e){return function(){return document.body.removeChild(e._loadingElem),c("pg-loading",document.body),i&&e._loadingElem.removeEventListener(r,t),e._loadingElem=null}}(this),!e&&i?(n("pg-loaded",this._loadingElem),this._loadingElem.addEventListener(r,t)):t()):void 0},e}(),u=function(e){return null==e&&(e={}),new t(e)},e.pleaseWait=u,u}),angular.module("angular-bootstrap-select.extra",[]).directive("toggle",function(){return{restrict:"A",link:function(e,t){if(t.hasClass("selectpicker")){var n=t.parent(),r=function(){n.toggleClass("open")},i=function(){n.removeClass("open")};t.on("click",r),t.next().on("click",i),e.$on("$destroy",function(){t.off("click",r),t.next().off("click",i)})}}}}),angular.module("angular-bootstrap-select",[]).directive("selectpicker",["$parse",function(e){return{restrict:"A",require:"?ngModel",priority:10,compile:function(t,n){return t.selectpicker(e(n.selectpicker)()),t.selectpicker("refresh"),function(e,t,n,r){r&&(e.$watch(n.ngModel,function(r){e.$evalAsync(function(){(!n.ngOptions||/track by/.test(n.ngOptions))&&t.val(r),t.selectpicker("refresh")})}),r.$render=function(){e.$evalAsync(function(){t.selectpicker("refresh")})})}}}}]);